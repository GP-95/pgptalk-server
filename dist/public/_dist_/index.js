var Zp=Object.defineProperty;var Xp=(t,e)=>{for(var r in e)Zp(t,r,{get:e[r],enumerable:!0})};var Mc={};Xp(Mc,{MODE:()=>Jp,NODE_ENV:()=>Qp,SSR:()=>ex});var Jp="production",Qp="production",ex=!1;function ft(){}var Hi=t=>t;function Br(t,e){for(let r in e)t[r]=e[r];return t}function ku(t){return t()}function Su(){return Object.create(null)}function Vt(t){t.forEach(ku)}function Zr(t){return typeof t=="function"}function At(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function tx(t){return Object.keys(t).length===0}function Bc(t,...e){if(t==null)return ft;let r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function Tr(t,e,r){t.$$.on_destroy.push(Bc(e,r))}function Wi(t,e,r,n){if(t){let i=Eu(t,e,r,n);return t[0](i)}}function Eu(t,e,r,n){return t[1]&&n?Br(r.ctx.slice(),t[1](n(e))):r.ctx}function rx(t,e,r,n){if(t[2]&&n){let i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],s=Math.max(e.dirty.length,i.length);for(let o=0;o<s;o+=1)a[o]=e.dirty[o]|i[o];return a}return e.dirty|i}return e.dirty}function Yi(t,e,r,n,i,a,s){let o=rx(e,n,i,a);if(o){let f=Eu(e,r,n,s);t.p(f,o)}}function gs(t){let e={};for(let r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function lr(t){return t??""}function vs(t,e,r=e){return t.set(r),e}var Cu=typeof window!="undefined",b0=Cu?()=>window.performance.now():()=>Date.now(),Tc=Cu?t=>requestAnimationFrame(t):ft,Aa=new Set;function Pu(t){Aa.forEach(e=>{e.c(t)||(Aa.delete(e),e.f())}),Aa.size!==0&&Tc(Pu)}function p0(t){let e;return Aa.size===0&&Tc(Pu),{promise:new Promise(r=>{Aa.add(e={c:t,f:r})}),abort(){Aa.delete(e)}}}function ke(t,e){t.appendChild(e)}function dt(t,e,r){t.insertBefore(e,r||null)}function ot(t){t.parentNode.removeChild(t)}function Ic(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function Me(t){return document.createElement(t)}function Ft(t){return document.createTextNode(t)}function nt(){return Ft(" ")}function ws(){return Ft("")}function kt(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function Dc(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Kc(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function ve(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function nx(t){return Array.from(t.childNodes)}function mr(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Zt(t,e){t.value=e??""}function Ru(t,e){let r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!1,e),r}var Uc=new Set,_s=0;function ix(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function zc(t,e,r,n,i,a,s,o=0){let f=16.666/n,c=`{
`;for(let O=0;O<=1;O+=f){let T=e+(r-e)*a(O);c+=O*100+`%{${s(T,1-T)}}
`}let d=c+`100% {${s(r,1-r)}}
}`,u=`__svelte_${ix(d)}_${o}`,b=t.ownerDocument;Uc.add(b);let x=b.__svelte_stylesheet||(b.__svelte_stylesheet=b.head.appendChild(Me("style")).sheet),A=b.__svelte_rules||(b.__svelte_rules={});A[u]||(A[u]=!0,x.insertRule(`@keyframes ${u} ${d}`,x.cssRules.length));let S=t.style.animation||"";return t.style.animation=`${S?`${S}, `:""}${u} ${n}ms linear ${i}ms 1 both`,_s+=1,u}function As(t,e){let r=(t.style.animation||"").split(", "),n=r.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),i=r.length-n.length;i&&(t.style.animation=n.join(", "),_s-=i,_s||ax())}function ax(){Tc(()=>{_s||(Uc.forEach(t=>{let e=t.__svelte_stylesheet,r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.__svelte_rules={}}),Uc.clear())})}function Mu(t,e,r,n){if(!e)return ft;let i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return ft;let{delay:a=0,duration:s=300,easing:o=Hi,start:f=b0()+a,end:c=f+s,tick:d=ft,css:u}=r(t,{from:e,to:i},n),b=!0,x=!1,A;function S(){u&&(A=zc(t,0,1,s,a,o,u)),a||(x=!0)}function O(){u&&As(t,A),b=!1}return p0(T=>{if(!x&&T>=f&&(x=!0),x&&T>=c&&(d(1,0),O()),!b)return!1;if(x){let Q=T-f,ne=0+1*o(Q/s);d(ne,1-ne)}return!0}),S(),d(0,1),O}function Bu(t){let e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){let{width:r,height:n}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=r,t.style.height=n,Fc(t,i)}}function Fc(t,e){let r=t.getBoundingClientRect();if(e.left!==r.left||e.top!==r.top){let n=getComputedStyle(t),i=n.transform==="none"?"":n.transform;t.style.transform=`${i} translate(${e.left-r.left}px, ${e.top-r.top}px)`}}var ks;function Ss(t){ks=t}function Tu(){if(!ks)throw new Error("Function called outside component initialization");return ks}function Iu(t){Tu().$$.after_update.push(t)}function Du(){let t=Tu();return(e,r)=>{let n=t.$$.callbacks[e];if(n){let i=Ru(e,r);n.slice().forEach(a=>{a.call(t,i)})}}}function ii(t,e){let r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n(e))}var x0=[],ai=[],Es=[],Oc=[],Ku=Promise.resolve(),Nc=!1;function zu(){Nc||(Nc=!0,Ku.then(Uu))}function Fu(){return zu(),Ku}function Gi(t){Es.push(t)}function ka(t){Oc.push(t)}var qc=!1,Lc=new Set;function Uu(){if(!qc){qc=!0;do{for(let t=0;t<x0.length;t+=1){let e=x0[t];Ss(e),sx(e.$$)}for(Ss(null),x0.length=0;ai.length;)ai.pop()();for(let t=0;t<Es.length;t+=1){let e=Es[t];Lc.has(e)||(Lc.add(e),e())}Es.length=0}while(x0.length);for(;Oc.length;)Oc.pop()();Nc=!1,qc=!1,Lc.clear()}}function sx(t){if(t.fragment!==null){t.update(),Vt(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Gi)}}var y0;function Ou(){return y0||(y0=Promise.resolve(),y0.then(()=>{y0=null})),y0}function Cs(t,e,r){t.dispatchEvent(Ru(`${e?"intro":"outro"}${r}`))}var Ps=new Set,si;function Ir(){si={r:0,c:[],p:si}}function Dr(){si.r||Vt(si.c),si=si.p}function Ve(t,e){t&&t.i&&(Ps.delete(t),t.i(e))}function Qe(t,e,r,n){if(t&&t.o){if(Ps.has(t))return;Ps.add(t),si.c.push(()=>{Ps.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}var Nu={duration:0};function qu(t,e,r){let n=e(t,r),i=!1,a,s,o=0;function f(){a&&As(t,a)}function c(){let{delay:u=0,duration:b=300,easing:x=Hi,tick:A=ft,css:S}=n||Nu;S&&(a=zc(t,0,1,b,u,x,S,o++)),A(0,1);let O=b0()+u,T=O+b;s&&s.abort(),i=!0,Gi(()=>Cs(t,!0,"start")),s=p0(Q=>{if(i){if(Q>=T)return A(1,0),Cs(t,!0,"end"),f(),i=!1;if(Q>=O){let ne=x((Q-O)/b);A(ne,1-ne)}}return i})}let d=!1;return{start(){d||(As(t),Zr(n)?(n=n(),Ou().then(c)):c())},invalidate(){d=!1},end(){i&&(f(),i=!1)}}}function Lu(t,e,r){let n=e(t,r),i=!0,a,s=si;s.r+=1;function o(){let{delay:f=0,duration:c=300,easing:d=Hi,tick:u=ft,css:b}=n||Nu;b&&(a=zc(t,1,0,c,f,d,b));let x=b0()+f,A=x+c;Gi(()=>Cs(t,!1,"start")),p0(S=>{if(i){if(S>=A)return u(0,1),Cs(t,!1,"end"),--s.r||Vt(s.c),!1;if(S>=x){let O=d((S-x)/c);u(1-O,O)}}return i})}return Zr(n)?Ou().then(()=>{n=n(),o()}):o(),{end(f){f&&n.tick&&n.tick(1,0),i&&(a&&As(t,a),i=!1)}}}function ox(t,e){Qe(t,1,1,()=>{e.delete(t.key)})}function ju(t,e){t.f(),ox(t,e)}function $u(t,e,r,n,i,a,s,o,f,c,d,u){let b=t.length,x=a.length,A=b,S={};for(;A--;)S[t[A].key]=A;let O=[],T=new Map,Q=new Map;for(A=x;A--;){let te=u(i,a,A),re=r(te),J=s.get(re);J?n&&J.p(te,e):(J=c(re,te),J.c()),T.set(re,O[A]=J),re in S&&Q.set(re,Math.abs(A-S[re]))}let ne=new Set,F=new Set;function X(te){Ve(te,1),te.m(o,d),s.set(te.key,te),d=te.first,x--}for(;b&&x;){let te=O[x-1],re=t[b-1],J=te.key,se=re.key;te===re?(d=te.first,b--,x--):T.has(se)?!s.has(J)||ne.has(J)?X(te):F.has(se)?b--:Q.get(J)>Q.get(se)?(F.add(J),X(te)):(ne.add(se),b--):(f(re,s),b--)}for(;b--;){let te=t[b];T.has(te.key)||f(te,s)}for(;x;)X(O[x-1]);return O}function jc(t,e){let r={},n={},i={$$scope:1},a=t.length;for(;a--;){let s=t[a],o=e[a];if(o){for(let f in s)f in o||(n[f]=1);for(let f in o)i[f]||(r[f]=o[f],i[f]=1);t[a]=o}else for(let f in s)i[f]=1}for(let s in n)s in r||(r[s]=void 0);return r}function $c(t){return typeof t=="object"&&t!==null?t:{}}function Sa(t,e,r){let n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function wt(t){t&&t.c()}function gt(t,e,r,n){let{fragment:i,on_mount:a,on_destroy:s,after_update:o}=t.$$;i&&i.m(e,r),n||Gi(()=>{let f=a.map(ku).filter(Zr);s?s.push(...f):Vt(f),t.$$.on_mount=[]}),o.forEach(Gi)}function vt(t,e){let r=t.$$;r.fragment!==null&&(Vt(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function cx(t,e){t.$$.dirty[0]===-1&&(x0.push(t),zu(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Tt(t,e,r,n,i,a,s=[-1]){let o=ks;Ss(t);let f=t.$$={fragment:null,ctx:null,props:a,update:ft,not_equal:i,bound:Su(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o?o.$$.context:[]),callbacks:Su(),dirty:s,skip_bound:!1},c=!1;if(f.ctx=r?r(t,e.props||{},(d,u,...b)=>{let x=b.length?b[0]:u;return f.ctx&&i(f.ctx[d],f.ctx[d]=x)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](x),c&&cx(t,d)),u}):[],f.update(),c=!0,Vt(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){let d=nx(e.target);f.fragment&&f.fragment.l(d),d.forEach(ot)}else f.fragment&&f.fragment.c();e.intro&&Ve(t.$$.fragment),gt(t,e.target,e.anchor,e.customElement),Uu()}Ss(o)}var Pt=class{$destroy(){vt(this,1),this.$destroy=ft}$on(e,r){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!tx(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var Ea=[];function Hc(t,e){return{subscribe:oi(t,e).subscribe}}function oi(t,e=ft){let r,n=[];function i(o){if(At(t,o)&&(t=o,r)){let f=!Ea.length;for(let c=0;c<n.length;c+=1){let d=n[c];d[1](),Ea.push(d,t)}if(f){for(let c=0;c<Ea.length;c+=2)Ea[c][0](Ea[c+1]);Ea.length=0}}}function a(o){i(o(t))}function s(o,f=ft){let c=[o,f];return n.push(c),n.length===1&&(r=e(i)||ft),o(t),()=>{let d=n.indexOf(c);d!==-1&&n.splice(d,1),n.length===0&&(r(),r=null)}}return{set:i,update:a,subscribe:s}}function Wc(t,e,r){let n=!Array.isArray(t),i=n?[t]:t,a=e.length<2;return Hc(r,s=>{let o=!1,f=[],c=0,d=ft,u=()=>{if(c)return;d();let x=e(n?f[0]:f,s);a?s(x):d=Zr(x)?x:ft},b=i.map((x,A)=>Bc(x,S=>{f[A]=S,c&=~(1<<A),o&&u()},()=>{c|=1<<A}));return o=!0,u(),function(){Vt(b),d()}})}function fx(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,a,s=[],o="",f=t.split("/");for(f[0]||f.shift();i=f.shift();)r=i[0],r==="*"?(s.push("wild"),o+="/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),s.push(i.substring(1,~n?n:~a?a:i.length)),o+=!!~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~n?"?":"")+"\\"+i.substring(a))):o+="/"+i;return{keys:s,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function dx(t){let e,r,n,i=[t[2]];var a=t[0];function s(o){let f={};for(let c=0;c<i.length;c+=1)f=Br(f,i[c]);return{props:f}}return a&&(e=new a(s()),e.$on("routeEvent",t[7])),{c(){e&&wt(e.$$.fragment),r=ws()},m(o,f){e&&gt(e,o,f),dt(o,r,f),n=!0},p(o,f){let c=f&4?jc(i,[$c(o[2])]):{};if(a!==(a=o[0])){if(e){Ir();let d=e;Qe(d.$$.fragment,1,0,()=>{vt(d,1)}),Dr()}a?(e=new a(s()),e.$on("routeEvent",o[7]),wt(e.$$.fragment),Ve(e.$$.fragment,1),gt(e,r.parentNode,r)):e=null}else a&&e.$set(c)},i(o){n||(e&&Ve(e.$$.fragment,o),n=!0)},o(o){e&&Qe(e.$$.fragment,o),n=!1},d(o){o&&ot(r),e&&vt(e,o)}}}function ux(t){let e,r,n,i=[{params:t[1]},t[2]];var a=t[0];function s(o){let f={};for(let c=0;c<i.length;c+=1)f=Br(f,i[c]);return{props:f}}return a&&(e=new a(s()),e.$on("routeEvent",t[6])),{c(){e&&wt(e.$$.fragment),r=ws()},m(o,f){e&&gt(e,o,f),dt(o,r,f),n=!0},p(o,f){let c=f&6?jc(i,[f&2&&{params:o[1]},f&4&&$c(o[2])]):{};if(a!==(a=o[0])){if(e){Ir();let d=e;Qe(d.$$.fragment,1,0,()=>{vt(d,1)}),Dr()}a?(e=new a(s()),e.$on("routeEvent",o[6]),wt(e.$$.fragment),Ve(e.$$.fragment,1),gt(e,r.parentNode,r)):e=null}else a&&e.$set(c)},i(o){n||(e&&Ve(e.$$.fragment,o),n=!0)},o(o){e&&Qe(e.$$.fragment,o),n=!1},d(o){o&&ot(r),e&&vt(e,o)}}}function lx(t){let e,r,n,i,a=[ux,dx],s=[];function o(f,c){return f[1]?0:1}return e=o(t),r=s[e]=a[e](t),{c(){r.c(),n=ws()},m(f,c){s[e].m(f,c),dt(f,n,c),i=!0},p(f,[c]){let d=e;e=o(f),e===d?s[e].p(f,c):(Ir(),Qe(s[d],1,1,()=>{s[d]=null}),Dr(),r=s[e],r?r.p(f,c):(r=s[e]=a[e](f),r.c()),Ve(r,1),r.m(n.parentNode,n))},i(f){i||(Ve(r),i=!0)},o(f){Qe(r),i=!1},d(f){s[e].d(f),f&&ot(n)}}}function Hu(){let t=window.location.href.indexOf("#/"),e=t>-1?window.location.href.substr(t+1):"/",r=e.indexOf("?"),n="";return r>-1&&(n=e.substr(r+1),e=e.substr(0,r)),{location:e,querystring:n}}var Yc=Hc(null,function(e){e(Hu());let r=()=>{e(Hu())};return window.addEventListener("hashchange",r,!1),function(){window.removeEventListener("hashchange",r,!1)}}),lv=Wc(Yc,t=>t.location),hv=Wc(Yc,t=>t.querystring);function hx(t,e,r){let{routes:n={}}=e,{prefix:i=""}=e,{restoreScrollState:a=!1}=e;class s{constructor(ne,F){if(!F||typeof F!="function"&&(typeof F!="object"||F._sveltesparouter!==!0))throw Error("Invalid component object");if(!ne||typeof ne=="string"&&(ne.length<1||ne.charAt(0)!="/"&&ne.charAt(0)!="*")||typeof ne=="object"&&!(ne instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');let{pattern:X,keys:te}=fx(ne);this.path=ne,typeof F=="object"&&F._sveltesparouter===!0?(this.component=F.component,this.conditions=F.conditions||[],this.userData=F.userData,this.props=F.props||{}):(this.component=()=>Promise.resolve(F),this.conditions=[],this.props={}),this._pattern=X,this._keys=te}match(ne){if(i){if(typeof i=="string")if(ne.startsWith(i))ne=ne.substr(i.length)||"/";else return null;else if(i instanceof RegExp){let re=ne.match(i);if(re&&re[0])ne=ne.substr(re[0].length)||"/";else return null}}let F=this._pattern.exec(ne);if(F===null)return null;if(this._keys===!1)return F;let X={},te=0;for(;te<this._keys.length;){try{X[this._keys[te]]=decodeURIComponent(F[te+1]||"")||null}catch(re){X[this._keys[te]]=null}te++}return X}async checkConditions(ne){for(let F=0;F<this.conditions.length;F++)if(!await this.conditions[F](ne))return!1;return!0}}let o=[];n instanceof Map?n.forEach((Q,ne)=>{o.push(new s(ne,Q))}):Object.keys(n).forEach(Q=>{o.push(new s(Q,n[Q]))});let f=null,c=null,d={},u=Du();async function b(Q,ne){await Fu(),u(Q,ne)}let x=null;a&&(window.addEventListener("popstate",Q=>{Q.state&&Q.state.scrollY?x=Q.state:x=null}),Iu(()=>{x?window.scrollTo(x.scrollX,x.scrollY):window.scrollTo(0,0)}));let A=null,S=null;Yc.subscribe(async Q=>{A=Q;let ne=0;for(;ne<o.length;){let F=o[ne].match(Q.location);if(!F){ne++;continue}let X={route:o[ne].path,location:Q.location,querystring:Q.querystring,userData:o[ne].userData};if(!await o[ne].checkConditions(X)){r(0,f=null),S=null,b("conditionsFailed",X);return}b("routeLoading",Object.assign({},X));let te=o[ne].component;if(S!=te){te.loading?(r(0,f=te.loading),S=te,r(1,c=te.loadingParams),r(2,d={}),b("routeLoaded",Object.assign({},X,{component:f,name:f.name}))):(r(0,f=null),S=null);let re=await te();if(Q!=A)return;r(0,f=re&&re.default||re),S=te}F&&typeof F=="object"&&Object.keys(F).length?r(1,c=F):r(1,c=null),r(2,d=o[ne].props),b("routeLoaded",Object.assign({},X,{component:f,name:f.name}));return}r(0,f=null),S=null});function O(Q){ii(t,Q)}function T(Q){ii(t,Q)}return t.$$set=Q=>{"routes"in Q&&r(3,n=Q.routes),"prefix"in Q&&r(4,i=Q.prefix),"restoreScrollState"in Q&&r(5,a=Q.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=a?"manual":"auto")},[f,c,d,n,i,a,O,T]}var Wu=class extends Pt{constructor(e){super();Tt(this,e,hx,lx,At,{routes:3,prefix:4,restoreScrollState:5})}},Yu=Wu;var bx=t=>({}),Gu=t=>({}),px=t=>({}),Vu=t=>({});function xx(t){let e,r,n,i,a,s,o,f,c,d,u,b=t[3].icon,x=Wi(b,t,t[2],Vu),A=t[3].text,S=Wi(A,t,t[2],Gu);return{c(){e=Me("div"),r=Me("div"),n=Me("label"),i=Me("input"),a=nt(),s=Me("span"),o=nt(),x&&x.c(),f=nt(),S&&S.c(),ve(i,"type","checkbox"),i.disabled=t[1],ve(i,"class","svelte-1s2rdvw"),ve(s,"class","svelteit-slider min-w-min svelte-1s2rdvw"),ve(n,"class","svelteit-switch min-w-min mr-1 svelte-1s2rdvw"),ve(r,"class","flex"),ve(e,"class","flex flex-col justify-center text-center items-center w-7/12")},m(O,T){dt(O,e,T),ke(e,r),ke(r,n),ke(n,i),i.checked=t[0],ke(n,a),ke(n,s),ke(r,o),x&&x.m(r,null),ke(e,f),S&&S.m(e,null),c=!0,d||(u=kt(i,"change",t[4]),d=!0)},p(O,[T]){(!c||T&2)&&(i.disabled=O[1]),T&1&&(i.checked=O[0]),x&&x.p&&T&4&&Yi(x,b,O,O[2],T,px,Vu),S&&S.p&&T&4&&Yi(S,A,O,O[2],T,bx,Gu)},i(O){c||(Ve(x,O),Ve(S,O),c=!0)},o(O){Qe(x,O),Qe(S,O),c=!1},d(O){O&&ot(e),x&&x.d(O),S&&S.d(O),d=!1,u()}}}function yx(t,e,r){let{$$slots:n={},$$scope:i}=e,{checked:a=!1}=e,{disabled:s=!1}=e;function o(){a=this.checked,r(0,a)}return t.$$set=f=>{"checked"in f&&r(0,a=f.checked),"disabled"in f&&r(1,s=f.disabled),"$$scope"in f&&r(2,i=f.$$scope)},[a,s,i,n,o]}var Zu=class extends Pt{constructor(e){super();Tt(this,e,yx,xx,At,{checked:0,disabled:1})}},Gc=Zu;function mx(t){let e,r,n,i,a;return{c(){e=Me("button"),r=Ft(t[0]),ve(e,"class",n=`${t[1]} rounded my-1 focus:outline-none ${t[6]} ${t[7]} ${t[4]} ${t[5]} text-${t[3]} text-center hover:${t[2]}`)},m(s,o){dt(s,e,o),ke(e,r),i||(a=kt(e,"click",t[8]),i=!0)},p(s,[o]){o&1&&mr(r,s[0]),o&254&&n!==(n=`${s[1]} rounded my-1 focus:outline-none ${s[6]} ${s[7]} ${s[4]} ${s[5]} text-${s[3]} text-center hover:${s[2]}`)&&ve(e,"class",n)},i:ft,o:ft,d(s){s&&ot(e),i=!1,a()}}}function gx(t,e,r){let{buttonName:n="Click Me"}=e,{backgroundColor:i="bg-purple-600"}=e,{backgroundHoverColor:a="bg-purple-700"}=e,{textColor:s="white"}=e,{paddingY:o="py-1"}=e,{paddingX:f="px-3"}=e,{textSize:c="text-base"}=e,{width:d=""}=e;function u(b){ii(t,b)}return t.$$set=b=>{"buttonName"in b&&r(0,n=b.buttonName),"backgroundColor"in b&&r(1,i=b.backgroundColor),"backgroundHoverColor"in b&&r(2,a=b.backgroundHoverColor),"textColor"in b&&r(3,s=b.textColor),"paddingY"in b&&r(4,o=b.paddingY),"paddingX"in b&&r(5,f=b.paddingX),"textSize"in b&&r(6,c=b.textSize),"width"in b&&r(7,d=b.width)},[n,i,a,s,o,f,c,d,u]}var Xu=class extends Pt{constructor(e){super();Tt(this,e,gx,mx,At,{buttonName:0,backgroundColor:1,backgroundHoverColor:2,textColor:3,paddingY:4,paddingX:5,textSize:6,width:7})}},Pn=Xu;var vx=t=>({}),Ju=t=>({}),wx=t=>({}),Qu=t=>({});function _x(t){let e,r,n,i,a,s,o,f,c,d,u=t[3].content,b=Wi(u,t,t[2],Qu);a=new Pn({props:{buttonName:"Close",backgroundColor:"bg-red-600",backgroundHoverColor:"bg-red-800",textSize:"text-lg",paddingX:"px-6"}}),a.$on("click",t[5]);let x=t[3].button,A=Wi(x,t,t[2],Ju);return{c(){e=Me("main"),r=Me("section"),b&&b.c(),n=nt(),i=Me("div"),wt(a.$$.fragment),s=nt(),A&&A.c(),ve(i,"class",o=""+(lr(`flex ${t[1].button?"justify-between":"justify-center"} w-3/5 mx-auto max-h-14 mb-3`)+" svelte-g9q84z")),ve(r,"class","h-4/5 bg-gray-200 rounded p-5 flex flex-col justify-between items-center w-11/12 sm:w-9/12 lg:w-6/12"),ve(e,"class","backdrop svelte-g9q84z")},m(S,O){dt(S,e,O),ke(e,r),b&&b.m(r,null),ke(r,n),ke(r,i),gt(a,i,null),ke(i,s),A&&A.m(i,null),f=!0,c||(d=[kt(r,"click",Kc(t[4])),kt(e,"click",t[6])],c=!0)},p(S,[O]){b&&b.p&&O&4&&Yi(b,u,S,S[2],O,wx,Qu),A&&A.p&&O&4&&Yi(A,x,S,S[2],O,vx,Ju),(!f||O&2&&o!==(o=""+(lr(`flex ${S[1].button?"justify-between":"justify-center"} w-3/5 mx-auto max-h-14 mb-3`)+" svelte-g9q84z")))&&ve(i,"class",o)},i(S){f||(Ve(b,S),Ve(a.$$.fragment,S),Ve(A,S),f=!0)},o(S){Qe(b,S),Qe(a.$$.fragment,S),Qe(A,S),f=!1},d(S){S&&ot(e),b&&b.d(S),vt(a),A&&A.d(S),c=!1,Vt(d)}}}function Ax(t,e,r){let{$$slots:n={},$$scope:i}=e,{toggle:a=!1}=e;function s(c){ii(t,c)}let o=()=>r(0,a=!a),f=()=>r(0,a=!a);return t.$$set=c=>{r(1,e=Br(Br({},e),gs(c))),"toggle"in c&&r(0,a=c.toggle),"$$scope"in c&&r(2,i=c.$$scope)},e=gs(e),[a,e,i,n,s,o,f]}var el=class extends Pt{constructor(e){super();Tt(this,e,Ax,_x,At,{toggle:0})}},Vc=el;function tl(t){let e=t-1;return e*e*e+1}function kx(t,{delay:e=0,duration:r=400,easing:n=Hi}={}){let i=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:a=>`opacity: ${a*i}`}}function Sx(t,{delay:e=0,duration:r=400,easing:n=tl,x:i=0,y:a=0,opacity:s=0}={}){let o=getComputedStyle(t),f=+o.opacity,c=o.transform==="none"?"":o.transform,d=f*(1-s);return{delay:e,duration:r,easing:n,css:(u,b)=>`
			transform: ${c} translate(${(1-u)*i}px, ${(1-u)*a}px);
			opacity: ${f-d*b}`}}function Ex(t,e,r={}){let n=getComputedStyle(t),i=n.transform==="none"?"":n.transform,a=e.from.width/t.clientWidth,s=e.from.height/t.clientHeight,o=(e.from.left-e.to.left)/a,f=(e.from.top-e.to.top)/s,c=Math.sqrt(o*o+f*f),{delay:d=0,duration:u=x=>Math.sqrt(x)*120,easing:b=tl}=r;return{delay:d,duration:Zr(u)?u(c):u,easing:b,css:(x,A)=>`transform: ${i} translate(${A*o}px, ${A*f}px);`}}var Cx=()=>{let{subscribe:t,update:e}=oi([]),r=0,n={};return{subscribe:t,push:(f,c={})=>{let d={id:++r,msg:f,...n,...c,theme:{...n.theme,...c.theme}};return e(u=>d.reversed?[...u,d]:[d,...u]),r},pop:f=>{e(c=>f?c.filter(d=>d.id!==f):c.splice(1))},set:(f,c)=>{e(d=>{let u=d.findIndex(b=>b.id===f);return u>-1&&(d[u]={...d[u],...c}),d})},_opts:(f={})=>(n={...n,...f,theme:{...n.theme,...f.theme}},n)}},Kr=Cx();function rl(t){return Object.prototype.toString.call(t)==="[object Date]"}function Zc(t,e){if(t===e||t!==t)return()=>t;let r=typeof t;if(r!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){let n=e.map((i,a)=>Zc(t[a],i));return i=>n.map(a=>a(i))}if(r==="object"){if(!t||!e)throw new Error("Object cannot be null");if(rl(t)&&rl(e)){t=t.getTime(),e=e.getTime();let a=e-t;return s=>new Date(t+s*a)}let n=Object.keys(e),i={};return n.forEach(a=>{i[a]=Zc(t[a],e[a])}),a=>{let s={};return n.forEach(o=>{s[o]=i[o](a)}),s}}if(r==="number"){let n=e-t;return i=>t+i*n}throw new Error(`Cannot interpolate ${r} values`)}function Px(t,e={}){let r=oi(t),n,i=t;function a(s,o){if(t==null)return r.set(t=s),Promise.resolve();i=s;let f=n,c=!1,{delay:d=0,duration:u=400,easing:b=Hi,interpolate:x=Zc}=Br(Br({},e),o);if(u===0)return f&&(f.abort(),f=null),r.set(t=i),Promise.resolve();let A=b0()+d,S;return n=p0(O=>{if(O<A)return!0;c||(S=x(t,s),typeof u=="function"&&(u=u(t,s)),c=!0),f&&(f.abort(),f=null);let T=O-A;return T>u?(r.set(t=s),!1):(r.set(t=S(b(T/u))),!0)}),n.promise}return{set:a,update:(s,o)=>a(s(i,t),o),subscribe:r.subscribe}}function Rx(){var t=Me("style");t.id="svelte-vfz6wa-style",t.textContent="._toastItem.svelte-vfz6wa{width:var(--toastWidth,16rem);height:var(--toastHeight,3.5rem);margin:var(--toastMargin,0 0 0.5rem 0);background:var(--toastBackground,rgba(66,66,66,0.9));color:var(--toastColor,#FFF);box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);border-radius:0.125rem;position:relative;display:flex;flex-direction:row;align-items:center;will-change:transform,opacity;-webkit-tap-highlight-color:transparent}._toastMsg.svelte-vfz6wa{font:var(--toastFont);flex:1 1 0%;padding:0 0.5rem}._toastBtn.svelte-vfz6wa{width:2rem;height:100%;font:1rem sans-serif;display:flex;align-items:center;justify-content:center;cursor:pointer;outline:none;pointer-events:auto}._toastBar.svelte-vfz6wa{display:block;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;position:absolute;bottom:0;width:100%;height:6px;background:transparent}._toastBar.svelte-vfz6wa::-webkit-progress-bar{background:transparent}._toastBar.svelte-vfz6wa::-webkit-progress-value{background:var(--toastProgressBackground,rgba(33,150,243,0.75))}._toastBar.svelte-vfz6wa::-moz-progress-bar{background:var(--toastProgressBackground,rgba(33,150,243,0.75))}",ke(document.head,t)}function nl(t){let e,r,n;return{c(){e=Me("div"),e.textContent="\u2715",ve(e,"class","_toastBtn svelte-vfz6wa"),ve(e,"role","button"),ve(e,"tabindex","-1")},m(i,a){dt(i,e,a),r||(n=kt(e,"click",t[4]),r=!0)},p:ft,d(i){i&&ot(e),r=!1,n()}}}function Mx(t){let e,r,n=t[0].msg+"",i,a,s,o,f=t[0].dismissable&&nl(t);return{c(){e=Me("div"),r=Me("div"),i=Ft(n),a=nt(),f&&f.c(),s=nt(),o=Me("progress"),ve(r,"class","_toastMsg svelte-vfz6wa"),ve(o,"class","_toastBar svelte-vfz6wa"),o.value=t[1],ve(e,"class","_toastItem svelte-vfz6wa")},m(c,d){dt(c,e,d),ke(e,r),ke(r,i),ke(e,a),f&&f.m(e,null),ke(e,s),ke(e,o)},p(c,[d]){d&1&&n!==(n=c[0].msg+"")&&mr(i,n),c[0].dismissable?f?f.p(c,d):(f=nl(c),f.c(),f.m(e,s)):f&&(f.d(1),f=null),d&2&&(o.value=c[1])},i:ft,o:ft,d(c){c&&ot(e),f&&f.d()}}}function Bx(t,e,r){let n,{item:i}=e,a=Px(i.initial,{duration:i.duration,easing:Hi});Tr(t,a,f=>r(1,n=f));let s=i.initial,o=()=>Kr.pop(i.id);return t.$$set=f=>{"item"in f&&r(0,i=f.item)},t.$$.update=()=>{t.$$.dirty&9&&s!==i.progress&&(i.progress===1||i.progress===0?a.set(i.progress).then(()=>Kr.pop(i.id)):a.set(i.progress),r(3,s=i.progress))},[i,n,a,s,o]}var il=class extends Pt{constructor(e){super();document.getElementById("svelte-vfz6wa-style")||Rx(),Tt(this,e,Bx,Mx,At,{item:0})}};function Tx(){var t=Me("style");t.id="svelte-ivwmun-style",t.textContent="ul.svelte-ivwmun{position:fixed;margin:0;padding:0;list-style-type:none;z-index:9999;pointer-events:none;top:var(--toastContainerTop,1.5rem);right:var(--toastContainerRight,2rem);bottom:var(--toastContainerBottom,auto);left:var(--toastContainerLeft,auto)}",ke(document.head,t)}function al(t,e,r){let n=t.slice();return n[4]=e[r],n}function sl(t,e){let r,n,i,a,s,o,f,c=ft,d;return n=new il({props:{item:e[4]}}),{key:t,first:null,c(){r=Me("li"),wt(n.$$.fragment),i=nt(),ve(r,"style",a=e[1](e[4].theme)),this.first=r},m(u,b){dt(u,r,b),gt(n,r,null),ke(r,i),d=!0},p(u,b){e=u;let x={};b&1&&(x.item=e[4]),n.$set(x),(!d||b&1&&a!==(a=e[1](e[4].theme)))&&ve(r,"style",a)},r(){f=r.getBoundingClientRect()},f(){Bu(r),c(),Fc(r,f)},a(){c(),c=Mu(r,f,Ex,{duration:200})},i(u){d||(Ve(n.$$.fragment,u),Gi(()=>{o&&o.end(1),s||(s=qu(r,Sx,e[4].intro)),s.start()}),d=!0)},o(u){Qe(n.$$.fragment,u),s&&s.invalidate(),o=Lu(r,kx,{}),d=!1},d(u){u&&ot(r),vt(n),u&&o&&o.end()}}}function Ix(t){let e,r=[],n=new Map,i,a=t[0],s=o=>o[4].id;for(let o=0;o<a.length;o+=1){let f=al(t,a,o),c=s(f);n.set(c,r[o]=sl(c,f))}return{c(){e=Me("ul");for(let o=0;o<r.length;o+=1)r[o].c();ve(e,"class","svelte-ivwmun")},m(o,f){dt(o,e,f);for(let c=0;c<r.length;c+=1)r[c].m(e,null);i=!0},p(o,[f]){if(f&3){a=o[0],Ir();for(let c=0;c<r.length;c+=1)r[c].r();r=$u(r,f,s,1,o,a,n,e,ju,sl,null,al);for(let c=0;c<r.length;c+=1)r[c].a();Dr()}},i(o){if(!i){for(let f=0;f<a.length;f+=1)Ve(r[f]);i=!0}},o(o){for(let f=0;f<r.length;f+=1)Qe(r[f]);i=!1},d(o){o&&ot(e);for(let f=0;f<r.length;f+=1)r[f].d()}}}function Dx(t,e,r){let n;Tr(t,Kr,o=>r(0,n=o));let{options:i={}}=e,a={duration:4e3,dismissable:!0,initial:1,progress:0,reversed:!1,intro:{x:256},theme:{}};Kr._opts(a);let s=o=>Object.keys(o).reduce((f,c)=>`${f}${c}:${o[c]};`,"");return t.$$set=o=>{"options"in o&&r(2,i=o.options)},t.$$.update=()=>{t.$$.dirty&4&&Kr._opts(i)},[n,s,i]}var Xc=class extends Pt{constructor(e){super();document.getElementById("svelte-ivwmun-style")||Tx(),Tt(this,e,Dx,Ix,At,{options:2})}};function Kx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gr(t,e,r){return r={path:e,exports:{},require:function(n,i){return Ux(n,i??r.path)}},t(r,r.exports),r.exports}function Ux(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var zx=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Fx=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Jc=function(e){var r=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=zx.exec(e||""),s={},o=14;o--;)s[Fx[o]]=a[o]||"";return n!=-1&&i!=-1&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Ox(s,s.path),s.queryKey=Nx(s,s.query),s};function Ox(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function Nx(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}function ol(){throw new Error("setTimeout has not been defined")}function cl(){throw new Error("clearTimeout has not been defined")}var ci=ol,fi=cl,Ca;typeof window!="undefined"?Ca=window:typeof self!="undefined"?Ca=self:Ca={};typeof Ca.setTimeout=="function"&&(ci=setTimeout);typeof Ca.clearTimeout=="function"&&(fi=clearTimeout);function fl(t){if(ci===setTimeout)return setTimeout(t,0);if((ci===ol||!ci)&&setTimeout)return ci=setTimeout,setTimeout(t,0);try{return ci(t,0)}catch(e){try{return ci.call(null,t,0)}catch(r){return ci.call(this,t,0)}}}function qx(t){if(fi===clearTimeout)return clearTimeout(t);if((fi===cl||!fi)&&clearTimeout)return fi=clearTimeout,clearTimeout(t);try{return fi(t)}catch(e){try{return fi.call(null,t)}catch(r){return fi.call(this,t)}}}var Rn=[],Pa=!1,Vi,Rs=-1;function Lx(){!Pa||!Vi||(Pa=!1,Vi.length?Rn=Vi.concat(Rn):Rs=-1,Rn.length&&dl())}function dl(){if(!Pa){var t=fl(Lx);Pa=!0;for(var e=Rn.length;e;){for(Vi=Rn,Rn=[];++Rs<e;)Vi&&Vi[Rs].run();Rs=-1,e=Rn.length}Vi=null,Pa=!1,qx(t)}}function jx(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Rn.push(new ul(t,e)),Rn.length===1&&!Pa&&fl(dl)}function ul(t,e){this.fun=t,this.array=e}ul.prototype.run=function(){this.fun.apply(null,this.array)};var $x="browser",Hx="browser",Wx=!0,Yx=[],Gx="",Vx={},Zx={},Xx={};function Zi(){}var Jx=Zi,Qx=Zi,e3=Zi,t3=Zi,r3=Zi,n3=Zi,i3=Zi;function a3(t){throw new Error("process.binding is not supported")}function s3(){return"/"}function o3(t){throw new Error("process.chdir is not supported")}function c3(){return 0}var Ra=Ca.performance||{},f3=Ra.now||Ra.mozNow||Ra.msNow||Ra.oNow||Ra.webkitNow||function(){return new Date().getTime()};function d3(t){var e=f3.call(Ra)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}var u3=new Date;function l3(){var t=new Date,e=t-u3;return e/1e3}var Qc={nextTick:jx,title:$x,browser:Wx,env:{NODE_ENV:"production"},argv:Yx,version:Gx,versions:Vx,on:Jx,addListener:Qx,once:e3,off:t3,removeListener:r3,removeAllListeners:n3,emit:i3,binding:a3,cwd:s3,chdir:o3,umask:c3,hrtime:d3,platform:Hx,release:Zx,config:Xx,uptime:l3},Ma=1e3,Ba=Ma*60,Ta=Ba*60,Xi=Ta*24,h3=Xi*7,b3=Xi*365.25,m3=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return p3(t);if(r==="number"&&isFinite(t))return e.long?y3(t):x3(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function p3(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*b3;case"weeks":case"week":case"w":return r*h3;case"days":case"day":case"d":return r*Xi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ta;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ba;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ma;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function x3(t){var e=Math.abs(t);return e>=Xi?Math.round(t/Xi)+"d":e>=Ta?Math.round(t/Ta)+"h":e>=Ba?Math.round(t/Ba)+"m":e>=Ma?Math.round(t/Ma)+"s":t+"ms"}function y3(t){var e=Math.abs(t);return e>=Xi?Ms(t,e,Xi,"day"):e>=Ta?Ms(t,e,Ta,"hour"):e>=Ba?Ms(t,e,Ba,"minute"):e>=Ma?Ms(t,e,Ma,"second"):t+" ms"}function Ms(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}function g3(t){r.debug=r,r.default=r,r.coerce=f,r.disable=a,r.enable=i,r.enabled=s,r.humanize=m3,r.destroy=c,Object.keys(t).forEach(d=>{r[d]=t[d]}),r.names=[],r.skips=[],r.formatters={};function e(d){let u=0;for(let b=0;b<d.length;b++)u=(u<<5)-u+d.charCodeAt(b),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=e;function r(d){let u,b=null;function x(...A){if(!x.enabled)return;let S=x,O=Number(new Date),T=O-(u||O);S.diff=T,S.prev=u,S.curr=O,u=O,A[0]=r.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let Q=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(F,X)=>{if(F==="%%")return"%";Q++;let te=r.formatters[X];if(typeof te=="function"){let re=A[Q];F=te.call(S,re),A.splice(Q,1),Q--}return F}),r.formatArgs.call(S,A),(S.log||r.log).apply(S,A)}return x.namespace=d,x.useColors=r.useColors(),x.color=r.selectColor(d),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>b===null?r.enabled(d):b,set:A=>{b=A}}),typeof r.init=="function"&&r.init(x),x}function n(d,u){let b=r(this.namespace+(typeof u=="undefined"?":":u)+d);return b.log=this.log,b}function i(d){r.save(d),r.names=[],r.skips=[];let u,b=(typeof d=="string"?d:"").split(/[\s,]+/),x=b.length;for(u=0;u<x;u++)!b[u]||(d=b[u].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.substr(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function a(){let d=[...r.names.map(o),...r.skips.map(o).map(u=>"-"+u)].join(",");return r.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let u,b;for(u=0,b=r.skips.length;u<b;u++)if(r.skips[u].test(d))return!1;for(u=0,b=r.names.length;u<b;u++)if(r.names[u].test(d))return!0;return!1}function o(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function f(d){return d instanceof Error?d.stack||d.message:d}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var v3=g3,Mn=gr(function(t,e){e.formatArgs=n,e.save=i,e.load=a,e.useColors=r,e.storage=s(),e.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;f.splice(1,0,c,"color: inherit");let d=0,u=0;f[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(d++,b==="%c"&&(u=d))}),f.splice(u,0,c)}e.log=console.debug||console.log||(()=>{});function i(f){try{f?e.storage.setItem("debug",f):e.storage.removeItem("debug")}catch(c){}}function a(){let f;try{f=e.storage.getItem("debug")}catch(c){}return!f&&typeof Qc!="undefined"&&"env"in Qc&&(f=Qc.env.DEBUG),f}function s(){try{return localStorage}catch(f){}}t.exports=v3(e);let{formatters:o}=t.exports;o.j=function(f){try{return JSON.stringify(f)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),w3=gr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;let r=Mn("socket.io-client:url");function n(i,a="",s){let o=i;s=s||typeof location!="undefined"&&location,i==null&&(i=s.protocol+"//"+s.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=s.protocol+i:i=s.host+i),/^(https?|wss?):\/\//.test(i)||(r("protocol-less url %s",i),typeof s!="undefined"?i=s.protocol+"//"+i:i="https://"+i),r("parse %s",i),o=Jc(i)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";let c=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+c+":"+o.port+a,o.href=o.protocol+"://"+c+(s&&s.port===o.port?"":":"+o.port),o}e.url=n}),_3=gr(function(t){try{t.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}}),Ia=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())(),ef=function(t){let e=t.xdomain,r=t.xscheme,n=t.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!e||_3))return new XMLHttpRequest}catch(i){}try{if(typeof XDomainRequest!="undefined"&&!r&&n)return new XDomainRequest}catch(i){}if(!e)try{return new Ia[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(i){}},Xr=Object.create(null);Xr.open="0";Xr.close="1";Xr.ping="2";Xr.pong="3";Xr.message="4";Xr.upgrade="5";Xr.noop="6";var ll=Object.create(null);Object.keys(Xr).forEach(t=>{ll[Xr[t]]=t});var A3={type:"error",data:"parser error"},hl={PACKET_TYPES:Xr,PACKET_TYPES_REVERSE:ll,ERROR_PACKET:A3},{PACKET_TYPES:k3}=hl,S3=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",E3=typeof ArrayBuffer=="function",C3=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,P3=({type:t,data:e},r,n)=>S3&&e instanceof Blob?r?n(e):bl(e,n):E3&&(e instanceof ArrayBuffer||C3(e))?r?n(e instanceof ArrayBuffer?e:e.buffer):bl(new Blob([e]),n):n(k3[t]+(e||"")),bl=(t,e)=>{let r=new FileReader;return r.onload=function(){let n=r.result.split(",")[1];e("b"+n)},r.readAsDataURL(t)},pl=P3,R3=gr(function(t,e){(function(r){e.encode=function(n){var i=new Uint8Array(n),a,s=i.length,o="";for(a=0;a<s;a+=3)o+=r[i[a]>>2],o+=r[(i[a]&3)<<4|i[a+1]>>4],o+=r[(i[a+1]&15)<<2|i[a+2]>>6],o+=r[i[a+2]&63];return s%3==2?o=o.substring(0,o.length-1)+"=":s%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(n){var i=n.length*.75,a=n.length,s,o=0,f,c,d,u;n[n.length-1]==="="&&(i--,n[n.length-2]==="="&&i--);var b=new ArrayBuffer(i),x=new Uint8Array(b);for(s=0;s<a;s+=4)f=r.indexOf(n[s]),c=r.indexOf(n[s+1]),d=r.indexOf(n[s+2]),u=r.indexOf(n[s+3]),x[o++]=f<<2|c>>4,x[o++]=(c&15)<<4|d>>2,x[o++]=(d&3)<<6|u&63;return b}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")}),{PACKET_TYPES_REVERSE:tf,ERROR_PACKET:M3}=hl,B3=typeof ArrayBuffer=="function",rf;B3&&(rf=R3);var I3=(t,e)=>{if(typeof t!="string")return{type:"message",data:xl(t,e)};let r=t.charAt(0);return r==="b"?{type:"message",data:T3(t.substring(1),e)}:tf[r]?t.length>1?{type:tf[r],data:t.substring(1)}:{type:tf[r]}:M3},T3=(t,e)=>{if(rf){let r=rf.decode(t);return xl(r,e)}else return{base64:!0,data:t}},xl=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},yl=I3,ml=String.fromCharCode(30),D3=(t,e)=>{let r=t.length,n=new Array(r),i=0;t.forEach((a,s)=>{pl(a,!1,o=>{n[s]=o,++i===r&&e(n.join(ml))})})},K3=(t,e)=>{let r=t.split(ml),n=[];for(let i=0;i<r.length;i++){let a=yl(r[i],e);if(n.push(a),a.type==="error")break}return n},Ji={protocol:4,encodePacket:pl,encodePayload:D3,decodePacket:yl,decodePayload:K3},m0=gr(function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function a(){this.off(n,a),i.apply(this,arguments)}return a.fn=i,this.on(n,a),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+n];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,o=0;o<a.length;o++)if(s=a[o],s===i||s.fn===i){a.splice(o,1);break}return a.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),a=this._callbacks["$"+n],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(a){a=a.slice(0);for(var s=0,o=a.length;s<o;++s)a[s].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}),gl=class extends m0{constructor(e){super();this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,r){let n=new Error(e);return n.type="TransportError",n.description=r,this.emit("error",n),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){if(this.readyState==="open")this.write(e);else throw new Error("Transport not open")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){let r=Ji.decodePacket(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}},Bs=gl,U3=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},z3=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e},nf={encode:U3,decode:z3},vl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ts=64,wl={},_l=0,di=0,Al;function af(t){var e="";do e=vl[t%Ts]+e,t=Math.floor(t/Ts);while(t>0);return e}function F3(t){var e=0;for(di=0;di<t.length;di++)e=e*Ts+wl[t.charAt(di)];return e}function sf(){var t=af(+new Date);return t!==Al?(_l=0,Al=t):t+"."+af(_l++)}for(;di<Ts;di++)wl[vl[di]]=di;sf.encode=af;sf.decode=F3;var kl=sf,Ur=Mn("engine.io-client:polling"),Sl=class extends Bs{get name(){return"polling"}doOpen(){this.poll()}pause(e){let r=this;this.readyState="pausing";function n(){Ur("paused"),r.readyState="paused",e()}if(this.polling||!this.writable){let i=0;this.polling&&(Ur("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){Ur("pre-pause polling complete"),--i||n()})),this.writable||(Ur("we are currently writing - waiting to pause"),i++,this.once("drain",function(){Ur("pre-pause writing complete"),--i||n()}))}else n()}poll(){Ur("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){let r=this;Ur("polling got data %s",e);let n=function(i,a,s){if(r.readyState==="opening"&&i.type==="open"&&r.onOpen(),i.type==="close")return r.onClose(),!1;r.onPacket(i)};Ji.decodePayload(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Ur('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=this;function r(){Ur("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Ur("transport open - closing"),r()):(Ur("transport not open - deferring close"),this.once("open",r))}write(e){this.writable=!1,Ji.encodePayload(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{},r=this.opts.secure?"https":"http",n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=kl()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=nf.encode(e),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},El=Sl,O3=(t,...e)=>e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{}),Cl={pick:O3},{pick:N3}=Cl,of=Mn("engine.io-client:polling-xhr");function Pl(){}var q3=function(){return new ef({xdomain:!1}).responseType!=null}(),Rl=class extends El{constructor(e){super(e);if(typeof location!="undefined"){let n=location.protocol==="https:",i=location.port;i||(i=n?443:80),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}let r=e&&e.forceBase64;this.supportsBinary=q3&&!r}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Ar(this.uri(),e)}doWrite(e,r){let n=this.request({method:"POST",data:e}),i=this;n.on("success",r),n.on("error",function(a){i.onError("xhr post error",a)})}doPoll(){of("xhr poll");let e=this.request(),r=this;e.on("data",function(n){r.onData(n)}),e.on("error",function(n){r.onError("xhr poll error",n)}),this.pollXhr=e}},Ar=class extends m0{constructor(e,r){super();this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){let e=N3(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;let r=this.xhr=new ef(e),n=this;try{of("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),this.hasXDR()?(r.onload=function(){n.onLoad()},r.onerror=function(){n.onError(r.responseText)}):r.onreadystatechange=function(){r.readyState===4&&(r.status===200||r.status===1223?n.onLoad():setTimeout(function(){n.onError(typeof r.status=="number"?r.status:0)},0))},of("xhr data %s",this.data),r.send(this.data)}catch(i){setTimeout(function(){n.onError(i)},0);return}typeof document!="undefined"&&(this.index=Ar.requestsCount++,Ar.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Pl:this.xhr.onreadystatechange=Pl,e)try{this.xhr.abort()}catch(r){}typeof document!="undefined"&&delete Ar.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&this.onData(e)}hasXDR(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}};Ar.requestsCount=0;Ar.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Ml);else if(typeof addEventListener=="function"){let t="onpagehide"in Ia?"pagehide":"unload";addEventListener(t,Ml,!1)}}function Ml(){for(let t in Ar.requests)Ar.requests.hasOwnProperty(t)&&Ar.requests[t].abort()}var Bl=Rl,L3=Ar;Bl.Request=L3;var j3=/\n/g,$3=/\\n/g,Is,Tl=class extends El{constructor(e){super(e);this.query=this.query||{},Is||(Is=Ia.___eio=Ia.___eio||[]),this.index=Is.length;let r=this;Is.push(function(n){r.onData(n)}),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){let e=this,r=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),r.async=!0,r.src=this.uri(),r.onerror=function(a){e.onError("jsonp poll error",a)};let n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(r,n):(document.head||document.body).appendChild(r),this.script=r,typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){let a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)}doWrite(e,r){let n=this,i;if(!this.form){let o=document.createElement("form"),f=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),f.name="d",o.appendChild(f),document.body.appendChild(o),this.form=o,this.area=f}this.form.action=this.uri();function a(){s(),r()}function s(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(o){n.onError("jsonp polling iframe removal error",o)}try{let o='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(o)}catch(o){i=document.createElement("iframe"),i.name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}s(),e=e.replace($3,`\\
`),this.area.value=e.replace(j3,"\\n");try{this.form.submit()}catch(o){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&a()}:this.iframe.onload=a}},H3=Tl,Ds=typeof Ds!="undefined"?Ds:typeof self!="undefined"?self:typeof window!="undefined"?window:{},Jr=[],kr=[],W3=typeof Uint8Array!="undefined"?Uint8Array:Array,cf=!1;function Il(){cf=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)Jr[e]=t[e],kr[t.charCodeAt(e)]=e;kr["-".charCodeAt(0)]=62,kr["_".charCodeAt(0)]=63}function Y3(t){cf||Il();var e,r,n,i,a,s,o=t.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=t[o-2]==="="?2:t[o-1]==="="?1:0,s=new W3(o*3/4-a),n=a>0?o-4:o;var f=0;for(e=0,r=0;e<n;e+=4,r+=3)i=kr[t.charCodeAt(e)]<<18|kr[t.charCodeAt(e+1)]<<12|kr[t.charCodeAt(e+2)]<<6|kr[t.charCodeAt(e+3)],s[f++]=i>>16&255,s[f++]=i>>8&255,s[f++]=i&255;return a===2?(i=kr[t.charCodeAt(e)]<<2|kr[t.charCodeAt(e+1)]>>4,s[f++]=i&255):a===1&&(i=kr[t.charCodeAt(e)]<<10|kr[t.charCodeAt(e+1)]<<4|kr[t.charCodeAt(e+2)]>>2,s[f++]=i>>8&255,s[f++]=i&255),s}function G3(t){return Jr[t>>18&63]+Jr[t>>12&63]+Jr[t>>6&63]+Jr[t&63]}function V3(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(G3(n));return i.join("")}function Dl(t){cf||Il();for(var e,r=t.length,n=r%3,i="",a=[],s=16383,o=0,f=r-n;o<f;o+=s)a.push(V3(t,o,o+s>f?f:o+s));return n===1?(e=t[r-1],i+=Jr[e>>2],i+=Jr[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=Jr[e>>10],i+=Jr[e>>4&63],i+=Jr[e<<2&63],i+="="),a.push(i),a.join("")}function Ks(t,e,r,n,i){var a,s,o=i*8-n-1,f=(1<<o)-1,c=f>>1,d=-7,u=r?i-1:0,b=r?-1:1,x=t[e+u];for(u+=b,a=x&(1<<-d)-1,x>>=-d,d+=o;d>0;a=a*256+t[e+u],u+=b,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=n;d>0;s=s*256+t[e+u],u+=b,d-=8);if(a===0)a=1-c;else{if(a===f)return s?NaN:(x?-1:1)*Infinity;s=s+Math.pow(2,n),a=a-c}return(x?-1:1)*s*Math.pow(2,a-n)}function Kl(t,e,r,n,i,a){var s,o,f,c=a*8-i-1,d=(1<<c)-1,u=d>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:a-1,A=n?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(o=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+u>=1?e+=b/f:e+=b*Math.pow(2,1-u),e*f>=2&&(s++,f/=2),s+u>=d?(o=0,s=d):s+u>=1?(o=(e*f-1)*Math.pow(2,i),s=s+u):(o=e*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;t[r+x]=o&255,x+=A,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;t[r+x]=s&255,x+=A,s/=256,c-=8);t[r+x-A]|=S*128}var Z3={}.toString,Ul=Array.isArray||function(t){return Z3.call(t)=="[object Array]"};var X3=50;we.TYPED_ARRAY_SUPPORT=Ds.TYPED_ARRAY_SUPPORT!==void 0?Ds.TYPED_ARRAY_SUPPORT:!0;function ff(){return we.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Bn(t,e){if(ff()<e)throw new RangeError("Invalid typed array length");return we.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=we.prototype):(t===null&&(t=new we(e)),t.length=e),t}function we(t,e,r){if(!we.TYPED_ARRAY_SUPPORT&&!(this instanceof we))return new we(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return df(this,t)}return zl(this,t,e,r)}we.poolSize=8192;we._augment=function(t){return t.__proto__=we.prototype,t};function zl(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer?Q3(t,e,r,n):typeof e=="string"?J3(t,e,r):e6(t,e)}we.from=function(t,e,r){return zl(null,t,e,r)};we.TYPED_ARRAY_SUPPORT&&(we.prototype.__proto__=Uint8Array.prototype,we.__proto__=Uint8Array);function Fl(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function t6(t,e,r,n){return Fl(e),e<=0?Bn(t,e):r!==void 0?typeof n=="string"?Bn(t,e).fill(r,n):Bn(t,e).fill(r):Bn(t,e)}we.alloc=function(t,e,r){return t6(null,t,e,r)};function df(t,e){if(Fl(e),t=Bn(t,e<0?0:uf(e)|0),!we.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}we.allocUnsafe=function(t){return df(null,t)};we.allocUnsafeSlow=function(t){return df(null,t)};function J3(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!we.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=Ol(e,r)|0;t=Bn(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function lf(t,e){var r=e.length<0?0:uf(e.length)|0;t=Bn(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function Q3(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),we.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=we.prototype):t=lf(t,e),t}function e6(t,e){if(Qr(e)){var r=uf(e.length)|0;return t=Bn(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer!="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||r6(e.length)?Bn(t,0):lf(t,e);if(e.type==="Buffer"&&Ul(e.data))return lf(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function uf(t){if(t>=ff())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ff().toString(16)+" bytes");return t|0}we.isBuffer=n6;function Qr(t){return!!(t!=null&&t._isBuffer)}we.compare=function(e,r){if(!Qr(e)||!Qr(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,a=0,s=Math.min(n,i);a<s;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0};we.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};we.concat=function(e,r){if(!Ul(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return we.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=we.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){var s=e[n];if(!Qr(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,a),a+=s.length}return i};function Ol(t,e){if(Qr(t))return t.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Us(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Nl(t).length;default:if(n)return Us(t).length;e=(""+e).toLowerCase(),n=!0}}we.byteLength=Ol;function f6(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return o6(this,e,r);case"utf8":case"utf-8":return ql(this,e,r);case"ascii":return a6(this,e,r);case"latin1":case"binary":return s6(this,e,r);case"base64":return i6(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c6(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}we.prototype._isBuffer=!0;function Qi(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}we.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Qi(this,r,r+1);return this};we.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Qi(this,r,r+3),Qi(this,r+1,r+2);return this};we.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Qi(this,r,r+7),Qi(this,r+1,r+6),Qi(this,r+2,r+5),Qi(this,r+3,r+4);return this};we.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?ql(this,0,e):f6.apply(this,arguments)};we.prototype.equals=function(e){if(!Qr(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:we.compare(this,e)===0};we.prototype.inspect=function(){var e="",r=X3;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};we.prototype.compare=function(e,r,n,i,a){if(!Qr(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;for(var s=a-i,o=n-r,f=Math.min(s,o),c=this.slice(i,a),d=e.slice(r,n),u=0;u<f;++u)if(c[u]!==d[u]){s=c[u],o=d[u];break}return s<o?-1:o<s?1:0};function jl(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=we.from(e,n)),Qr(e))return e.length===0?-1:Ll(t,e,r,n,i);if(typeof e=="number")return e=e&255,we.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Ll(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Ll(t,e,r,n,i){var a=1,s=t.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,o/=2,r/=2}function f(x,A){return a===1?x[A]:x.readUInt16BE(A*a)}var c;if(i){var d=-1;for(c=r;c<s;c++)if(f(t,c)===f(e,d===-1?0:c-d)){if(d===-1&&(d=c),c-d+1===o)return d*a}else d!==-1&&(c-=c-d),d=-1}else for(r+o>s&&(r=s-o),c=r;c>=0;c--){for(var u=!0,b=0;b<o;b++)if(f(t,c+b)!==f(e,b)){u=!1;break}if(u)return c}return-1}we.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};we.prototype.indexOf=function(e,r,n){return jl(this,e,r,n,!0)};we.prototype.lastIndexOf=function(e,r,n){return jl(this,e,r,n,!1)};function d6(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(e.substr(s*2,2),16);if(isNaN(o))return s;t[r+s]=o}return s}function u6(t,e,r,n){return zs(Us(e,t.length-r),t,r,n)}function $l(t,e,r,n){return zs(l6(e),t,r,n)}function h6(t,e,r,n){return $l(t,e,r,n)}function b6(t,e,r,n){return zs(Nl(e),t,r,n)}function x6(t,e,r,n){return zs(p6(e,t.length-r),t,r,n)}we.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-r;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return d6(this,e,r,n);case"utf8":case"utf-8":return u6(this,e,r,n);case"ascii":return $l(this,e,r,n);case"latin1":case"binary":return h6(this,e,r,n);case"base64":return b6(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x6(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};we.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function i6(t,e,r){return e===0&&r===t.length?Dl(t):Dl(t.slice(e,r))}function ql(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a=t[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=r){var f,c,d,u;switch(o){case 1:a<128&&(s=a);break;case 2:f=t[i+1],(f&192)==128&&(u=(a&31)<<6|f&63,u>127&&(s=u));break;case 3:f=t[i+1],c=t[i+2],(f&192)==128&&(c&192)==128&&(u=(a&15)<<12|(f&63)<<6|c&63,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:f=t[i+1],c=t[i+2],d=t[i+3],(f&192)==128&&(c&192)==128&&(d&192)==128&&(u=(a&15)<<18|(f&63)<<12|(c&63)<<6|d&63,u>65535&&u<1114112&&(s=u))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=o}return y6(n)}var Hl=4096;function y6(t){var e=t.length;if(e<=Hl)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Hl));return r}function a6(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function s6(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function o6(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=m6(t[a]);return i}function c6(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}we.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(we.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=we.prototype;else{var a=r-e;i=new we(a,void 0);for(var s=0;s<a;++s)i[s]=this[s+e]}return i};function Nt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}we.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||Nt(e,r,this.length);for(var i=this[e],a=1,s=0;++s<r&&(a*=256);)i+=this[e+s]*a;return i};we.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||Nt(e,r,this.length);for(var i=this[e+--r],a=1;r>0&&(a*=256);)i+=this[e+--r]*a;return i};we.prototype.readUInt8=function(e,r){return r||Nt(e,1,this.length),this[e]};we.prototype.readUInt16LE=function(e,r){return r||Nt(e,2,this.length),this[e]|this[e+1]<<8};we.prototype.readUInt16BE=function(e,r){return r||Nt(e,2,this.length),this[e]<<8|this[e+1]};we.prototype.readUInt32LE=function(e,r){return r||Nt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};we.prototype.readUInt32BE=function(e,r){return r||Nt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};we.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||Nt(e,r,this.length);for(var i=this[e],a=1,s=0;++s<r&&(a*=256);)i+=this[e+s]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};we.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||Nt(e,r,this.length);for(var i=r,a=1,s=this[e+--i];i>0&&(a*=256);)s+=this[e+--i]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};we.prototype.readInt8=function(e,r){return r||Nt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};we.prototype.readInt16LE=function(e,r){r||Nt(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};we.prototype.readInt16BE=function(e,r){r||Nt(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};we.prototype.readInt32LE=function(e,r){return r||Nt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};we.prototype.readInt32BE=function(e,r){return r||Nt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};we.prototype.readFloatLE=function(e,r){return r||Nt(e,4,this.length),Ks(this,e,!0,23,4)};we.prototype.readFloatBE=function(e,r){return r||Nt(e,4,this.length),Ks(this,e,!1,23,4)};we.prototype.readDoubleLE=function(e,r){return r||Nt(e,8,this.length),Ks(this,e,!0,52,8)};we.prototype.readDoubleBE=function(e,r){return r||Nt(e,8,this.length),Ks(this,e,!1,52,8)};function hr(t,e,r,n,i,a){if(!Qr(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}we.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var a=Math.pow(2,8*n)-1;hr(this,e,r,n,a,0)}var s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};we.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var a=Math.pow(2,8*n)-1;hr(this,e,r,n,a,0)}var s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};we.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,1,255,0),we.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};function Fs(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}we.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,2,65535,0),we.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):Fs(this,e,r,!0),r+2};we.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,2,65535,0),we.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):Fs(this,e,r,!1),r+2};function Os(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>(n?i:3-i)*8&255}we.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,4,4294967295,0),we.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):Os(this,e,r,!0),r+4};we.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,4,4294967295,0),we.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):Os(this,e,r,!1),r+4};we.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var a=Math.pow(2,8*n-1);hr(this,e,r,n,a-1,-a)}var s=0,o=1,f=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&f===0&&this[r+s-1]!==0&&(f=1),this[r+s]=(e/o>>0)-f&255;return r+n};we.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var a=Math.pow(2,8*n-1);hr(this,e,r,n,a-1,-a)}var s=n-1,o=1,f=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&f===0&&this[r+s+1]!==0&&(f=1),this[r+s]=(e/o>>0)-f&255;return r+n};we.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,1,127,-128),we.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};we.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,2,32767,-32768),we.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):Fs(this,e,r,!0),r+2};we.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,2,32767,-32768),we.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):Fs(this,e,r,!1),r+2};we.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,4,2147483647,-2147483648),we.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):Os(this,e,r,!0),r+4};we.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),we.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):Os(this,e,r,!1),r+4};function Wl(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Yl(t,e,r,n,i){return i||Wl(t,e,r,4),Kl(t,e,r,n,23,4),r+4}we.prototype.writeFloatLE=function(e,r,n){return Yl(this,e,r,!0,n)};we.prototype.writeFloatBE=function(e,r,n){return Yl(this,e,r,!1,n)};function Gl(t,e,r,n,i){return i||Wl(t,e,r,8),Kl(t,e,r,n,52,8),r+8}we.prototype.writeDoubleLE=function(e,r,n){return Gl(this,e,r,!0,n)};we.prototype.writeDoubleBE=function(e,r,n){return Gl(this,e,r,!1,n)};we.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var a=i-n,s;if(this===e&&n<r&&r<i)for(s=a-1;s>=0;--s)e[s+r]=this[s+n];else if(a<1e3||!we.TYPED_ARRAY_SUPPORT)for(s=0;s<a;++s)e[s+r]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),r);return a};we.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var a=e.charCodeAt(0);a<256&&(e=a)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!we.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var o=Qr(e)?e:Us(new we(e,i).toString()),f=o.length;for(s=0;s<n-r;++s)this[s+r]=o[s%f]}return this};var g6=/[^+\/0-9A-Za-z-_]/g;function w6(t){if(t=v6(t).replace(g6,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function v6(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function m6(t){return t<16?"0"+t.toString(16):t.toString(16)}function Us(t,e){e=e||Infinity;for(var r,n=t.length,i=null,a=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function l6(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function p6(t,e){for(var r,n,i,a=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function Nl(t){return Y3(w6(t))}function zs(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function r6(t){return t!==t}function n6(t){return t!=null&&(!!t._isBuffer||Vl(t)||_6(t))}function Vl(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function _6(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Vl(t.slice(0,0))}var A6={WebSocket:Ia.WebSocket||Ia.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"},{pick:k6}=Cl,{WebSocket:g0,usingBrowserWebSocket:hf,defaultBinaryType:S6}=A6,E6=Mn("engine.io-client:websocket"),Zl=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Ns=class extends Bs{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),r=this.opts.protocols,n=Zl?{}:k6(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=hf&&!Zl?r?new g0(e,r):new g0(e):new g0(e,r,n)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||S6,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){let r=this;this.writable=!1;let n=e.length,i=0,a=n;for(;i<a;i++)(function(o){Ji.encodePacket(o,r.supportsBinary,function(f){let c={};hf||(o.options&&(c.compress=o.options.compress),r.opts.perMessageDeflate&&(typeof f=="string"?we.byteLength(f):f.length)<r.opts.perMessageDeflate.threshold&&(c.compress=!1));try{hf?r.ws.send(f):r.ws.send(f,c)}catch(d){E6("websocket closed before onclose event")}--n||s()})})(e[i]);function s(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}}onClose(){Bs.prototype.onClose.call(this)}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{},r=this.opts.secure?"wss":"ws",n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=kl()),this.supportsBinary||(e.b64=1),e=nf.encode(e),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}check(){return!!g0&&!("__initialize"in g0&&this.name===Ns.prototype.name)}},C6=Ns,R6=P6,M6=C6;function P6(t){let e,r=!1,n=!1,i=t.jsonp!==!1;if(typeof location!="undefined"){let a=location.protocol==="https:",s=location.port;s||(s=a?443:80),r=t.hostname!==location.hostname||s!==t.port,n=t.secure!==a}if(t.xdomain=r,t.xscheme=n,e=new ef(t),"open"in e&&!t.forceJSONP)return new Bl(t);if(!i)throw new Error("JSONP disabled");return new H3(t)}var Xl={polling:R6,websocket:M6},Ut=Mn("engine.io-client:socket"),en=class extends m0{constructor(e,r={}){super();e&&typeof e=="object"&&(r=e,e=null),e?(e=Jc(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Jc(r.host).host),this.secure=r.secure!=null?r.secure:typeof location!="undefined"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=r.port||(typeof location!="undefined"&&location.port?location.port:this.secure?443:80),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=nf.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){Ut('creating transport "%s"',e);let r=B6(this.opts.query);r.EIO=Ji.protocol,r.transport=e,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Ut("options: %j",n),new Xl[e](n)}open(){let e;if(this.opts.rememberUpgrade&&en.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){let r=this;setTimeout(function(){r.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(r){Ut("error while creating transport: %s",r),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){Ut("setting transport %s",e.name);let r=this;this.transport&&(Ut("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){r.onDrain()}).on("packet",function(n){r.onPacket(n)}).on("error",function(n){r.onError(n)}).on("close",function(){r.onClose("transport close")})}probe(e){Ut('probing transport "%s"',e);let r=this.createTransport(e,{probe:1}),n=!1,i=this;en.priorWebsocketSuccess=!1;function a(){if(i.onlyBinaryUpgrades){let b=!this.supportsBinary&&i.transport.supportsBinary;n=n||b}n||(Ut('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(b){if(!n)if(b.type==="pong"&&b.data==="probe"){if(Ut('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",r),!r)return;en.priorWebsocketSuccess=r.name==="websocket",Ut('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||i.readyState!=="closed"&&(Ut("changing transport and sending upgrade packet"),u(),i.setTransport(r),r.send([{type:"upgrade"}]),i.emit("upgrade",r),r=null,i.upgrading=!1,i.flush())})}else{Ut('probe transport "%s" failed',e);let x=new Error("probe error");x.transport=r.name,i.emit("upgradeError",x)}}))}function s(){n||(n=!0,u(),r.close(),r=null)}function o(b){let x=new Error("probe error: "+b);x.transport=r.name,s(),Ut('probe transport "%s" failed because of error: %s',e,b),i.emit("upgradeError",x)}function f(){o("transport closed")}function c(){o("socket closed")}function d(b){r&&b.name!==r.name&&(Ut('"%s" works - aborting "%s"',b.name,r.name),s())}function u(){r.removeListener("open",a),r.removeListener("error",o),r.removeListener("close",f),i.removeListener("close",c),i.removeListener("upgrading",d)}r.once("open",a),r.once("error",o),r.once("close",f),this.once("close",c),this.once("upgrading",d),r.open()}onOpen(){if(Ut("socket open"),this.readyState="open",en.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){Ut("starting upgrade probes");let e=0,r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ut('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":let r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Ut('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ut("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let a={type:e,data:r,options:n};this.emit("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){let e=this;(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():r()}):this.upgrading?i():r());function r(){e.onClose("forced close"),Ut("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),r()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this}onError(e){Ut("socket error %j",e),en.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Ut('socket close with reason: "%s"',e);let n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,r),n.writeBuffer=[],n.prevBufferLen=0}}filterUpgrades(e){let r=[],n=0,i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};en.priorWebsocketSuccess=!1;en.protocol=Ji.protocol;function B6(t){let e={};for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var bf=en,Da=(t,e)=>new bf(t,e),T6=bf,I6=bf.protocol,D6=Bs,K6=Xl,U6=Ji;Da.Socket=T6;Da.protocol=I6;Da.Transport=D6;Da.transports=K6;Da.parser=U6;var pf=gr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;let r=typeof ArrayBuffer=="function",n=c=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(c):c.buffer instanceof ArrayBuffer,i=Object.prototype.toString,a=typeof Blob=="function"||typeof Blob!="undefined"&&i.call(Blob)==="[object BlobConstructor]",s=typeof File=="function"||typeof File!="undefined"&&i.call(File)==="[object FileConstructor]";function o(c){return r&&(c instanceof ArrayBuffer||n(c))||a&&c instanceof Blob||s&&c instanceof File}e.isBinary=o;function f(c,d){if(!c||typeof c!="object")return!1;if(Array.isArray(c)){for(let u=0,b=c.length;u<b;u++)if(f(c[u]))return!0;return!1}if(o(c))return!0;if(c.toJSON&&typeof c.toJSON=="function"&&arguments.length===1)return f(c.toJSON(),!0);for(let u in c)if(Object.prototype.hasOwnProperty.call(c,u)&&f(c[u]))return!0;return!1}e.hasBinary=f}),Jl=gr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0;function r(s){let o=[],f=s.data,c=s;return c.data=n(f,o),c.attachments=o.length,{packet:c,buffers:o}}e.deconstructPacket=r;function n(s,o){if(!s)return s;if(pf.isBinary(s)){let f={_placeholder:!0,num:o.length};return o.push(s),f}else if(Array.isArray(s)){let f=new Array(s.length);for(let c=0;c<s.length;c++)f[c]=n(s[c],o);return f}else if(typeof s=="object"&&!(s instanceof Date)){let f={};for(let c in s)s.hasOwnProperty(c)&&(f[c]=n(s[c],o));return f}return s}function i(s,o){return s.data=a(s.data,o),s.attachments=void 0,s}e.reconstructPacket=i;function a(s,o){if(!s)return s;if(s&&s._placeholder)return o[s.num];if(Array.isArray(s))for(let f=0;f<s.length;f++)s[f]=a(s[f],o);else if(typeof s=="object")for(let f in s)s.hasOwnProperty(f)&&(s[f]=a(s[f],o));return s}}),br=gr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;let r=Mn("socket.io-parser");e.protocol=5;var n;(function(f){f[f.CONNECT=0]="CONNECT",f[f.DISCONNECT=1]="DISCONNECT",f[f.EVENT=2]="EVENT",f[f.ACK=3]="ACK",f[f.CONNECT_ERROR=4]="CONNECT_ERROR",f[f.BINARY_EVENT=5]="BINARY_EVENT",f[f.BINARY_ACK=6]="BINARY_ACK"})(n=e.PacketType||(e.PacketType={}));class i{encode(c){return r("encoding packet %j",c),(c.type===n.EVENT||c.type===n.ACK)&&pf.hasBinary(c)?(c.type=c.type===n.EVENT?n.BINARY_EVENT:n.BINARY_ACK,this.encodeAsBinary(c)):[this.encodeAsString(c)]}encodeAsString(c){let d=""+c.type;return(c.type===n.BINARY_EVENT||c.type===n.BINARY_ACK)&&(d+=c.attachments+"-"),c.nsp&&c.nsp!=="/"&&(d+=c.nsp+","),c.id!=null&&(d+=c.id),c.data!=null&&(d+=JSON.stringify(c.data)),r("encoded %j as %s",c,d),d}encodeAsBinary(c){let d=Jl.deconstructPacket(c),u=this.encodeAsString(d.packet),b=d.buffers;return b.unshift(u),b}}e.Encoder=i;class a extends m0{constructor(){super()}add(c){let d;if(typeof c=="string")d=this.decodeString(c),d.type===n.BINARY_EVENT||d.type===n.BINARY_ACK?(this.reconstructor=new o(d),d.attachments===0&&super.emit("decoded",d)):super.emit("decoded",d);else if(pf.isBinary(c)||c.base64)if(this.reconstructor)d=this.reconstructor.takeBinaryData(c),d&&(this.reconstructor=null,super.emit("decoded",d));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+c)}decodeString(c){let d=0,u={type:Number(c.charAt(0))};if(n[u.type]===void 0)throw new Error("unknown packet type "+u.type);if(u.type===n.BINARY_EVENT||u.type===n.BINARY_ACK){let x=d+1;for(;c.charAt(++d)!=="-"&&d!=c.length;);let A=c.substring(x,d);if(A!=Number(A)||c.charAt(d)!=="-")throw new Error("Illegal attachments");u.attachments=Number(A)}if(c.charAt(d+1)==="/"){let x=d+1;for(;++d&&!(c.charAt(d)===","||d===c.length););u.nsp=c.substring(x,d)}else u.nsp="/";let b=c.charAt(d+1);if(b!==""&&Number(b)==b){let x=d+1;for(;++d;){let A=c.charAt(d);if(A==null||Number(A)!=A){--d;break}if(d===c.length)break}u.id=Number(c.substring(x,d+1))}if(c.charAt(++d)){let x=s(c.substr(d));if(a.isPayloadValid(u.type,x))u.data=x;else throw new Error("invalid payload")}return r("decoded %s as %j",c,u),u}static isPayloadValid(c,d){switch(c){case n.CONNECT:return typeof d=="object";case n.DISCONNECT:return d===void 0;case n.CONNECT_ERROR:return typeof d=="string"||typeof d=="object";case n.EVENT:case n.BINARY_EVENT:return Array.isArray(d)&&d.length>0;case n.ACK:case n.BINARY_ACK:return Array.isArray(d)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}e.Decoder=a;function s(f){try{return JSON.parse(f)}catch(c){return!1}}class o{constructor(c){this.packet=c,this.buffers=[],this.reconPack=c}takeBinaryData(c){if(this.buffers.push(c),this.buffers.length===this.reconPack.attachments){let d=Jl.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),d}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}}),zr=gr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0;function r(n,i,a){return n.on(i,a),function(){n.off(i,a)}}e.on=r}),Ql=gr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;class r extends m0{on(i,a){return super.on(i,a),this}once(i,a){return super.once(i,a),this}emit(i,...a){return super.emit(i,...a),this}emitReserved(i,...a){return super.emit(i,...a),this}listeners(i){return super.listeners(i)}}e.StrictEventEmitter=r}),eh=gr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;let r=Mn("socket.io-client:socket"),n=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class i extends Ql.StrictEventEmitter{constructor(s,o,f){super();this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=o,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},f&&f.auth&&(this.auth=f.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;let s=this.io;this.subs=[zr.on(s,"open",this.onopen.bind(this)),zr.on(s,"packet",this.onpacket.bind(this)),zr.on(s,"error",this.onerror.bind(this)),zr.on(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...o){if(n.hasOwnProperty(s))throw new Error('"'+s+'" is a reserved event name');o.unshift(s);let f={type:br.PacketType.EVENT,data:o};f.options={},f.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"&&(r("emitting packet with ack id %d",this.ids),this.acks[this.ids]=o.pop(),f.id=this.ids++);let c=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!c||!this.connected)?r("discard packet as the transport is not currently writable"):this.connected?this.packet(f):this.sendBuffer.push(f),this.flags={},this}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){r("transport is open - connecting"),typeof this.auth=="function"?this.auth(s=>{this.packet({type:br.PacketType.CONNECT,data:s})}):this.packet({type:br.PacketType.CONNECT,data:this.auth})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s){r("close (%s)",s),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",s)}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case br.PacketType.CONNECT:if(s.data&&s.data.sid){let c=s.data.sid;this.onconnect(c)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case br.PacketType.EVENT:this.onevent(s);break;case br.PacketType.BINARY_EVENT:this.onevent(s);break;case br.PacketType.ACK:this.onack(s);break;case br.PacketType.BINARY_ACK:this.onack(s);break;case br.PacketType.DISCONNECT:this.ondisconnect();break;case br.PacketType.CONNECT_ERROR:let f=new Error(s.data.message);f.data=s.data.data,this.emitReserved("connect_error",f);break}}onevent(s){let o=s.data||[];r("emitting event %j",o),s.id!=null&&(r("attaching ack callback to event"),o.push(this.ack(s.id))),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){let o=this._anyListeners.slice();for(let f of o)f.apply(this,s)}super.emit.apply(this,s)}ack(s){let o=this,f=!1;return function(...c){f||(f=!0,r("sending ack %j",c),o.packet({type:br.PacketType.ACK,id:s,data:c}))}}onack(s){let o=this.acks[s.id];typeof o=="function"?(r("calling ack %s with %j",s.id,s.data),o.apply(this,s.data),delete this.acks[s.id]):r("bad ack %s",s.id)}onconnect(s){r("socket connected with id %s",s),this.id=s,this.connected=!0,this.disconnected=!1,this.emitReserved("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>this.packet(s)),this.sendBuffer=[]}ondisconnect(){r("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(r("performing disconnect (%s)",this.nsp),this.packet({type:br.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){let o=this._anyListeners;for(let f=0;f<o.length;f++)if(s===o[f])return o.splice(f,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}e.Socket=i}),z6=Ka;function Ka(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ka.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Ka.prototype.reset=function(){this.attempts=0};Ka.prototype.setMin=function(t){this.ms=t};Ka.prototype.setMax=function(t){this.max=t};Ka.prototype.setJitter=function(t){this.jitter=t};var xf=gr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;let r=Mn("socket.io-client:manager");class n extends Ql.StrictEventEmitter{constructor(a,s){super();this.nsps={},this.subs=[],a&&typeof a=="object"&&(s=a,a=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||Infinity),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor(s.randomizationFactor||.5),this.backoff=new z6({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=a;let o=s.parser||br;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection}reconnectionAttempts(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}reconnectionDelay(a){var s;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(s=this.backoff)===null||s===void 0||s.setMin(a),this)}randomizationFactor(a){var s;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(s=this.backoff)===null||s===void 0||s.setJitter(a),this)}reconnectionDelayMax(a){var s;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(s=this.backoff)===null||s===void 0||s.setMax(a),this)}timeout(a){return arguments.length?(this._timeout=a,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(a){if(r("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;r("opening %s",this.uri),this.engine=Da(this.uri,this.opts);let s=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;let f=zr.on(s,"open",function(){o.onopen(),a&&a()}),c=zr.on(s,"error",d=>{r("error"),o.cleanup(),o._readyState="closed",this.emitReserved("error",d),a?a(d):o.maybeReconnectOnOpen()});if(this._timeout!==!1){let d=this._timeout;r("connect attempt will timeout after %d",d),d===0&&f();let u=setTimeout(()=>{r("connect attempt timed out after %d",d),f(),s.close(),s.emit("error",new Error("timeout"))},d);this.opts.autoUnref&&u.unref(),this.subs.push(function(){clearTimeout(u)})}return this.subs.push(f),this.subs.push(c),this}connect(a){return this.open(a)}onopen(){r("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let a=this.engine;this.subs.push(zr.on(a,"ping",this.onping.bind(this)),zr.on(a,"data",this.ondata.bind(this)),zr.on(a,"error",this.onerror.bind(this)),zr.on(a,"close",this.onclose.bind(this)),zr.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(a){this.decoder.add(a)}ondecoded(a){this.emitReserved("packet",a)}onerror(a){r("error",a),this.emitReserved("error",a)}socket(a,s){let o=this.nsps[a];return o||(o=new eh.Socket(this,a,s),this.nsps[a]=o),o}_destroy(a){let s=Object.keys(this.nsps);for(let o of s)if(this.nsps[o].active){r("socket %s is still active, skipping close",o);return}this._close()}_packet(a){r("writing packet %j",a);let s=this.encoder.encode(a);for(let o=0;o<s.length;o++)this.engine.write(s[o],a.options)}cleanup(){r("cleanup"),this.subs.forEach(a=>a()),this.subs.length=0,this.decoder.destroy()}_close(){r("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(a){r("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let a=this;if(this.backoff.attempts>=this._reconnectionAttempts)r("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let s=this.backoff.duration();r("will wait %dms before reconnect attempt",s),this._reconnecting=!0;let o=setTimeout(()=>{a.skipReconnect||(r("attempting reconnect"),this.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(f=>{f?(r("reconnect attempt error"),a._reconnecting=!1,a.reconnect(),this.emitReserved("reconnect_error",f)):(r("reconnect success"),a.onreconnect())}))},s);this.opts.autoUnref&&o.unref(),this.subs.push(function(){clearTimeout(o)})}}onreconnect(){let a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}e.Manager=n}),F6=gr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.io=e.Manager=e.protocol=void 0,Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return eh.Socket}});let r=Mn("socket.io-client");t.exports=e=i;let n=e.managers={};function i(s,o){typeof s=="object"&&(o=s,s=void 0),o=o||{};let f=w3.url(s,o.path),c=f.source,d=f.id,u=f.path,b=n[d]&&u in n[d].nsps,x=o.forceNew||o["force new connection"]||o.multiplex===!1||b,A;return x?(r("ignoring socket cache for %s",c),A=new xf.Manager(c,o)):(n[d]||(r("new io instance for %s",c),n[d]=new xf.Manager(c,o)),A=n[d]),f.query&&!o.query&&(o.query=f.queryKey),A.socket(f.path,o)}e.io=i,Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return br.protocol}}),e.connect=i;var a=xf;Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return a.Manager}})}),yf=Kx(F6);yf.Manager;function O6(t){let e,r=t[1].message+"",n;return{c(){e=Me("p"),n=Ft(r),ve(e,"class","text-white")},m(i,a){dt(i,e,a),ke(e,n)},p(i,a){a&2&&r!==(r=i[1].message+"")&&mr(n,r)},d(i){i&&ot(e)}}}function N6(t){let e;return{c(){e=Me("p"),e.textContent="Message is encrypted!",ve(e,"class","text-white")},m(r,n){dt(r,e,n)},p:ft,d(r){r&&ot(e)}}}function q6(t){let e,r,n,i;function a(f,c){return f[1].encrypted?N6:O6}let s=a(t,-1),o=s(t);return{c(){e=Me("article"),o.c(),ve(e,"class",r=""+(lr(`__width rounded inline-block p-2 m-2 ${t[3](t[0])} ${t[1].encrypted?"bg-pink-600":null}`)+" svelte-c71eap"))},m(f,c){dt(f,e,c),o.m(e,null),n||(i=kt(e,"click",function(){Zr(t[2])&&t[2].apply(this,arguments)}),n=!0)},p(f,[c]){t=f,s===(s=a(t,c))&&o?o.p(t,c):(o.d(1),o=s(t),o&&(o.c(),o.m(e,null))),c&3&&r!==(r=""+(lr(`__width rounded inline-block p-2 m-2 ${t[3](t[0])} ${t[1].encrypted?"bg-pink-600":null}`)+" svelte-c71eap"))&&ve(e,"class",r)},i:ft,o:ft,d(f){f&&ot(e),o.d(),n=!1,i()}}}function L6(t,e,r){let{user:n}=e,{message:i}=e,{decryptFunction:a}=e,s=o=>{if(i.username===o)return"self-end bg-blue-500";if(i.username==="Bot")switch(i.event){case"partner disconnected":return"bg-red-500";case"connected":return"self-end bg-purple-600";case"disconnected":return"self-end bg-red-500"}else return i.event==="partner connected"?"bg-purple-600":"bg-green-500"};return t.$$set=o=>{"user"in o&&r(0,n=o.user),"message"in o&&r(1,i=o.message),"decryptFunction"in o&&r(2,a=o.decryptFunction)},[n,i,a,s]}var th=class extends Pt{constructor(e){super();Tt(this,e,L6,q6,At,{user:0,message:1,decryptFunction:2})}},rh=th;var mf=function(e,r){var n="000000000"+e;return n.substr(n.length-r)},j6=typeof window=="object"?window:self,$6=Object.keys(j6).length,H6=navigator.mimeTypes?navigator.mimeTypes.length:0,W6=mf((H6+navigator.userAgent.length).toString(36)+$6.toString(36),4),qs=function(){return W6},gf,nh=typeof window!="undefined"&&(window.crypto||window.msCrypto)||typeof self!="undefined"&&self.crypto;nh?(ih=Math.pow(2,32)-1,gf=function(){return Math.abs(nh.getRandomValues(new Uint32Array(1))[0]/ih)}):gf=Math.random;var ih,Y6=gf,v0=0,vf=4,Ls=36,ah=Math.pow(Ls,vf);function wf(){return mf((Y6()*ah<<0).toString(Ls),vf)}function sh(){return v0=v0<ah?v0:0,v0++,v0-1}function w0(){var t="c",e=new Date().getTime().toString(Ls),r=mf(sh().toString(Ls),vf),n=qs(),i=wf()+wf();return t+e+r+n+i}w0.slug=function(){var e=new Date().getTime().toString(36),r=sh().toString(36).slice(-4),n=qs().slice(0,1)+qs().slice(-1),i=wf().slice(-2);return e.slice(-2)+r+n+i};w0.isCuid=function(e){return typeof e!="string"?!1:!!e.startsWith("c")};w0.isSlug=function(e){if(typeof e!="string")return!1;var r=e.length;return r>=7&&r<=10};w0.fingerprint=qs;var G6=w0,tn=G6;var Tn=oi({publicKey:"",privateKey:"",password:""}),_0=oi({public:""});var pt=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:t=>`Symbol(${t})`;function _f(){}var oh=Number.isNaN||function(t){return t!==t},ch=_f;function Sr(t){return typeof t=="object"&&t!==null||typeof t=="function"}function Af(t){return t.slice()}function V6(t,e,r,n,i){new Uint8Array(t).set(new Uint8Array(r,n,i),e)}function fh(t){return!(Z6(t)===!1||t===Infinity)}function Z6(t){return!(typeof t!="number"||oh(t)||t<0)}function dh(t,e,r){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,r)}function ui(t,e,r,n){let i=t[e];if(i!==void 0){if(typeof i!="function")throw new TypeError(`${i} is not a method`);switch(r){case 0:return()=>kf(i,t,n);case 1:return a=>{let s=[a].concat(n);return kf(i,t,s)}}}return()=>Kt(void 0)}function js(t,e,r){let n=t[e];if(n!==void 0)return dh(n,t,r)}function kf(t,e,r){try{return Kt(dh(t,e,r))}catch(n){return Oe(n)}}function $s(t){return t}function Hs(t){return!1}function Ua(t){if(t=Number(t),oh(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Ws(t){if(t===void 0)return()=>1;if(typeof t!="function")throw new TypeError("size property of a queuing strategy must be a function");return e=>t(e)}var Sf=Promise,X6=Promise.prototype.then,J6=Promise.resolve.bind(Sf),Q6=Promise.reject.bind(Sf);function vr(t){return new Sf(t)}function Kt(t){return J6(t)}function Oe(t){return Q6(t)}function Dn(t,e,r){return X6.call(t,e,r)}function Fr(t,e,r){Dn(Dn(t,e,r),void 0,ch)}function Ef(t,e){Fr(t,e)}function uh(t,e){Fr(t,void 0,e)}function ea(t,e,r){return Dn(t,e,r)}function za(t){Dn(t,void 0,ch)}var lh=16384,Or=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let r=this._back,n=r;r._elements.length===lh-1&&(n={_elements:[],_next:void 0}),r._elements.push(e),n!==r&&(this._back=n,r._next=n),++this._size}shift(){let e=this._front,r=e,n=this._cursor,i=n+1,a=e._elements,s=a[n];return i===lh&&(r=e._next,i=0),--this._size,this._cursor=i,e!==r&&(this._front=r),a[n]=void 0,s}forEach(e){let r=this._cursor,n=this._front,i=n._elements;for(;(r!==i.length||n._next!==void 0)&&!(r===i.length&&(n=n._next,i=n._elements,r=0,i.length===0));)e(i[r]),++r}peek(){let e=this._front,r=this._cursor;return e._elements[r]}};function Nr(t,e,r){let n=null;r===!0&&(n=Object.prototype);let i=Object.create(n);return i.value=t,i.done=e,i}function bh(t,e){t._forAuthorCode=!0,t._ownerReadableStream=e,e._reader=t,e._state==="readable"?Cf(t):e._state==="closed"?e5(t):hh(t,e._storedError)}function Pf(t,e){let r=t._ownerReadableStream;return ta(r,e)}function Fa(t){t._ownerReadableStream._state==="readable"?Rf(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):t5(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function Oa(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function Cf(t){t._closedPromise=vr((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r})}function hh(t,e){Cf(t),Rf(t,e)}function e5(t){Cf(t),ph(t)}function Rf(t,e){za(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}function t5(t,e){hh(t,e)}function ph(t){t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}var Mf=In("[[CancelSteps]]"),Bf=In("[[PullSteps]]");function Ys(t,e=!1){let r=new xh(t);return r._forAuthorCode=e,r}function yh(t){return vr((r,n)=>{let i={_resolve:r,_reject:n};t._reader._readRequests.push(i)})}function Tf(t,e,r){let n=t._reader;n._readRequests.shift()._resolve(Nr(e,r,n._forAuthorCode))}function Gs(t){return t._reader._readRequests.length}function mh(t){let e=t._reader;return!(e===void 0||!ra(e))}var xh=class{constructor(e){if(rn(e)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(li(e)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");bh(this,e),this._readRequests=new Or}get closed(){return ra(this)?this._closedPromise:Oe(Zs("closed"))}cancel(e){return ra(this)?this._ownerReadableStream===void 0?Oe(Oa("cancel")):Pf(this,e):Oe(Zs("cancel"))}read(){return ra(this)?this._ownerReadableStream===void 0?Oe(Oa("read from")):Vs(this):Oe(Zs("read"))}releaseLock(){if(!ra(this))throw Zs("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Fa(this)}}};function ra(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_readRequests"))}function Vs(t){let e=t._ownerReadableStream;return e._disturbed=!0,e._state==="closed"?Kt(Nr(void 0,!0,t._forAuthorCode)):e._state==="errored"?Oe(e._storedError):e._readableStreamController[Bf]()}function Zs(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}var Xs;typeof In.asyncIterator=="symbol"&&(Xs={[In.asyncIterator](){return this}},Object.defineProperty(Xs,In.asyncIterator,{enumerable:!1}));var Js={next(){if(gh(this)===!1)return Oe(vh("next"));let t=this._asyncIteratorReader;return t._ownerReadableStream===void 0?Oe(Oa("iterate")):ea(Vs(t),e=>{let r=e.done;r&&Fa(t);let n=e.value;return Nr(n,r,!0)})},return(t){if(gh(this)===!1)return Oe(vh("next"));let e=this._asyncIteratorReader;if(e._ownerReadableStream===void 0)return Oe(Oa("finish iterating"));if(e._readRequests.length>0)return Oe(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(this._preventCancel===!1){let r=Pf(e,t);return Fa(e),ea(r,()=>Nr(t,!0,!0))}return Fa(e),Kt(Nr(t,!0,!0))}};Xs!==void 0&&Object.setPrototypeOf(Js,Xs);Object.defineProperty(Js,"next",{enumerable:!1});Object.defineProperty(Js,"return",{enumerable:!1});function r5(t,e=!1){let r=Ys(t),n=Object.create(Js);return n._asyncIteratorReader=r,n._preventCancel=Boolean(e),n}function gh(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorReader"))}function vh(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}function If(t){let e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function Df(t,e,r){if(r=Number(r),!fh(r))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:e,size:r}),t._queueTotalSize+=r}function n5(t){return t._queue.peek().value}function hi(t){t._queue=new Or,t._queueTotalSize=0}var wh=In("[[AbortSteps]]"),_h=In("[[ErrorSteps]]"),Kf=class{constructor(e={},r={}){kh(this);let n=r.size,i=r.highWaterMark;if(e.type!==void 0)throw new RangeError("Invalid type is specified");let s=Ws(n);i===void 0&&(i=1),i=Ua(i),i5(this,e,i,s)}get locked(){if(na(this)===!1)throw eo("locked");return Na(this)}abort(e){return na(this)===!1?Oe(eo("abort")):Na(this)===!0?Oe(new TypeError("Cannot abort a stream that already has a writer")):Qs(this,e)}close(){return na(this)===!1?Oe(eo("close")):Na(this)===!0?Oe(new TypeError("Cannot close a stream that already has a writer")):nn(this)===!0?Oe(new TypeError("Cannot close an already-closing stream")):Sh(this)}getWriter(){if(na(this)===!1)throw eo("getWriter");return Ah(this)}};function Ah(t){return new Eh(t)}function a5(t,e,r,n,i=1,a=()=>1){let s=Object.create(Kf.prototype);kh(s);let o=Object.create(Uf.prototype);return Ch(s,o,t,e,r,n,i,a),s}function kh(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new Or,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function na(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_writableStreamController"))}function Na(t){return t._writer!==void 0}function Qs(t,e){let r=t._state;if(r==="closed"||r==="errored")return Kt(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let n=!1;r==="erroring"&&(n=!0,e=void 0);let i=vr((a,s)=>{t._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:s,_reason:e,_wasAlreadyErroring:n}});return t._pendingAbortRequest._promise=i,n===!1&&zf(t,e),i}function Sh(t){let e=t._state;if(e==="closed"||e==="errored")return Oe(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));let r=vr((i,a)=>{let s={_resolve:i,_reject:a};t._closeRequest=s}),n=t._writer;return n!==void 0&&t._backpressure===!0&&e==="writable"&&Ff(n),s5(t._writableStreamController),r}function o5(t){return vr((r,n)=>{let i={_resolve:r,_reject:n};t._writeRequests.push(i)})}function Nf(t,e){if(t._state==="writable"){zf(t,e);return}Of(t)}function zf(t,e){let r=t._writableStreamController;t._state="erroring",t._storedError=e;let n=t._writer;n!==void 0&&Ph(n,e),c5(t)===!1&&r._started===!0&&Of(t)}function Of(t){t._state="errored",t._writableStreamController[_h]();let e=t._storedError;if(t._writeRequests.forEach(i=>{i._reject(e)}),t._writeRequests=new Or,t._pendingAbortRequest===void 0){to(t);return}let r=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,r._wasAlreadyErroring===!0){r._reject(e),to(t);return}let n=t._writableStreamController[wh](r._reason);Fr(n,()=>{r._resolve(),to(t)},i=>{r._reject(i),to(t)})}function f5(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}function d5(t,e){t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,Nf(t,e)}function u5(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,t._state==="erroring"&&(t._storedError=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";let r=t._writer;r!==void 0&&Rh(r)}function l5(t,e){t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),Nf(t,e)}function nn(t){return!(t._closeRequest===void 0&&t._inFlightCloseRequest===void 0)}function c5(t){return!(t._inFlightWriteRequest===void 0&&t._inFlightCloseRequest===void 0)}function h5(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0}function b5(t){t._inFlightWriteRequest=t._writeRequests.shift()}function to(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);let e=t._writer;e!==void 0&&qf(e,t._storedError)}function Lf(t,e){let r=t._writer;r!==void 0&&e!==t._backpressure&&(e===!0?p5(r):Ff(r)),t._backpressure=e}var Eh=class{constructor(e){if(na(e)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(Na(e)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let r=e._state;if(r==="writable")nn(e)===!1&&e._backpressure===!0?no(this):Dh(this),ro(this);else if(r==="erroring")jf(this,e._storedError),ro(this);else if(r==="closed")Dh(this),m5(this);else{let n=e._storedError;jf(this,n),Ih(this,n)}}get closed(){return ia(this)===!1?Oe(aa("closed")):this._closedPromise}get desiredSize(){if(ia(this)===!1)throw aa("desiredSize");if(this._ownerWritableStream===void 0)throw A0("desiredSize");return y5(this)}get ready(){return ia(this)===!1?Oe(aa("ready")):this._readyPromise}abort(e){return ia(this)===!1?Oe(aa("abort")):this._ownerWritableStream===void 0?Oe(A0("abort")):x5(this,e)}close(){if(ia(this)===!1)return Oe(aa("close"));let e=this._ownerWritableStream;return e===void 0?Oe(A0("close")):nn(e)===!0?Oe(new TypeError("Cannot close an already-closing stream")):Mh(this)}releaseLock(){if(ia(this)===!1)throw aa("releaseLock");this._ownerWritableStream!==void 0&&Bh(this)}write(e){return ia(this)===!1?Oe(aa("write")):this._ownerWritableStream===void 0?Oe(A0("write to")):Th(this,e)}};function ia(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream"))}function x5(t,e){let r=t._ownerWritableStream;return Qs(r,e)}function Mh(t){let e=t._ownerWritableStream;return Sh(e)}function g5(t){let e=t._ownerWritableStream,r=e._state;return nn(e)===!0||r==="closed"?Kt(void 0):r==="errored"?Oe(e._storedError):Mh(t)}function w5(t,e){t._closedPromiseState==="pending"?qf(t,e):v5(t,e)}function Ph(t,e){t._readyPromiseState==="pending"?Kh(t,e):_5(t,e)}function y5(t){let e=t._ownerWritableStream,r=e._state;return r==="errored"||r==="erroring"?null:r==="closed"?0:Uh(e._writableStreamController)}function Bh(t){let e=t._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ph(t,r),w5(t,r),e._writer=void 0,t._ownerWritableStream=void 0}function Th(t,e){let r=t._ownerWritableStream,n=r._writableStreamController,i=A5(n,e);if(r!==t._ownerWritableStream)return Oe(A0("write to"));let a=r._state;if(a==="errored")return Oe(r._storedError);if(nn(r)===!0||a==="closed")return Oe(new TypeError("The stream is closing or closed and cannot be written to"));if(a==="erroring")return Oe(r._storedError);let s=o5(r);return k5(n,e,i),s}var Uf=class{constructor(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}error(e){if(S5(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&zh(this,e)}[wh](e){let r=this._abortAlgorithm(e);return io(this),r}[_h](){hi(this)}};function S5(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream"))}function Ch(t,e,r,n,i,a,s,o){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,hi(e),e._started=!1,e._strategySizeAlgorithm=o,e._strategyHWM=s,e._writeAlgorithm=n,e._closeAlgorithm=i,e._abortAlgorithm=a;let f=$f(e);Lf(t,f);let c=r(),d=Kt(c);Fr(d,()=>{e._started=!0,ao(e)},u=>{e._started=!0,Nf(t,u)})}function i5(t,e,r,n){let i=Object.create(Uf.prototype);function a(){return js(e,"start",[i])}let s=ui(e,"write",1,[i]),o=ui(e,"close",0,[]),f=ui(e,"abort",1,[]);Ch(t,i,a,s,o,f,r,n)}function io(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function s5(t){Df(t,"close",0),ao(t)}function A5(t,e){try{return t._strategySizeAlgorithm(e)}catch(r){return Hf(t,r),1}}function Uh(t){return t._strategyHWM-t._queueTotalSize}function k5(t,e,r){let n={chunk:e};try{Df(t,n,r)}catch(a){Hf(t,a);return}let i=t._controlledWritableStream;if(nn(i)===!1&&i._state==="writable"){let a=$f(t);Lf(i,a)}ao(t)}function ao(t){let e=t._controlledWritableStream;if(t._started===!1||e._inFlightWriteRequest!==void 0)return;if(e._state==="erroring"){Of(e);return}if(t._queue.length===0)return;let n=n5(t);n==="close"?E5(t):C5(t,n.chunk)}function Hf(t,e){t._controlledWritableStream._state==="writable"&&zh(t,e)}function E5(t){let e=t._controlledWritableStream;h5(e),If(t);let r=t._closeAlgorithm();io(t),Fr(r,()=>{u5(e)},n=>{l5(e,n)})}function C5(t,e){let r=t._controlledWritableStream;b5(r);let n=t._writeAlgorithm(e);Fr(n,()=>{f5(r);let i=r._state;if(If(t),nn(r)===!1&&i==="writable"){let a=$f(t);Lf(r,a)}ao(t)},i=>{r._state==="writable"&&io(t),d5(r,i)})}function $f(t){return Uh(t)<=0}function zh(t,e){let r=t._controlledWritableStream;io(t),zf(r,e)}function eo(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function aa(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function A0(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function ro(t){t._closedPromise=vr((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r,t._closedPromiseState="pending"})}function Ih(t,e){ro(t),qf(t,e)}function m5(t){ro(t),Rh(t)}function qf(t,e){za(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected"}function v5(t,e){Ih(t,e)}function Rh(t){t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved"}function no(t){t._readyPromise=vr((e,r)=>{t._readyPromise_resolve=e,t._readyPromise_reject=r}),t._readyPromiseState="pending"}function jf(t,e){no(t),Kh(t,e)}function Dh(t){no(t),Ff(t)}function Kh(t,e){za(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected"}function p5(t){no(t)}function _5(t,e){jf(t,e)}function Ff(t){t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled"}function Fh(t){if(typeof t!="object"||t===null)return!1;try{return typeof t.aborted=="boolean"}catch(e){return!1}}var Oh=typeof DOMException!="undefined"?DOMException:void 0;function P5(t){if(!(typeof t=="function"||typeof t=="object"))return!1;try{return new t,!0}catch(e){return!1}}function R5(){let t=function(r,n){this.message=r||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}var M5=P5(Oh)?Oh:R5();function Nh(t,e,r,n,i,a){let s=Ys(t),o=Ah(e);t._disturbed=!0;let f=!1,c=Kt(void 0);return vr((d,u)=>{let b;if(a!==void 0){if(b=()=>{let X=new M5("Aborted","AbortError"),te=[];n===!1&&te.push(()=>e._state==="writable"?Qs(e,X):Kt(void 0)),i===!1&&te.push(()=>t._state==="readable"?ta(t,X):Kt(void 0)),Q(()=>Promise.all(te.map(re=>re())),!0,X)},a.aborted===!0){b();return}a.addEventListener("abort",b)}function x(){return vr((X,te)=>{function re(J){J?X():Dn(A(),re,te)}re(!1)})}function A(){return f===!0?Kt(!0):Dn(o._readyPromise,()=>Dn(Vs(s),X=>X.done===!0?!0:(c=Dn(Th(o,X.value),void 0,_f),!1)))}if(O(t,s._closedPromise,X=>{n===!1?Q(()=>Qs(e,X),!0,X):ne(!0,X)}),O(e,o._closedPromise,X=>{i===!1?Q(()=>ta(t,X),!0,X):ne(!0,X)}),T(t,s._closedPromise,()=>{r===!1?Q(()=>g5(o)):ne()}),nn(e)===!0||e._state==="closed"){let X=new TypeError("the destination writable stream closed before all data could be piped to it");i===!1?Q(()=>ta(t,X),!0,X):ne(!0,X)}za(x());function S(){let X=c;return Dn(c,()=>X!==c?S():void 0)}function O(X,te,re){X._state==="errored"?re(X._storedError):uh(te,re)}function T(X,te,re){X._state==="closed"?re():Ef(te,re)}function Q(X,te,re){if(f===!0)return;f=!0,e._state==="writable"&&nn(e)===!1?Ef(S(),J):J();function J(){Fr(X(),()=>F(te,re),se=>F(!0,se))}}function ne(X,te){f!==!0&&(f=!0,e._state==="writable"&&nn(e)===!1?Ef(S(),()=>F(X,te)):F(X,te))}function F(X,te){Bh(o),Fa(s),a!==void 0&&a.removeEventListener("abort",b),X?u(te):d(void 0)}})}var Wf=class{constructor(){throw new TypeError}get desiredSize(){if(so(this)===!1)throw fo("desiredSize");return Yf(this)}close(){if(so(this)===!1)throw fo("close");if(qa(this)===!1)throw new TypeError("The stream is not in a state that permits close");S0(this)}enqueue(e){if(so(this)===!1)throw fo("enqueue");if(qa(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return co(this,e)}error(e){if(so(this)===!1)throw fo("error");bi(this,e)}[Mf](e){hi(this);let r=this._cancelAlgorithm(e);return oo(this),r}[Bf](){let e=this._controlledReadableStream;if(this._queue.length>0){let n=If(this);return this._closeRequested===!0&&this._queue.length===0?(oo(this),E0(e)):k0(this),Kt(Nr(n,!1,e._reader._forAuthorCode))}let r=yh(e);return k0(this),r}};function so(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream"))}function k0(t){if(qh(t)===!1)return;if(t._pulling===!0){t._pullAgain=!0;return}t._pulling=!0;let r=t._pullAlgorithm();Fr(r,()=>{t._pulling=!1,t._pullAgain===!0&&(t._pullAgain=!1,k0(t))},n=>{bi(t,n)})}function qh(t){let e=t._controlledReadableStream;return qa(t)===!1||t._started===!1?!1:li(e)===!0&&Gs(e)>0||Yf(t)>0}function oo(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function S0(t){let e=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(oo(t),E0(e))}function co(t,e){let r=t._controlledReadableStream;if(li(r)===!0&&Gs(r)>0)Tf(r,e,!1);else{let n;try{n=t._strategySizeAlgorithm(e)}catch(i){throw bi(t,i),i}try{Df(t,e,n)}catch(i){throw bi(t,i),i}}k0(t)}function bi(t,e){let r=t._controlledReadableStream;r._state==="readable"&&(hi(t),oo(t),Lh(r,e))}function Yf(t){let r=t._controlledReadableStream._state;return r==="errored"?null:r==="closed"?0:t._strategyHWM-t._queueTotalSize}function B5(t){return qh(t)!==!0}function qa(t){let e=t._controlledReadableStream._state;return t._closeRequested===!1&&e==="readable"}function jh(t,e,r,n,i,a,s){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,hi(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=s,e._strategyHWM=a,e._pullAlgorithm=n,e._cancelAlgorithm=i,t._readableStreamController=e;let o=r();Fr(Kt(o),()=>{e._started=!0,k0(e)},f=>{bi(e,f)})}function T5(t,e,r,n){let i=Object.create(Wf.prototype);function a(){return js(e,"start",[i])}let s=ui(e,"pull",0,[i]),o=ui(e,"cancel",1,[]);jh(t,i,a,s,o,r,n)}function fo(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function I5(t,e){let r=Ys(t),n=!1,i=!1,a=!1,s,o,f,c,d,u=vr(O=>{d=O});function b(){if(n===!0)return Kt(void 0);n=!0;let O=ea(Vs(r),T=>{if(n=!1,T.done===!0){i===!1&&S0(f._readableStreamController),a===!1&&S0(c._readableStreamController);return}let ne=T.value,F=ne,X=ne;i===!1&&co(f._readableStreamController,F),a===!1&&co(c._readableStreamController,X)});return za(O),Kt(void 0)}function x(O){if(i=!0,s=O,a===!0){let T=Af([s,o]),Q=ta(t,T);d(Q)}return u}function A(O){if(a=!0,o=O,i===!0){let T=Af([s,o]),Q=ta(t,T);d(Q)}return u}function S(){}return f=Gf(S,b,x),c=Gf(S,b,A),uh(r._closedPromise,O=>{bi(f._readableStreamController,O),bi(c._readableStreamController,O)}),[f,c]}var D5=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},$h=class{constructor(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}get view(){if(Vf(this)===!1)throw Zf("view");return this._view}respond(e){if(Vf(this)===!1)throw Zf("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Hs(this._view.buffer)===!0,K5(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(Vf(this)===!1)throw Zf("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");Hs(e.buffer)===!0,U5(this._associatedReadableByteStreamController,e)}},Hh=class{constructor(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}get byobRequest(){if(La(this)===!1)throw P0("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek(),r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create($h.prototype);O5(n,this,r),this._byobRequest=n}return this._byobRequest}get desiredSize(){if(La(this)===!1)throw P0("desiredSize");return Yh(this)}close(){if(La(this)===!1)throw P0("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);z5(this)}enqueue(e){if(La(this)===!1)throw P0("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");let r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");Hs(e.buffer)===!0,F5(this,e)}error(e){if(La(this)===!1)throw P0("error");C0(this,e)}[Mf](e){if(this._pendingPullIntos.length>0){let n=this._pendingPullIntos.peek();n.bytesFilled=0}hi(this);let r=this._cancelAlgorithm(e);return uo(this),r}[Bf](){let e=this._controlledReadableByteStream;if(this._queueTotalSize>0){let i=this._queue.shift();this._queueTotalSize-=i.byteLength,Wh(this);let a;try{a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}catch(s){return Oe(s)}return Kt(Nr(a,!1,e._reader._forAuthorCode))}let r=this._autoAllocateChunkSize;if(r!==void 0){let i;try{i=new ArrayBuffer(r)}catch(s){return Oe(s)}let a={buffer:i,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}let n=yh(e);return sa(this),n}};function La(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream"))}function Vf(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController"))}function sa(t){if(N5(t)===!1)return;if(t._pulling===!0){t._pullAgain=!0;return}t._pulling=!0;let r=t._pullAlgorithm();Fr(r,()=>{t._pulling=!1,t._pullAgain===!0&&(t._pullAgain=!1,sa(t))},n=>{C0(t,n)})}function q5(t){Xf(t),t._pendingPullIntos=new Or}function Jf(t,e){let r=!1;t._state==="closed"&&(r=!0);let n=Gh(e);e.readerType==="default"?Tf(t,n,r):L5(t,n,r)}function Gh(t){let e=t.bytesFilled,r=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,e/r)}function lo(t,e,r,n){t._queue.push({buffer:e,byteOffset:r,byteLength:n}),t._queueTotalSize+=n}function Zh(t,e){let r=e.elementSize,n=e.bytesFilled-e.bytesFilled%r,i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),a=e.bytesFilled+i,s=a-a%r,o=i,f=!1;s>n&&(o=s-e.bytesFilled,f=!0);let c=t._queue;for(;o>0;){let d=c.peek(),u=Math.min(o,d.byteLength),b=e.byteOffset+e.bytesFilled;V6(e.buffer,b,d.buffer,d.byteOffset,u),d.byteLength===u?c.shift():(d.byteOffset+=u,d.byteLength-=u),t._queueTotalSize-=u,Vh(t,u,e),o-=u}return f}function Vh(t,e,r){Xf(t),r.bytesFilled+=e}function Wh(t){t._queueTotalSize===0&&t._closeRequested===!0?(uo(t),E0(t._controlledReadableByteStream)):sa(t)}function Xf(t){t._byobRequest!==void 0&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=void 0,t._byobRequest=void 0)}function Xh(t){for(;t._pendingPullIntos.length>0;){if(t._queueTotalSize===0)return;let e=t._pendingPullIntos.peek();Zh(t,e)===!0&&(Qf(t),Jf(t._controlledReadableByteStream,e))}}function j5(t,e){let r=t._controlledReadableByteStream,n=1;e.constructor!==DataView&&(n=e.constructor.BYTES_PER_ELEMENT);let i=e.constructor,s={buffer:$s(e.buffer),byteOffset:e.byteOffset,byteLength:e.byteLength,bytesFilled:0,elementSize:n,ctor:i,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(s),Jh(r);if(r._state==="closed"){let f=new i(s.buffer,s.byteOffset,0);return Kt(Nr(f,!0,r._reader._forAuthorCode))}if(t._queueTotalSize>0){if(Zh(t,s)===!0){let f=Gh(s);return Wh(t),Kt(Nr(f,!1,r._reader._forAuthorCode))}if(t._closeRequested===!0){let f=new TypeError("Insufficient bytes to fill elements in the given buffer");return C0(t,f),Oe(f)}}t._pendingPullIntos.push(s);let o=Jh(r);return sa(t),o}function $5(t,e){e.buffer=$s(e.buffer);let r=t._controlledReadableByteStream;if(ed(r)===!0)for(;Qh(r)>0;){let n=Qf(t);Jf(r,n)}}function H5(t,e,r){if(r.bytesFilled+e>r.byteLength)throw new RangeError("bytesWritten out of range");if(Vh(t,e,r),r.bytesFilled<r.elementSize)return;Qf(t);let n=r.bytesFilled%r.elementSize;if(n>0){let i=r.byteOffset+r.bytesFilled,a=r.buffer.slice(i-n,i);lo(t,a,0,a.byteLength)}r.buffer=$s(r.buffer),r.bytesFilled-=n,Jf(t._controlledReadableByteStream,r),Xh(t)}function e1(t,e){let r=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");$5(t,r)}else H5(t,e,r);sa(t)}function Qf(t){let e=t._pendingPullIntos.shift();return Xf(t),e}function N5(t){let e=t._controlledReadableByteStream;return e._state!=="readable"||t._closeRequested===!0||t._started===!1?!1:mh(e)===!0&&Gs(e)>0||ed(e)===!0&&Qh(e)>0||Yh(t)>0}function uo(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function z5(t){let e=t._controlledReadableByteStream;if(t._queueTotalSize>0){t._closeRequested=!0;return}if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){let n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw C0(t,n),n}uo(t),E0(e)}function F5(t,e){let r=t._controlledReadableByteStream,n=e.buffer,i=e.byteOffset,a=e.byteLength,s=$s(n);if(mh(r)===!0)if(Gs(r)===0)lo(t,s,i,a);else{let o=new Uint8Array(s,i,a);Tf(r,o,!1)}else ed(r)===!0?(lo(t,s,i,a),Xh(t)):lo(t,s,i,a);sa(t)}function C0(t,e){let r=t._controlledReadableByteStream;r._state==="readable"&&(q5(t),hi(t),uo(t),Lh(r,e))}function Yh(t){let r=t._controlledReadableByteStream._state;return r==="errored"?null:r==="closed"?0:t._strategyHWM-t._queueTotalSize}function K5(t,e){if(e=Number(e),fh(e)===!1)throw new RangeError("bytesWritten must be a finite");e1(t,e)}function U5(t,e){let r=t._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==e.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=e.buffer,e1(t,e.byteLength)}function W5(t,e,r,n,i,a,s){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=void 0,e._queue=e._queueTotalSize=void 0,hi(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=Ua(a),e._pullAlgorithm=n,e._cancelAlgorithm=i,e._autoAllocateChunkSize=s,e._pendingPullIntos=new Or,t._readableStreamController=e;let o=r();Fr(Kt(o),()=>{e._started=!0,sa(e)},f=>{C0(e,f)})}function Y5(t,e,r){let n=Object.create(Hh.prototype);function i(){return js(e,"start",[n])}let a=ui(e,"pull",0,[n]),s=ui(e,"cancel",1,[]),o=e.autoAllocateChunkSize;if(o!==void 0&&(o=Number(o),D5(o)===!1||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");W5(t,n,i,a,s,r,o)}function O5(t,e,r){t._associatedReadableByteStreamController=e,t._view=r}function Zf(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function P0(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function G5(t,e=!1){let r=new t1(t);return r._forAuthorCode=e,r}function Jh(t){return vr((r,n)=>{let i={_resolve:r,_reject:n};t._reader._readIntoRequests.push(i)})}function L5(t,e,r){let n=t._reader;n._readIntoRequests.shift()._resolve(Nr(e,r,n._forAuthorCode))}function Qh(t){return t._reader._readIntoRequests.length}function ed(t){let e=t._reader;return!(e===void 0||!R0(e))}var t1=class{constructor(e){if(!rn(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(La(e._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(li(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");bh(this,e),this._readIntoRequests=new Or}get closed(){return R0(this)?this._closedPromise:Oe(ho("closed"))}cancel(e){return R0(this)?this._ownerReadableStream===void 0?Oe(Oa("cancel")):Pf(this,e):Oe(ho("cancel"))}read(e){return R0(this)?this._ownerReadableStream===void 0?Oe(Oa("read from")):ArrayBuffer.isView(e)?(Hs(e.buffer)===!0,e.byteLength===0?Oe(new TypeError("view must have non-zero byteLength")):V5(this,e)):Oe(new TypeError("view must be an array buffer view")):Oe(ho("read"))}releaseLock(){if(!R0(this))throw ho("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Fa(this)}}};function R0(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests"))}function V5(t,e){let r=t._ownerReadableStream;return r._disturbed=!0,r._state==="errored"?Oe(r._storedError):j5(r._readableStreamController,e)}function ho(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}var M0=class{constructor(e={},r={}){r1(this);let n=r.size,i=r.highWaterMark,a=e.type;if(String(a)==="bytes"){if(n!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");i===void 0&&(i=0),i=Ua(i),Y5(this,e,i)}else if(a===void 0){let o=Ws(n);i===void 0&&(i=1),i=Ua(i),T5(this,e,i,o)}else throw new RangeError("Invalid type is specified")}get locked(){if(rn(this)===!1)throw oa("locked");return li(this)}cancel(e){return rn(this)===!1?Oe(oa("cancel")):li(this)===!0?Oe(new TypeError("Cannot cancel a stream that already has a reader")):ta(this,e)}getReader({mode:e}={}){if(rn(this)===!1)throw oa("getReader");if(e===void 0)return Ys(this,!0);if(e=String(e),e==="byob")return G5(this,!0);throw new RangeError("Invalid mode is specified")}pipeThrough({writable:e,readable:r},{preventClose:n,preventAbort:i,preventCancel:a,signal:s}={}){if(rn(this)===!1)throw oa("pipeThrough");if(na(e)===!1)throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(rn(r)===!1)throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(n=Boolean(n),i=Boolean(i),a=Boolean(a),s!==void 0&&!Fh(s))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(li(this)===!0)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Na(e)===!0)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let o=Nh(this,e,n,i,a,s);return za(o),r}pipeTo(e,{preventClose:r,preventAbort:n,preventCancel:i,signal:a}={}){return rn(this)===!1?Oe(oa("pipeTo")):na(e)===!1?Oe(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),n=Boolean(n),i=Boolean(i),a!==void 0&&!Fh(a)?Oe(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")):li(this)===!0?Oe(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Na(e)===!0?Oe(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Nh(this,e,r,n,i,a))}tee(){if(rn(this)===!1)throw oa("tee");let e=I5(this);return Af(e)}getIterator({preventCancel:e=!1}={}){if(rn(this)===!1)throw oa("getIterator");return r5(this,e)}};typeof In.asyncIterator=="symbol"&&Object.defineProperty(M0.prototype,In.asyncIterator,{value:M0.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});function Gf(t,e,r,n=1,i=()=>1){let a=Object.create(M0.prototype);r1(a);let s=Object.create(Wf.prototype);return jh(a,s,t,e,r,n,i),a}function r1(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function rn(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_readableStreamController"))}function li(t){return t._reader!==void 0}function ta(t,e){if(t._disturbed=!0,t._state==="closed")return Kt(void 0);if(t._state==="errored")return Oe(t._storedError);E0(t);let r=t._readableStreamController[Mf](e);return ea(r,_f)}function E0(t){t._state="closed";let e=t._reader;e!==void 0&&(ra(e)&&(e._readRequests.forEach(r=>{r._resolve(Nr(void 0,!0,e._forAuthorCode))}),e._readRequests=new Or),ph(e))}function Lh(t,e){t._state="errored",t._storedError=e;let r=t._reader;r!==void 0&&(ra(r)?(r._readRequests.forEach(n=>{n._reject(e)}),r._readRequests=new Or):(r._readIntoRequests.forEach(n=>{n._reject(e)}),r._readIntoRequests=new Or),Rf(r,e))}function oa(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}var n1=class{constructor(e={},r={},n={}){let i=r.size,a=r.highWaterMark,s=n.size,o=n.highWaterMark;if(e.writableType!==void 0)throw new RangeError("Invalid writable type specified");let c=Ws(i);if(a===void 0&&(a=1),a=Ua(a),e.readableType!==void 0)throw new RangeError("Invalid readable type specified");let u=Ws(s);o===void 0&&(o=0),o=Ua(o);let b,x=vr(S=>{b=S});Z5(this,x,a,c,o,u),X5(this,e);let A=js(e,"start",[this._transformStreamController]);b(A)}get readable(){if(i1(this)===!1)throw a1("readable");return this._readable}get writable(){if(i1(this)===!1)throw a1("writable");return this._writable}};function Z5(t,e,r,n,i,a){function s(){return e}function o(b){return J5(t,b)}function f(b){return Q5(t,b)}function c(){return e8(t)}t._writable=a5(s,o,c,f,r,n);function d(){return t8(t)}function u(b){return bo(t,b),Kt(void 0)}t._readable=Gf(s,d,u,i,a),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,po(t,!0),t._transformStreamController=void 0}function i1(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_transformStreamController"))}function xo(t,e){bi(t._readable._readableStreamController,e),bo(t,e)}function bo(t,e){s1(t._transformStreamController),Hf(t._writable._writableStreamController,e),t._backpressure===!0&&po(t,!1)}function po(t,e){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=vr(r=>{t._backpressureChangePromise_resolve=r}),t._backpressure=e}var o1=class{constructor(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}get desiredSize(){if(yo(this)===!1)throw mo("desiredSize");let e=this._controlledTransformStream._readable._readableStreamController;return Yf(e)}enqueue(e){if(yo(this)===!1)throw mo("enqueue");c1(this,e)}error(e){if(yo(this)===!1)throw mo("error");r8(this,e)}terminate(){if(yo(this)===!1)throw mo("terminate");n8(this)}};function yo(t){return!(!Sr(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream"))}function i8(t,e,r,n){e._controlledTransformStream=t,t._transformStreamController=e,e._transformAlgorithm=r,e._flushAlgorithm=n}function X5(t,e){let r=Object.create(o1.prototype),n=s=>{try{return c1(r,s),Kt(void 0)}catch(o){return Oe(o)}},i=e.transform;if(i!==void 0){if(typeof i!="function")throw new TypeError("transform is not a method");n=s=>kf(i,e,[s,r])}let a=ui(e,"flush",0,[r]);i8(t,r,n,a)}function s1(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function c1(t,e){let r=t._controlledTransformStream,n=r._readable._readableStreamController;if(qa(n)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{co(n,e)}catch(a){throw bo(r,a),r._readable._storedError}B5(n)!==r._backpressure&&po(r,!0)}function r8(t,e){xo(t._controlledTransformStream,e)}function f1(t,e){let r=t._transformAlgorithm(e);return ea(r,void 0,n=>{throw xo(t._controlledTransformStream,n),n})}function n8(t){let e=t._controlledTransformStream,r=e._readable._readableStreamController;qa(r)===!0&&S0(r);let n=new TypeError("TransformStream terminated");bo(e,n)}function J5(t,e){let r=t._transformStreamController;if(t._backpressure===!0){let n=t._backpressureChangePromise;return ea(n,()=>{let i=t._writable;if(i._state==="erroring")throw i._storedError;return f1(r,e)})}return f1(r,e)}function Q5(t,e){return xo(t,e),Kt(void 0)}function e8(t){let e=t._readable,r=t._transformStreamController,n=r._flushAlgorithm();return s1(r),ea(n,()=>{if(e._state==="errored")throw e._storedError;let i=e._readableStreamController;qa(i)===!0&&S0(i)},i=>{throw xo(t,i),e._storedError})}function t8(t){return po(t,!1),t._backpressureChangePromise}function mo(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function a1(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}var td=function(t,e){return td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},td(t,e)};function d1(t,e){td(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ja(t){if(!t)throw new TypeError("Assertion failed")}function a8(){}function s8(t){return typeof t=="object"&&t!==null||typeof t=="function"}function o8(t){if(typeof t!="function")return!1;var e=!1;try{new t({start:function(){e=!0}})}catch(r){}return e}function u1(t){return!(!s8(t)||typeof t.getReader!="function")}function c8(t){return!(!o8(t)||!u1(new t))}function l1(t){try{var e=t.getReader({mode:"byob"});return e.releaseLock(),!0}catch(r){return!1}}function f8(t){try{return new t({type:"bytes"}),!0}catch(e){return!1}}function b1(t){ja(c8(t));var e=f8(t);return function(r,n){var i=(n===void 0?{}:n).type;if(i=h1(i),i==="bytes"&&!e&&(i=void 0),r.constructor===t&&(i!=="bytes"||l1(r)))return r;var a=d8(r,{type:i});return new t(a)}}function d8(t,e){var r=(e===void 0?{}:e).type;ja(u1(t)),ja(t.locked===!1),r=h1(r);var n;return r==="bytes"?n=new l8(t):n=new u8(t),n}function h1(t){var e=String(t);if(e==="bytes")return e;if(t===void 0)return t;throw new RangeError("Invalid type is specified")}var p1=function(){function t(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return t.prototype.start=function(e){this._readableStreamController=e},t.prototype.cancel=function(e){return ja(this._underlyingReader!==void 0),this._underlyingReader.cancel(e)},t.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},t.prototype._attachReader=function(e){var r=this;ja(this._underlyingReader===void 0),this._underlyingReader=e;var n=this._underlyingReader.closed;!n||n.then(function(){return r._finishPendingRead()}).then(function(){e===r._underlyingReader&&r._readableStreamController.close()},function(i){e===r._underlyingReader&&r._readableStreamController.error(i)}).catch(a8)},t.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},t.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var i=e._readableStreamController;n.done?e._tryClose():i.enqueue(n.value)});return this._setPendingRead(r),r},t.prototype._tryClose=function(){try{this._readableStreamController.close()}catch(e){}},t.prototype._setPendingRead=function(e){var r=this,n,i=function(){r._pendingRead===n&&(r._pendingRead=void 0)};this._pendingRead=n=e.then(i,i)},t.prototype._finishPendingRead=function(){var e=this;if(!!this._pendingRead){var r=function(){return e._finishPendingRead()};return this._pendingRead.then(r,r)}},t}(),u8=function(t){d1(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.pull=function(){return this._pullWithDefaultReader()},e}(p1);function x1(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function h8(t,e){var r=x1(t),n=x1(e);n.set(r,0)}var l8=function(t){d1(e,t);function e(r){var n=this,i=l1(r);return n=t.call(this,r)||this,n._supportsByob=i,n}return Object.defineProperty(e.prototype,"type",{get:function(){return"bytes"},enumerable:!0,configurable:!0}),e.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){ja(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},e.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r!==void 0)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},e.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var i=new Uint8Array(r.view.byteLength),a=this._underlyingReader.read(i).then(function(s){n._readableStreamController,s.done?(n._tryClose(),r.respond(0)):(h8(s.value,r.view),r.respond(s.value.byteLength))});return this._setPendingRead(a),a},e}(p1),go=typeof pt.process=="object"&&typeof pt.process.versions=="object",y1=go&&void"stream".Readable;function an(t){return pt.ReadableStream&&pt.ReadableStream.prototype.isPrototypeOf(t)?"web":pe.ReadableStream.prototype.isPrototypeOf(t)?"ponyfill":y1&&y1.prototype.isPrototypeOf(t)?"node":!1}function vo(t){return Uint8Array.prototype.isPrototypeOf(t)}function m1(t){if(t.length===1)return t[0];let e=0;for(let i=0;i<t.length;i++){if(!vo(t[i]))throw new Error("concatUint8Array: Data must be in the form of a Uint8Array");e+=t[i].length}let r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}var b8=go&&void"buffer".Buffer,g1=go&&void"stream".Readable,rd,v1;if(g1){rd=function(e){return new pe.ReadableStream({start(r){e.pause(),e.on("data",n=>{b8.isBuffer(n)&&(n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),r.enqueue(n),e.pause()}),e.on("end",()=>r.close()),e.on("error",n=>r.error(n))},pull(){e.resume()},cancel(r){if(e.pause(),e.cancel)return e.cancel(r)}})};class t extends g1{constructor(r,n){super(n);this._webStream=r,this._reader=pe.getReader(r),this._reading=!1,this._doneReadingPromise=Promise.resolve(),this._cancelling=!1}_read(r){if(this._reading||this._cancelling)return;this._reading=!0;let n=async()=>{try{for(;;){let{done:i,value:a}=await this._reader.read();if(i){this.push(null);break}if(!this.push(a)||this._cancelling){this._reading=!1;break}}}catch(i){this.emit("error",i)}};this._doneReadingPromise=n()}async cancel(r){return this._cancelling=!0,await this._doneReadingPromise,this._reader.releaseLock(),this._webStream.cancel(r)}}v1=function(e){return new t(e)}}var w1=new WeakSet,St=Symbol("externalBuffer");function Kn(t){this.stream=t,t[St]&&(this[St]=t[St].slice());let e=pe.isStream(t);if(e==="node"&&(t=pe.nodeToWeb(t)),e){let n=t.getReader();this._read=n.read.bind(n),this._releaseLock=()=>{n.closed.catch(function(){}),n.releaseLock()};return}let r=!1;this._read=async()=>r||w1.has(t)?{value:void 0,done:!0}:(r=!0,{value:t,done:!1}),this._releaseLock=()=>{if(r)try{w1.add(t)}catch(n){}}}Kn.prototype.read=async function(){if(this[St]&&this[St].length){let t=this[St].shift();return{done:!1,value:t}}return this._read()};Kn.prototype.releaseLock=function(){this[St]&&(this.stream[St]=this[St]),this._releaseLock()};Kn.prototype.readLine=async function(){let t=[],e;for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?pe.concat(t):void 0;let i=n.indexOf(`
`)+1;i&&(e=pe.concat(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e};Kn.prototype.readByte=async function(){let{done:t,value:e}=await this.read();if(t)return;let r=e[0];return this.unshift(pe.slice(e,1)),r};Kn.prototype.readBytes=async function(t){let e=[],r=0;for(;;){let{done:n,value:i}=await this.read();if(n)return e.length?pe.concat(e):void 0;if(e.push(i),r+=i.length,r>=t){let a=pe.concat(e);return this.unshift(pe.slice(a,t)),pe.slice(a,0,t)}}};Kn.prototype.peekBytes=async function(t){let e=await this.readBytes(t);return this.unshift(e),e};Kn.prototype.unshift=function(...t){if(this[St]||(this[St]=[]),t.length===1&&vo(t[0])&&this[St].length&&t[0].length&&this[St][0].byteOffset>=t[0].length){this[St][0]=new Uint8Array(this[St][0].buffer,this[St][0].byteOffset-t[0].length,this[St][0].byteLength+t[0].length);return}this[St].unshift(...t.filter(e=>e&&e.length))};Kn.prototype.readToEnd=async function(t=pe.concat){let e=[];for(;;){let{done:r,value:n}=await this.read();if(r)break;e.push(n)}return t(e)};var{ReadableStream:pi,WritableStream:_1,TransformStream:nd}=pt.TransformStream?pt:{ReadableStream:M0,WritableStream:Kf,TransformStream:n1},A1=pt.ReadableStream&&pi!==pt.ReadableStream&&b1(pi),B0=go&&void"buffer".Buffer;function wo(t){let e=an(t);return e==="node"?rd(t):e==="web"&&A1?A1(t):e?t:new pi({start(r){r.enqueue(t),r.close()}})}function T0(t){return t.some(an)?k1(t):typeof t[0]=="string"?t.join(""):B0&&B0.isBuffer(t[0])?B0.concat(t):m1(t)}function k1(t){t=t.map(wo);let e=S1(async function(i){await Promise.all(n.map(a=>E1(a,i)))}),r=Promise.resolve(),n=t.map((i,a)=>_o(i,(s,o)=>(r=r.then(()=>I0(s,e.writable,{preventClose:a!==t.length-1})),r)));return e.readable}function Ao(t){return new Kn(t)}function id(t){let e=t.getWriter(),r=e.releaseLock;return e.releaseLock=()=>{e.closed.catch(function(){}),r.call(e)},e}async function I0(t,e,r){t=wo(t);try{if(t[St]){let n=id(e);for(let i=0;i<t[St].length;i++)await n.ready,await n.write(t[St][i]);n.releaseLock()}return await t.pipeTo(e,r)}catch(n){}}function ad(t,e){let r=new nd(e);return I0(t,r.writable),r.readable}function S1(t){let e=!1,r,n;return{readable:new pi({start(i){n=i},pull(){r?r():e=!0},cancel:t},{highWaterMark:0}),writable:new _1({write:async function(i){n.enqueue(i),e?e=!1:(await new Promise(a=>{r=a}),r=null)},close:n.close.bind(n),abort:n.error.bind(n)})}}function sd(t,e=()=>{},r=()=>{}){if(an(t))return ad(t,{async transform(a,s){try{let o=await e(a);o!==void 0&&s.enqueue(o)}catch(o){s.error(o)}},async flush(a){try{let s=await r();s!==void 0&&a.enqueue(s)}catch(s){a.error(s)}}});let n=e(t),i=r();return n!==void 0&&i!==void 0?T0([n,i]):n!==void 0?n:i}function _o(t,e){let r,n=new nd({start(s){r=s}}),i=I0(t,n.writable),a=S1(async function(){r.error(new Error("Readable side was canceled.")),await i,await new Promise(setTimeout)});return e(n.readable,a.writable),a.readable}function p8(t,e){let r,n=_o(t,(i,a)=>{let s=Ao(i);s.remainder=()=>(s.releaseLock(),I0(i,a),n),r=e(s)});return r}function x8(t){if(an(t)){let e=wo(t).tee();return e[0][St]=e[1][St]=t[St],e}return[sn(t),sn(t)]}function y8(t){if(an(t)){let e=x8(t);return C1(t,e[0]),e[1]}return sn(t)}function m8(t){return an(t)?new pi({start(e){let r=_o(t,async(n,i)=>{let a=Ao(n),s=id(i);try{for(;;){await s.ready;let{done:o,value:f}=await a.read();if(o){try{e.close()}catch(c){}await s.close();return}try{e.enqueue(f)}catch(c){}await s.write(f)}}catch(o){e.error(o),await s.abort(o)}});C1(t,r)}}):sn(t)}function C1(t,e){Object.entries(Object.getOwnPropertyDescriptors(pi.prototype)).forEach(([r,n])=>{r!=="constructor"&&(n.value?n.value=n.value.bind(e):n.get=n.get.bind(e),Object.defineProperty(t,r,n))})}function sn(t,e=0,r=Infinity){if(an(t)){if(e>=0&&r>=0){let n=0;return ad(t,{transform(i,a){n<r?(n+i.length>=e&&a.enqueue(sn(i,Math.max(e-n,0),r-n)),n+=i.length):a.terminate()}})}if(e<0&&(r<0||r===Infinity)){let n=[];return sd(t,i=>{i.length>=-e?n=[i]:n.push(i)},()=>sn(T0(n),e,r))}if(e===0&&r<0){let n;return sd(t,i=>{let a=n?T0([n,i]):i;if(a.length>=-r)return n=sn(a,r),sn(a,e,r);n=a})}return console.warn(`stream.slice(input, ${e}, ${r}) not implemented efficiently.`),R1(async()=>sn(await P1(t),e,r))}return t[St]&&(t=T0(t[St].concat([t]))),vo(t)&&!(B0&&B0.isBuffer(t))?(r===Infinity&&(r=t.length),t.subarray(e,r)):t.slice(e,r)}async function P1(t,e){return an(t)?Ao(t).readToEnd(e):t}async function E1(t,e){if(an(t)&&t.cancel)return t.cancel(e)}function R1(t){return new pi({pull:async e=>{try{e.enqueue(await t()),e.close()}catch(r){e.error(r)}}})}var pe={ReadableStream:pi,WritableStream:_1,TransformStream:nd,isStream:an,isUint8Array:vo,toStream:wo,concatUint8Array:m1,concatStream:k1,concat:T0,getReader:Ao,getWriter:id,pipe:I0,transformRaw:ad,transform:sd,transformPair:_o,parse:p8,clone:y8,passiveClone:m8,slice:sn,readToEnd:P1,cancel:E1,fromAsync:R1,nodeToWeb:rd,webToNode:v1},tr=class{constructor(e){if(e===void 0)throw new Error("Invalid BigInteger input");if(e instanceof Uint8Array){let r=e,n=new Array(r.length);for(let i=0;i<r.length;i++){let a=r[i].toString(16);n[i]=r[i]<=15?"0"+a:a}this.value=BigInt("0x0"+n.join(""))}else this.value=BigInt(e)}clone(){return new tr(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,r){if(r.isZero())throw Error("Modulo cannot be zero");if(r.isOne())return new tr(0);if(e.isNegative())throw Error("Unsopported negative exponent");let n=e.value,i=this.value;i%=r.value;let a=BigInt(1);for(;n>BigInt(0);){let s=n&BigInt(1);n>>=BigInt(1);let o=a*i%r.value;a=s?o:a,i=i*i%r.value}return new tr(a)}modInv(e){let{gcd:r,x:n}=this._egcd(e);if(!r.isOne())throw new Error("Inverse does not exist");return n.add(e).mod(e)}_egcd(e){let r=BigInt(0),n=BigInt(1),i=BigInt(1),a=BigInt(0),s=this.value;for(e=e.value;e!==BigInt(0);){let o=s/e,f=r;r=i-o*r,i=f,f=n,n=a-o*n,a=f,f=e,e=s%e,s=f}return{x:new tr(i),y:new tr(a),gcd:new tr(s)}}gcd(e){let r=this.value;for(e=e.value;e!==BigInt(0);){let n=e;e=r%e,r=n}return new tr(r)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){let e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){let e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw new Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){let e=new tr(0),r=new tr(1),n=new tr(-1),i=this.isNegative()?n:e,a=1,s=this.clone();for(;!s.irightShift(r).equal(i);)a++;return a}byteLength(){let e=new tr(0),r=new tr(-1),n=this.isNegative()?r:e,i=new tr(8),a=1,s=this.clone();for(;!s.irightShift(i).equal(n);)a++;return a}toUint8Array(e="be",r){let n=this.value.toString(16);n.length%2==1&&(n="0"+n);let i=n.length/2,a=new Uint8Array(r||i),s=r?r-i:0,o=0;for(;o<i;)a[o+s]=parseInt(n.slice(2*o,2*o+2),16),o++;return e!=="be"&&a.reverse(),a}};async function v8(){if(R.detectBigInt())return tr;{let{default:t}=await Promise.resolve().then(function(){return g8});return t}}var ko=pt.process&&pt.process.env.NODE_ENV==="development",R={isString:function(t){return typeof t=="string"||String.prototype.isPrototypeOf(t)},isArray:function(t){return Array.prototype.isPrototypeOf(t)},isBigInteger:function(t){return t!==null&&typeof t=="object"&&t.value&&(typeof t.value=="bigint"||this.isBN(t.value))},isBN:function(t){return t!==null&&typeof t=="object"&&(t.constructor.name==="BN"||t.constructor.wordSize===26&&Array.isArray(t.words))},isUint8Array:pe.isUint8Array,isStream:pe.isStream,restoreStreams:function(t,e){return Object.prototype.toString.call(t)==="[object MessagePort]"?new(e==="web"?pt.ReadableStream:pe.ReadableStream)({pull(r){return new Promise(n=>{t.onmessage=i=>{let{done:a,value:s,error:o}=i.data;o?r.error(new Error(o)):a?r.close():r.enqueue(s),n()},t.postMessage({action:"read"})})},cancel(){return new Promise(r=>{t.onmessage=r,t.postMessage({action:"cancel"})})}},{highWaterMark:0}):(Object.prototype.isPrototypeOf(t)&&!Uint8Array.prototype.isPrototypeOf(t)&&Object.entries(t).forEach(([r,n])=>{t[r]=R.restoreStreams(n,e)}),t)},readNumber:function(t){let e=0;for(let r=0;r<t.length;r++)e+=256**r*t[t.length-1-r];return e},writeNumber:function(t,e){let r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t>>8*(e-n-1)&255;return r},readDate:function(t){let e=R.readNumber(t);return new Date(e*1e3)},writeDate:function(t){let e=Math.floor(t.getTime()/1e3);return R.writeNumber(e,4)},normalizeDate:function(t=Date.now()){return t===null||t===Infinity?t:new Date(Math.floor(+t/1e3)*1e3)},strToHex:function(t){if(t===null)return"";let e=[],r=t.length,n=0,i;for(;n<r;){for(i=t.charCodeAt(n++).toString(16);i.length<2;)i="0"+i;e.push(""+i)}return e.join("")},hexToStr:function(t){let e="";for(let r=0;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},readMPI:function(t){let r=(t[0]<<8|t[1])+7>>>3;return t.subarray(2,2+r)},leftPad(t,e){let r=new Uint8Array(e),n=e-t.length;return r.set(t,n),r},uint8ArrayToMpi:function(t){let e;for(e=0;e<t.length&&t[e]===0;e++);if(e===t.length)throw new Error("Zero MPI");let r=t.subarray(e),n=(r.length-1)*8+R.nbits(r[0]),i=Uint8Array.from([(n&65280)>>8,n&255]);return R.concatUint8Array([i,r])},hexToUint8Array:function(t){let e=new Uint8Array(t.length>>1);for(let r=0;r<t.length>>1;r++)e[r]=parseInt(t.substr(r<<1,2),16);return e},uint8ArrayToHex:function(t){let e=[],r=t.length,n=0,i;for(;n<r;){for(i=t[n++].toString(16);i.length<2;)i="0"+i;e.push(""+i)}return e.join("")},strToUint8Array:function(t){return pe.transform(t,e=>{if(!R.isString(e))throw new Error("strToUint8Array: Data must be in the form of a string");let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r})},uint8ArrayToStr:function(t){t=new Uint8Array(t);let e=[],r=1<<14,n=t.length;for(let i=0;i<n;i+=r)e.push(String.fromCharCode.apply(String,t.subarray(i,i+r<n?i+r:n)));return e.join("")},encodeUtf8:function(t){let e=new TextEncoder("utf-8");function r(n,i=!1){return e.encode(n,{stream:!i})}return pe.transform(t,r,()=>r("",!0))},decodeUtf8:function(t){let e=new TextDecoder("utf-8");function r(n,i=!1){return e.decode(n,{stream:!i})}return pe.transform(t,r,()=>r(new Uint8Array,!0))},concat:pe.concat,concatUint8Array:pe.concatUint8Array,equalsUint8Array:function(t,e){if(!R.isUint8Array(t)||!R.isUint8Array(e))throw new Error("Data must be in the form of a Uint8Array");if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},writeChecksum:function(t){let e=0;for(let r=0;r<t.length;r++)e=e+t[r]&65535;return R.writeNumber(e,2)},printDebug:function(t){ko&&console.log(t)},printDebugHexArrayDump:function(t,e){ko&&(t+=": "+R.uint8ArrayToHex(e),console.log(t))},printDebugHexStrDump:function(t,e){ko&&(t+=R.strToHex(e),console.log(t))},printDebugError:function(t){ko&&console.error(t)},printEntireStream:function(t,e,r){pe.readToEnd(pe.clone(e),r).then(n=>{console.log(t+": ",n)})},nbits:function(t){let e=1,r=t>>>16;return r!==0&&(t=r,e+=16),r=t>>8,r!==0&&(t=r,e+=8),r=t>>4,r!==0&&(t=r,e+=4),r=t>>2,r!==0&&(t=r,e+=2),r=t>>1,r!==0&&(t=r,e+=1),e},double:function(t){let e=new Uint8Array(t.length),r=t.length-1;for(let n=0;n<r;n++)e[n]=t[n]<<1^t[n+1]>>7;return e[r]=t[r]<<1^(t[0]>>7)*135,e},shiftRight:function(t,e){if(e)for(let r=t.length-1;r>=0;r--)t[r]>>=e,r>0&&(t[r]|=t[r-1]<<8-e);return t},getWebCrypto:function(){return typeof pt!="undefined"&&pt.crypto&&pt.crypto.subtle},detectNode:function(){return typeof pt.process=="object"&&typeof pt.process.versions=="object"},detectBigInt:()=>typeof BigInt!="undefined",getBigInteger:v8,getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getNodeStream:function(){return{}.Readable},getHardwareConcurrency:function(){return R.detectNode()?(void 0).cpus().length:navigator.hardwareConcurrency||1},isEmailAddress:function(t){return R.isString(t)?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(t):!1},canonicalizeEOL:function(t){let e=13,r=10,n=!1;return pe.transform(t,i=>{n&&(i=R.concatUint8Array([new Uint8Array([e]),i])),i[i.length-1]===e?(n=!0,i=i.subarray(0,-1)):n=!1;let a,s=[];for(let c=0;a=i.indexOf(r,c)+1,a;c=a)i[a-2]!==e&&s.push(a);if(!s.length)return i;let o=new Uint8Array(i.length+s.length),f=0;for(let c=0;c<s.length;c++){let d=i.subarray(s[c-1]||0,s[c]);o.set(d,f),f+=d.length,o[f-1]=e,o[f]=r,f++}return o.set(i.subarray(s[s.length-1]||0),f),o},()=>n?new Uint8Array([e]):void 0)},nativeEOL:function(t){let e=13,r=10,n=!1;return pe.transform(t,i=>{n&&i[0]!==r?i=R.concatUint8Array([new Uint8Array([e]),i]):i=new Uint8Array(i),i[i.length-1]===e?(n=!0,i=i.subarray(0,-1)):n=!1;let a,s=0;for(let o=0;o!==i.length;o=a){a=i.indexOf(e,o)+1,a||(a=i.length);let f=a-(i[a]===r?1:0);o&&i.copyWithin(s,o,f),s+=f-o}return i.subarray(0,s)},()=>n?new Uint8Array([e]):void 0)},removeTrailingSpaces:function(t){return t.split(`
`).map(e=>{let r=e.length-1;for(;r>=0&&(e[r]===" "||e[r]==="	");r--);return e.substr(0,r+1)}).join(`
`)},wrapError:function(t,e){if(!e)return new Error(t);try{e.message=t+": "+e.message}catch(r){}return e}},od=R.getNodeBuffer(),So,Eo;od?(So=t=>od.from(t).toString("base64"),Eo=t=>{let e=od.from(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}):(So=t=>btoa(R.uint8ArrayToStr(t)),Eo=t=>R.strToUint8Array(atob(t)));function Un(t){let e=new Uint8Array;return pe.transform(t,r=>{e=R.concatUint8Array([e,r]);let n=[],i=45,a=Math.floor(e.length/i),s=a*i,o=So(e.subarray(0,s));for(let f=0;f<a;f++)n.push(o.substr(f*60,60)),n.push(`
`);return e=e.subarray(s),n.join("")},()=>e.length?So(e)+`
`:"")}function M1(t){let e="";return pe.transform(t,r=>{e+=r;let n=0,i=[" ","	","\r",`
`];for(let o=0;o<i.length;o++){let f=i[o];for(let c=e.indexOf(f);c!==-1;c=e.indexOf(f,c+1))n++}let a=e.length;for(;a>0&&(a-n)%4!=0;a--)i.includes(e[a])&&n--;let s=Eo(e.substr(0,a));return e=e.substr(a),s},()=>Eo(e))}function zn(t){return M1(t.replace(/-/g,"+").replace(/_/g,"/"))}function wr(t,e){let r=Un(t).replace(/[\r\n]/g,"");return e&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}var D0=Symbol("byValue"),g={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGcm:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,AEADEncryptedData:20},literal:{binary:"b".charCodeAt(),text:"t".charCodeAt(),utf8:"u".charCodeAt(),mime:"m".charCodeAt()},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserId:25,policyUri:26,keyFlags:27,signersUserId:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAeadAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIdInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(t,e){if(typeof e=="number"&&(e=this.read(t,e)),t[e]!==void 0)return t[e];throw new Error("Invalid enum value.")},read:function(t,e){if(t[D0]||(t[D0]=[],Object.entries(t).forEach(([r,n])=>{t[D0][n]=r})),t[D0][e]!==void 0)return t[D0][e];throw new Error("Invalid enum value.")}},Ce={preferHashAlgorithm:g.hash.sha256,encryptionCipher:g.symmetric.aes256,compression:g.compression.uncompressed,deflateLevel:6,aeadProtect:!1,aeadMode:g.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRsaBits:2048,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,minBytesForWebCrypto:1e3,tolerant:!0,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.0.0-1",commentString:"https://openpgpjs.org",maxUseridLength:1024*5,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new pt.Set([g.hash.md5,g.hash.ripemd]),rejectMessageHashAlgorithms:new pt.Set([g.hash.md5,g.hash.ripemd,g.hash.sha1])};function w8(t){let e=/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m,r=t.match(e);if(!r)throw new Error("Unknown ASCII armor type");if(/MESSAGE, PART \d+\/\d+/.test(r[1]))return g.armor.multipartSection;if(/MESSAGE, PART \d+/.test(r[1]))return g.armor.multipartLast;if(/SIGNED MESSAGE/.test(r[1]))return g.armor.signed;if(/MESSAGE/.test(r[1]))return g.armor.message;if(/PUBLIC KEY BLOCK/.test(r[1]))return g.armor.publicKey;if(/PRIVATE KEY BLOCK/.test(r[1]))return g.armor.privateKey;if(/SIGNATURE/.test(r[1]))return g.armor.signature}function ca(t,e){let r="";return e.showVersion&&(r+="Version: "+e.versionString+`
`),e.showComment&&(r+="Comment: "+e.commentString+`
`),t&&(r+="Comment: "+t+`
`),r+=`
`,r}function xi(t){let e=_8(t);return Un(e)}var qt=[new Array(255),new Array(255),new Array(255),new Array(255)];for(let t=0;t<=255;t++){let e=t<<16;for(let r=0;r<8;r++)e=e<<1^((e&8388608)!=0?8801531:0);qt[0][t]=(e&16711680)>>16|e&65280|(e&255)<<16}for(let t=0;t<=255;t++)qt[1][t]=qt[0][t]>>8^qt[0][qt[0][t]&255];for(let t=0;t<=255;t++)qt[2][t]=qt[1][t]>>8^qt[0][qt[1][t]&255];for(let t=0;t<=255;t++)qt[3][t]=qt[2][t]>>8^qt[0][qt[2][t]&255];var A8=function(){let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,255,!0),new Int16Array(t)[0]===255}();function _8(t){let e=13501623;return pe.transform(t,r=>{let n=A8?Math.floor(r.length/4):0,i=new Uint32Array(r.buffer,r.byteOffset,n);for(let a=0;a<n;a++)e^=i[a],e=qt[0][e>>24&255]^qt[1][e>>16&255]^qt[2][e>>8&255]^qt[3][e>>0&255];for(let a=n*4;a<r.length;a++)e=e>>8^qt[0][e&255^r[a]]},()=>new Uint8Array([e,e>>8,e>>16]))}function B1(t){for(let e=0;e<t.length;e++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(t[e]))throw new Error("Improperly formatted armor header: "+t[e]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(t[e])||R.printDebugError(new Error("Unknown header: "+t[e]))}}function k8(t){let e=t,r="",n=t.lastIndexOf("=");return n>=0&&n!==t.length-1&&(e=t.slice(0,n),r=t.slice(n+1).substr(0,4)),{body:e,checksum:r}}function Co(t,e=Ce){return new Promise(async(r,n)=>{try{let i=/^-----[^-]+-----$/m,a=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/,s,o=[],f=o,c,d=[],u,b,x=M1(pe.transformPair(t,async(A,S)=>{let O=pe.getReader(A);try{for(;;){let Q=await O.readLine();if(Q===void 0)throw new Error("Misformed armored text");if(Q=R.removeTrailingSpaces(Q.replace(/[\r\n]/g,"")),!s)i.test(Q)&&(s=w8(Q));else if(c)!u&&s===2&&(i.test(Q)?(d=d.join(`\r
`),u=!0,B1(f),f=[],c=!1):d.push(Q.replace(/^- /,"")));else if(i.test(Q)&&n(new Error("Mandatory blank line missing between armor headers and armor data")),!a.test(Q))f.push(Q);else if(B1(f),c=!0,u||s!==2){r({text:d,data:x,headers:o,type:s});break}}}catch(Q){n(Q);return}let T=pe.getWriter(S);try{for(;;){await T.ready;let{done:Q,value:ne}=await O.read();if(Q)throw new Error("Misformed armored text");let F=ne+"";if(F.indexOf("=")===-1&&F.indexOf("-")===-1)await T.write(F);else{let X=await O.readToEnd();X.length||(X=""),X=F+X,X=R.removeTrailingSpaces(X.replace(/\r/g,""));let te=X.split(i);if(te.length===1)throw new Error("Misformed armored text");let re=k8(te[0].slice(0,-1));b=re.checksum,await T.write(re.body);break}}await T.ready,await T.close()}catch(Q){await T.abort(Q)}}));x=pe.transformPair(x,async(A,S)=>{let O=pe.readToEnd(xi(pe.passiveClone(A)));O.catch(()=>{}),await pe.pipe(A,S,{preventClose:!0});let T=pe.getWriter(S);try{let Q=(await O).replace(`
`,"");if(b!==Q&&(b||e.checksumRequired))throw new Error("Ascii armor integrity check on message failed: '"+b+"' should be '"+Q+"'");await T.ready,await T.close()}catch(Q){await T.abort(Q)}})}catch(i){n(i)}})}function Po(t,e,r,n,i,a=Ce){let s,o;t===g.armor.signed&&(s=e.text,o=e.hash,e=e.data);let f=pe.passiveClone(e),c=[];switch(t){case g.armor.multipartSection:c.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+`-----
`),c.push(ca(i,a)),c.push(Un(e)),c.push("=",xi(f)),c.push("-----END PGP MESSAGE, PART "+r+"/"+n+`-----
`);break;case g.armor.multipartLast:c.push("-----BEGIN PGP MESSAGE, PART "+r+`-----
`),c.push(ca(i,a)),c.push(Un(e)),c.push("=",xi(f)),c.push("-----END PGP MESSAGE, PART "+r+`-----
`);break;case g.armor.signed:c.push(`
-----BEGIN PGP SIGNED MESSAGE-----
`),c.push("Hash: "+o+`

`),c.push(s.replace(/^-/gm,"- -")),c.push(`
-----BEGIN PGP SIGNATURE-----
`),c.push(ca(i,a)),c.push(Un(e)),c.push("=",xi(f)),c.push(`-----END PGP SIGNATURE-----
`);break;case g.armor.message:c.push(`-----BEGIN PGP MESSAGE-----
`),c.push(ca(i,a)),c.push(Un(e)),c.push("=",xi(f)),c.push(`-----END PGP MESSAGE-----
`);break;case g.armor.publicKey:c.push(`-----BEGIN PGP PUBLIC KEY BLOCK-----
`),c.push(ca(i,a)),c.push(Un(e)),c.push("=",xi(f)),c.push(`-----END PGP PUBLIC KEY BLOCK-----
`);break;case g.armor.privateKey:c.push(`-----BEGIN PGP PRIVATE KEY BLOCK-----
`),c.push(ca(i,a)),c.push(Un(e)),c.push("=",xi(f)),c.push(`-----END PGP PRIVATE KEY BLOCK-----
`);break;case g.armor.signature:c.push(`-----BEGIN PGP SIGNATURE-----
`),c.push(ca(i,a)),c.push(Un(e)),c.push("=",xi(f)),c.push(`-----END PGP SIGNATURE-----
`);break}return R.concat(c)}var Fn=class{constructor(){this.bytes=""}read(e){this.bytes=R.uint8ArrayToStr(e.subarray(0,8))}write(){return R.strToUint8Array(this.bytes)}toHex(){return R.strToHex(this.bytes)}equals(e,r=!1){return r&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return this.bytes===""}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromId(e){let r=new Fn;return r.read(R.hexToUint8Array(e)),r}static wildcard(){let e=new Fn;return e.read(new Uint8Array(8)),e}};var et=function(){var t=!1,e,r;function n(){e=[],r=[];var x=1,A,S;for(A=0;A<255;A++)e[A]=x,S=x&128,x<<=1,x&=255,S===128&&(x^=27),x^=e[A],r[e[A]]=A;e[255]=e[0],r[0]=0,t=!0}function i(x,A){var S=e[(r[x]+r[A])%255];return(x===0||A===0)&&(S=0),S}function a(x){var A=e[255-r[x]];return x===0&&(A=0),A}var s=!1,o,f,c,d;function u(){t||n();function x(T){var Q,ne,F;for(ne=F=a(T),Q=0;Q<4;Q++)ne=(ne<<1|ne>>>7)&255,F^=ne;return F^=99,F}o=[],f=[],c=[[],[],[],[]],d=[[],[],[],[]];for(var A=0;A<256;A++){var S=x(A);o[A]=S,f[S]=A,c[0][A]=i(2,S)<<24|S<<16|S<<8|i(3,S),d[0][S]=i(14,A)<<24|i(9,A)<<16|i(13,A)<<8|i(11,A);for(var O=1;O<4;O++)c[O][A]=c[O-1][A]>>>8|c[O-1][A]<<24,d[O][S]=d[O-1][S]>>>8|d[O-1][S]<<24}s=!0}var b=function(x,A){s||u();var S=new Uint32Array(A);S.set(o,2048>>2),S.set(f,3072>>2);for(var O=0;O<4;O++)S.set(c[O],4096+1024*O>>2),S.set(d[O],8192+1024*O>>2);function T(F,X,te,re,J,se,C,l,m){var y=S.subarray(0,60),I=S.subarray(256,256+60);y.set([X,te,re,J,se,C,l,m]);for(var N=F,Z=1;N<4*F+28;N++){var B=y[N-1];(N%F==0||F===8&&N%F==4)&&(B=o[B>>>24]<<24^o[B>>>16&255]<<16^o[B>>>8&255]<<8^o[B&255]),N%F==0&&(B=B<<8^B>>>24^Z<<24,Z=Z<<1^(Z&128?27:0)),y[N]=y[N-F]^B}for(var P=0;P<N;P+=4)for(var p=0;p<4;p++){var B=y[N-(4+P)+(4-p)%4];P<4||P>=N-4?I[P+p]=B:I[P+p]=d[0][o[B>>>24]]^d[1][o[B>>>16&255]]^d[2][o[B>>>8&255]]^d[3][o[B&255]]}ne.set_rounds(F+5)}var Q={Uint8Array,Uint32Array},ne=function(F,X,te){var re=0,J=0,se=0,C=0,l=0,m=0,y=0,I=0,N=0,Z=0,B=0,P=0,p=0,L=0,be=0,me=0,_e=0,Se=0,ge=0,j=0,oe=0,ee=new F.Uint32Array(te),G=new F.Uint8Array(te);function ce(ie,ae,fe,de,Ie,Be,Te,Ze){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,Ie=Ie|0,Be=Be|0,Te=Te|0,Ze=Ze|0;var De=0,ze=0,ct=0,je=0,We=0,_t=0,tt=0,Ke=0;for(De=fe|1024,ze=fe|2048,ct=fe|3072,Ie=Ie^ee[(ie|0)>>2],Be=Be^ee[(ie|4)>>2],Te=Te^ee[(ie|8)>>2],Ze=Ze^ee[(ie|12)>>2],Ke=16;(Ke|0)<=de<<4;Ke=Ke+16|0)je=ee[(fe|Ie>>22&1020)>>2]^ee[(De|Be>>14&1020)>>2]^ee[(ze|Te>>6&1020)>>2]^ee[(ct|Ze<<2&1020)>>2]^ee[(ie|Ke|0)>>2],We=ee[(fe|Be>>22&1020)>>2]^ee[(De|Te>>14&1020)>>2]^ee[(ze|Ze>>6&1020)>>2]^ee[(ct|Ie<<2&1020)>>2]^ee[(ie|Ke|4)>>2],_t=ee[(fe|Te>>22&1020)>>2]^ee[(De|Ze>>14&1020)>>2]^ee[(ze|Ie>>6&1020)>>2]^ee[(ct|Be<<2&1020)>>2]^ee[(ie|Ke|8)>>2],tt=ee[(fe|Ze>>22&1020)>>2]^ee[(De|Ie>>14&1020)>>2]^ee[(ze|Be>>6&1020)>>2]^ee[(ct|Te<<2&1020)>>2]^ee[(ie|Ke|12)>>2],Ie=je,Be=We,Te=_t,Ze=tt;re=ee[(ae|Ie>>22&1020)>>2]<<24^ee[(ae|Be>>14&1020)>>2]<<16^ee[(ae|Te>>6&1020)>>2]<<8^ee[(ae|Ze<<2&1020)>>2]^ee[(ie|Ke|0)>>2],J=ee[(ae|Be>>22&1020)>>2]<<24^ee[(ae|Te>>14&1020)>>2]<<16^ee[(ae|Ze>>6&1020)>>2]<<8^ee[(ae|Ie<<2&1020)>>2]^ee[(ie|Ke|4)>>2],se=ee[(ae|Te>>22&1020)>>2]<<24^ee[(ae|Ze>>14&1020)>>2]<<16^ee[(ae|Ie>>6&1020)>>2]<<8^ee[(ae|Be<<2&1020)>>2]^ee[(ie|Ke|8)>>2],C=ee[(ae|Ze>>22&1020)>>2]<<24^ee[(ae|Ie>>14&1020)>>2]<<16^ee[(ae|Be>>6&1020)>>2]<<8^ee[(ae|Te<<2&1020)>>2]^ee[(ie|Ke|12)>>2]}function le(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,ce(0,2048,4096,oe,ie,ae,fe,de)}function ye(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0;var Ie=0;ce(1024,3072,8192,oe,ie,de,fe,ae),Ie=J,J=C,C=Ie}function k(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,ce(0,2048,4096,oe,l^ie,m^ae,y^fe,I^de),l=re,m=J,y=se,I=C}function v(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0;var Ie=0;ce(1024,3072,8192,oe,ie,de,fe,ae),Ie=J,J=C,C=Ie,re=re^l,J=J^m,se=se^y,C=C^I,l=ie,m=ae,y=fe,I=de}function M(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,ce(0,2048,4096,oe,l,m,y,I),l=re=re^ie,m=J=J^ae,y=se=se^fe,I=C=C^de}function U(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,ce(0,2048,4096,oe,l,m,y,I),re=re^ie,J=J^ae,se=se^fe,C=C^de,l=ie,m=ae,y=fe,I=de}function w(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,ce(0,2048,4096,oe,l,m,y,I),l=re,m=J,y=se,I=C,re=re^ie,J=J^ae,se=se^fe,C=C^de}function _(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,ce(0,2048,4096,oe,N,Z,B,P),P=~me&P|me&P+1,B=~be&B|be&B+((P|0)==0),Z=~L&Z|L&Z+((B|0)==0),N=~p&N|p&N+((Z|0)==0),re=re^ie,J=J^ae,se=se^fe,C=C^de}function E(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0;var Ie=0,Be=0,Te=0,Ze=0,De=0,ze=0,ct=0,je=0,We=0,_t=0;for(ie=ie^l,ae=ae^m,fe=fe^y,de=de^I,Ie=_e|0,Be=Se|0,Te=ge|0,Ze=j|0;(We|0)<128;We=We+1|0)Ie>>>31&&(De=De^ie,ze=ze^ae,ct=ct^fe,je=je^de),Ie=Ie<<1|Be>>>31,Be=Be<<1|Te>>>31,Te=Te<<1|Ze>>>31,Ze=Ze<<1,_t=de&1,de=de>>>1|fe<<31,fe=fe>>>1|ae<<31,ae=ae>>>1|ie<<31,ie=ie>>>1,_t&&(ie=ie^3774873600);l=De,m=ze,y=ct,I=je}function h(ie){ie=ie|0,oe=ie}function q(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,re=ie,J=ae,se=fe,C=de}function D(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,l=ie,m=ae,y=fe,I=de}function K(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,N=ie,Z=ae,B=fe,P=de}function z(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,p=ie,L=ae,be=fe,me=de}function W(ie,ae,fe,de){ie=ie|0,ae=ae|0,fe=fe|0,de=de|0,P=~me&P|me&de,B=~be&B|be&fe,Z=~L&Z|L&ae,N=~p&N|p&ie}function $(ie){return ie=ie|0,ie&15?-1:(G[ie|0]=re>>>24,G[ie|1]=re>>>16&255,G[ie|2]=re>>>8&255,G[ie|3]=re&255,G[ie|4]=J>>>24,G[ie|5]=J>>>16&255,G[ie|6]=J>>>8&255,G[ie|7]=J&255,G[ie|8]=se>>>24,G[ie|9]=se>>>16&255,G[ie|10]=se>>>8&255,G[ie|11]=se&255,G[ie|12]=C>>>24,G[ie|13]=C>>>16&255,G[ie|14]=C>>>8&255,G[ie|15]=C&255,16)}function H(ie){return ie=ie|0,ie&15?-1:(G[ie|0]=l>>>24,G[ie|1]=l>>>16&255,G[ie|2]=l>>>8&255,G[ie|3]=l&255,G[ie|4]=m>>>24,G[ie|5]=m>>>16&255,G[ie|6]=m>>>8&255,G[ie|7]=m&255,G[ie|8]=y>>>24,G[ie|9]=y>>>16&255,G[ie|10]=y>>>8&255,G[ie|11]=y&255,G[ie|12]=I>>>24,G[ie|13]=I>>>16&255,G[ie|14]=I>>>8&255,G[ie|15]=I&255,16)}function V(){le(0,0,0,0),_e=re,Se=J,ge=se,j=C}function Y(ie,ae,fe){ie=ie|0,ae=ae|0,fe=fe|0;var de=0;if(ae&15)return-1;for(;(fe|0)>=16;)at[ie&7](G[ae|0]<<24|G[ae|1]<<16|G[ae|2]<<8|G[ae|3],G[ae|4]<<24|G[ae|5]<<16|G[ae|6]<<8|G[ae|7],G[ae|8]<<24|G[ae|9]<<16|G[ae|10]<<8|G[ae|11],G[ae|12]<<24|G[ae|13]<<16|G[ae|14]<<8|G[ae|15]),G[ae|0]=re>>>24,G[ae|1]=re>>>16&255,G[ae|2]=re>>>8&255,G[ae|3]=re&255,G[ae|4]=J>>>24,G[ae|5]=J>>>16&255,G[ae|6]=J>>>8&255,G[ae|7]=J&255,G[ae|8]=se>>>24,G[ae|9]=se>>>16&255,G[ae|10]=se>>>8&255,G[ae|11]=se&255,G[ae|12]=C>>>24,G[ae|13]=C>>>16&255,G[ae|14]=C>>>8&255,G[ae|15]=C&255,de=de+16|0,ae=ae+16|0,fe=fe-16|0;return de|0}function Ne(ie,ae,fe){ie=ie|0,ae=ae|0,fe=fe|0;var de=0;if(ae&15)return-1;for(;(fe|0)>=16;)Le[ie&1](G[ae|0]<<24|G[ae|1]<<16|G[ae|2]<<8|G[ae|3],G[ae|4]<<24|G[ae|5]<<16|G[ae|6]<<8|G[ae|7],G[ae|8]<<24|G[ae|9]<<16|G[ae|10]<<8|G[ae|11],G[ae|12]<<24|G[ae|13]<<16|G[ae|14]<<8|G[ae|15]),de=de+16|0,ae=ae+16|0,fe=fe-16|0;return de|0}var at=[le,ye,k,v,M,U,w,_],Le=[k,E];return{set_rounds:h,set_state:q,set_iv:D,set_nonce:K,set_mask:z,set_counter:W,get_state:$,get_iv:H,gcm_init:V,cipher:Y,mac:Ne}}(Q,x,A);return ne.set_key=T,ne};return b.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},b.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},b.MAC={CBC:0,GCM:1},b.HEAP_DATA=16384,b}();function T1(t){return t instanceof Uint8Array}function cd(t,e){let r=t?t.byteLength:e||65536;if(r&4095||r<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return t=t||new Uint8Array(new ArrayBuffer(r)),t}function fa(t,e,r,n,i){let a=t.length-e,s=a<i?a:i;return t.set(r.subarray(n,n+s),e),s}function yi(...t){let e=t.reduce((i,a)=>i+a.length,0),r=new Uint8Array(e),n=0;for(let i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r}var Ro=class extends Error{constructor(...e){super(...e)}},on=class extends Error{constructor(...e){super(...e)}},Mo=class extends Error{constructor(...e){super(...e)}},I1=[],D1=[],$a=class{constructor(e,r,n=!0,i,a,s){this.pos=0,this.len=0,this.mode=i,this.pos=0,this.len=0,this.key=e,this.iv=r,this.padding=n,this.acquire_asm(a,s)}acquire_asm(e,r){return(this.heap===void 0||this.asm===void 0)&&(this.heap=e||I1.pop()||cd().subarray(et.HEAP_DATA),this.asm=r||D1.pop()||new et(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(I1.push(this.heap),D1.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,r){let{asm:n}=this.acquire_asm(),i=e.length;if(i!==16&&i!==24&&i!==32)throw new on("illegal key size");let a=new DataView(e.buffer,e.byteOffset,e.byteLength);if(n.set_key(i>>2,a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12),i>16?a.getUint32(16):0,i>16?a.getUint32(20):0,i>24?a.getUint32(24):0,i>24?a.getUint32(28):0),r!==void 0){if(r.length!==16)throw new on("illegal iv size");let s=new DataView(r.buffer,r.byteOffset,r.byteLength);n.set_iv(s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12))}else n.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!T1(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=et.ENC[this.mode],a=et.HEAP_DATA,s=this.pos,o=this.len,f=0,c=e.length||0,d=0,u=o+c&-16,b=0,x=new Uint8Array(u);for(;c>0;)b=fa(r,s+o,e,f,c),o+=b,f+=b,c-=b,b=n.cipher(i,a+s,o),b&&x.set(r.subarray(s,s+b),d),d+=b,b<o?(s+=b,o-=b):(s=0,o=0);return this.pos=s,this.len=o,x}AES_Encrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=et.ENC[this.mode],i=et.HEAP_DATA,a=this.pos,s=this.len,o=16-s%16,f=s;if(this.hasOwnProperty("padding")){if(this.padding){for(let d=0;d<o;++d)e[a+s+d]=o;s+=o,f=s}else if(s%16)throw new on("data length must be a multiple of the block size")}else s+=o;let c=new Uint8Array(f);return s&&r.cipher(n,i+a,s),f&&c.set(e.subarray(a,a+f)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!T1(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=et.DEC[this.mode],a=et.HEAP_DATA,s=this.pos,o=this.len,f=0,c=e.length||0,d=0,u=o+c&-16,b=0,x=0;this.padding&&(b=o+c-u||16,u-=b);let A=new Uint8Array(u);for(;c>0;)x=fa(r,s+o,e,f,c),o+=x,f+=x,c-=x,x=n.cipher(i,a+s,o-(c?0:b)),x&&A.set(r.subarray(s,s+x),d),d+=x,x<o?(s+=x,o-=x):(s=0,o=0);return this.pos=s,this.len=o,A}AES_Decrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=et.DEC[this.mode],i=et.HEAP_DATA,a=this.pos,s=this.len,o=s;if(s>0){if(s%16){if(this.hasOwnProperty("padding"))throw new on("data length must be a multiple of the block size");s+=16-s%16}if(r.cipher(n,i+a,s),this.hasOwnProperty("padding")&&this.padding){let c=e[a+o-1];if(c<1||c>16||c>o)throw new Mo("bad padding");let d=0;for(let u=c;u>1;u--)d|=c^e[a+o-u];if(d)throw new Mo("bad padding");o-=c}}let f=new Uint8Array(o);return o>0&&f.set(e.subarray(a,a+o)),this.pos=0,this.len=0,this.release_asm(),f}},K0=class{static encrypt(e,r,n=!1){return new K0(r,n).encrypt(e)}static decrypt(e,r,n=!1){return new K0(r,n).decrypt(e)}constructor(e,r=!1,n){this.aes=n||new $a(e,void 0,r,"ECB")}encrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return yi(r,n)}decrypt(e){let r=this.aes.AES_Decrypt_process(e),n=this.aes.AES_Decrypt_finish();return yi(r,n)}};function fd(t){let e=function(r){let n=new K0(r);this.encrypt=function(i){return n.encrypt(i)},this.decrypt=function(i){return n.decrypt(i)}};return e.blockSize=e.prototype.blockSize=16,e.keySize=e.prototype.keySize=t/8,e}function U0(t,e,r,n,i,a){let s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],f=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],d=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],u=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],b=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],x=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],A=0,S,O,T,Q,ne,F,X,te,re,J,se,C,l,m,y=e.length,I=t.length===32?3:9;I===3?te=r?[0,32,2]:[30,-2,-2]:te=r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(e=S8(e,a),y=e.length);let N=new Uint8Array(y),Z=0;for(n===1&&(re=i[A++]<<24|i[A++]<<16|i[A++]<<8|i[A++],se=i[A++]<<24|i[A++]<<16|i[A++]<<8|i[A++],A=0);A<y;){for(F=e[A++]<<24|e[A++]<<16|e[A++]<<8|e[A++],X=e[A++]<<24|e[A++]<<16|e[A++]<<8|e[A++],n===1&&(r?(F^=re,X^=se):(J=re,C=se,re=F,se=X)),T=(F>>>4^X)&252645135,X^=T,F^=T<<4,T=(F>>>16^X)&65535,X^=T,F^=T<<16,T=(X>>>2^F)&858993459,F^=T,X^=T<<2,T=(X>>>8^F)&16711935,F^=T,X^=T<<8,T=(F>>>1^X)&1431655765,X^=T,F^=T<<1,F=F<<1|F>>>31,X=X<<1|X>>>31,O=0;O<I;O+=3){for(l=te[O+1],m=te[O+2],S=te[O];S!==l;S+=m)Q=X^t[S],ne=(X>>>4|X<<28)^t[S+1],T=F,F=X,X=T^(o[Q>>>24&63]|c[Q>>>16&63]|u[Q>>>8&63]|x[Q&63]|s[ne>>>24&63]|f[ne>>>16&63]|d[ne>>>8&63]|b[ne&63]);T=F,F=X,X=T}F=F>>>1|F<<31,X=X>>>1|X<<31,T=(F>>>1^X)&1431655765,X^=T,F^=T<<1,T=(X>>>8^F)&16711935,F^=T,X^=T<<8,T=(X>>>2^F)&858993459,F^=T,X^=T<<2,T=(F>>>16^X)&65535,X^=T,F^=T<<16,T=(F>>>4^X)&252645135,X^=T,F^=T<<4,n===1&&(r?(re=F,se=X):(F^=J,X^=C)),N[Z++]=F>>>24,N[Z++]=F>>>16&255,N[Z++]=F>>>8&255,N[Z++]=F&255,N[Z++]=X>>>24,N[Z++]=X>>>16&255,N[Z++]=X>>>8&255,N[Z++]=X&255}return r||(N=E8(N,a)),N}function z0(t){let e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],u=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],b=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],x=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],A=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],S=t.length>8?3:1,O=new Array(32*S),T=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Q,ne,F=0,X=0,te;for(let re=0;re<S;re++){let J=t[F++]<<24|t[F++]<<16|t[F++]<<8|t[F++],se=t[F++]<<24|t[F++]<<16|t[F++]<<8|t[F++];te=(J>>>4^se)&252645135,se^=te,J^=te<<4,te=(se>>>-16^J)&65535,J^=te,se^=te<<-16,te=(J>>>2^se)&858993459,se^=te,J^=te<<2,te=(se>>>-16^J)&65535,J^=te,se^=te<<-16,te=(J>>>1^se)&1431655765,se^=te,J^=te<<1,te=(se>>>8^J)&16711935,J^=te,se^=te<<8,te=(J>>>1^se)&1431655765,se^=te,J^=te<<1,te=J<<8|se>>>20&240,J=se<<24|se<<8&16711680|se>>>8&65280|se>>>24&240,se=te;for(let C=0;C<T.length;C++)T[C]?(J=J<<2|J>>>26,se=se<<2|se>>>26):(J=J<<1|J>>>27,se=se<<1|se>>>27),J&=-15,se&=-15,Q=e[J>>>28]|r[J>>>24&15]|n[J>>>20&15]|i[J>>>16&15]|a[J>>>12&15]|s[J>>>8&15]|o[J>>>4&15],ne=f[se>>>28]|c[se>>>24&15]|d[se>>>20&15]|u[se>>>16&15]|b[se>>>12&15]|x[se>>>8&15]|A[se>>>4&15],te=(ne>>>16^Q)&65535,O[X++]=Q^te,O[X++]=ne^te<<16}return O}function S8(t,e){let r=8-t.length%8,n;if(e===2&&r<8)n=" ".charCodeAt(0);else if(e===1)n=r;else if(!e&&r<8)n=0;else{if(r===8)return t;throw new Error("des: invalid padding")}let i=new Uint8Array(t.length+r);for(let a=0;a<t.length;a++)i[a]=t[a];for(let a=0;a<r;a++)i[t.length+a]=n;return i}function E8(t,e){let r=null,n;if(e===2)n=" ".charCodeAt(0);else if(e===1)r=t[t.length-1];else if(!e)n=0;else throw new Error("des: invalid padding");if(!r){for(r=1;t[t.length-r]===n;)r++;r--}return t.subarray(0,t.length-r)}function F0(t){this.key=[];for(let e=0;e<3;e++)this.key.push(new Uint8Array(t.subarray(e*8,e*8+8)));this.encrypt=function(e){return U0(z0(this.key[2]),U0(z0(this.key[1]),U0(z0(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}F0.keySize=F0.prototype.keySize=24;F0.blockSize=F0.prototype.blockSize=8;function C8(t){this.key=t,this.encrypt=function(e,r){let n=z0(this.key);return U0(n,e,!0,0,null,r)},this.decrypt=function(e,r){let n=z0(this.key);return U0(n,e,!1,0,null,r)}}function P8(){this.BlockSize=8,this.KeySize=16,this.setKey=function(s){if(this.masking=new Array(16),this.rotate=new Array(16),this.reset(),s.length===this.KeySize)this.keySchedule(s);else throw new Error("CAST-128: keys must be 16 bytes");return!0},this.reset=function(){for(let s=0;s<16;s++)this.masking[s]=0,this.rotate[s]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(s){let o=new Array(s.length);for(let f=0;f<s.length;f+=8){let c=s[f]<<24|s[f+1]<<16|s[f+2]<<8|s[f+3],d=s[f+4]<<24|s[f+5]<<16|s[f+6]<<8|s[f+7],u;u=d,d=c^r(d,this.masking[0],this.rotate[0]),c=u,u=d,d=c^n(d,this.masking[1],this.rotate[1]),c=u,u=d,d=c^i(d,this.masking[2],this.rotate[2]),c=u,u=d,d=c^r(d,this.masking[3],this.rotate[3]),c=u,u=d,d=c^n(d,this.masking[4],this.rotate[4]),c=u,u=d,d=c^i(d,this.masking[5],this.rotate[5]),c=u,u=d,d=c^r(d,this.masking[6],this.rotate[6]),c=u,u=d,d=c^n(d,this.masking[7],this.rotate[7]),c=u,u=d,d=c^i(d,this.masking[8],this.rotate[8]),c=u,u=d,d=c^r(d,this.masking[9],this.rotate[9]),c=u,u=d,d=c^n(d,this.masking[10],this.rotate[10]),c=u,u=d,d=c^i(d,this.masking[11],this.rotate[11]),c=u,u=d,d=c^r(d,this.masking[12],this.rotate[12]),c=u,u=d,d=c^n(d,this.masking[13],this.rotate[13]),c=u,u=d,d=c^i(d,this.masking[14],this.rotate[14]),c=u,u=d,d=c^r(d,this.masking[15],this.rotate[15]),c=u,o[f]=d>>>24&255,o[f+1]=d>>>16&255,o[f+2]=d>>>8&255,o[f+3]=d&255,o[f+4]=c>>>24&255,o[f+5]=c>>>16&255,o[f+6]=c>>>8&255,o[f+7]=c&255}return o},this.decrypt=function(s){let o=new Array(s.length);for(let f=0;f<s.length;f+=8){let c=s[f]<<24|s[f+1]<<16|s[f+2]<<8|s[f+3],d=s[f+4]<<24|s[f+5]<<16|s[f+6]<<8|s[f+7],u;u=d,d=c^r(d,this.masking[15],this.rotate[15]),c=u,u=d,d=c^i(d,this.masking[14],this.rotate[14]),c=u,u=d,d=c^n(d,this.masking[13],this.rotate[13]),c=u,u=d,d=c^r(d,this.masking[12],this.rotate[12]),c=u,u=d,d=c^i(d,this.masking[11],this.rotate[11]),c=u,u=d,d=c^n(d,this.masking[10],this.rotate[10]),c=u,u=d,d=c^r(d,this.masking[9],this.rotate[9]),c=u,u=d,d=c^i(d,this.masking[8],this.rotate[8]),c=u,u=d,d=c^n(d,this.masking[7],this.rotate[7]),c=u,u=d,d=c^r(d,this.masking[6],this.rotate[6]),c=u,u=d,d=c^i(d,this.masking[5],this.rotate[5]),c=u,u=d,d=c^n(d,this.masking[4],this.rotate[4]),c=u,u=d,d=c^r(d,this.masking[3],this.rotate[3]),c=u,u=d,d=c^i(d,this.masking[2],this.rotate[2]),c=u,u=d,d=c^n(d,this.masking[1],this.rotate[1]),c=u,u=d,d=c^r(d,this.masking[0],this.rotate[0]),c=u,o[f]=d>>>24&255,o[f+1]=d>>>16&255,o[f+2]=d>>>8&255,o[f+3]=d&255,o[f+4]=c>>>24&255,o[f+5]=c>>16&255,o[f+6]=c>>8&255,o[f+7]=c&255}return o};let t=new Array(4);t[0]=new Array(4),t[0][0]=[4,0,13,15,12,14,8],t[0][1]=[5,2,16+0,16+2,16+1,16+3,10],t[0][2]=[6,3,16+7,16+6,16+5,16+4,9],t[0][3]=[7,1,16+10,16+9,16+11,16+8,11],t[1]=new Array(4),t[1][0]=[0,6,16+5,16+7,16+4,16+6,16+0],t[1][1]=[1,4,0,2,1,3,16+2],t[1][2]=[2,5,7,6,5,4,16+1],t[1][3]=[3,7,10,9,11,8,16+3],t[2]=new Array(4),t[2][0]=[4,0,13,15,12,14,8],t[2][1]=[5,2,16+0,16+2,16+1,16+3,10],t[2][2]=[6,3,16+7,16+6,16+5,16+4,9],t[2][3]=[7,1,16+10,16+9,16+11,16+8,11],t[3]=new Array(4),t[3][0]=[0,6,16+5,16+7,16+4,16+6,16+0],t[3][1]=[1,4,0,2,1,3,16+2],t[3][2]=[2,5,7,6,5,4,16+1],t[3][3]=[3,7,10,9,11,8,16+3];let e=new Array(4);e[0]=new Array(4),e[0][0]=[16+8,16+9,16+7,16+6,16+2],e[0][1]=[16+10,16+11,16+5,16+4,16+6],e[0][2]=[16+12,16+13,16+3,16+2,16+9],e[0][3]=[16+14,16+15,16+1,16+0,16+12],e[1]=new Array(4),e[1][0]=[3,2,12,13,8],e[1][1]=[1,0,14,15,13],e[1][2]=[7,6,8,9,3],e[1][3]=[5,4,10,11,7],e[2]=new Array(4),e[2][0]=[16+3,16+2,16+12,16+13,16+9],e[2][1]=[16+1,16+0,16+14,16+15,16+12],e[2][2]=[16+7,16+6,16+8,16+9,16+2],e[2][3]=[16+5,16+4,16+10,16+11,16+6],e[3]=new Array(4),e[3][0]=[8,9,7,6,3],e[3][1]=[10,11,5,4,7],e[3][2]=[12,13,3,2,8],e[3][3]=[14,15,1,0,13],this.keySchedule=function(s){let o=new Array(8),f=new Array(32),c;for(let x=0;x<4;x++)c=x*4,o[x]=s[c]<<24|s[c+1]<<16|s[c+2]<<8|s[c+3];let d=[6,7,4,5],u=0,b;for(let x=0;x<2;x++)for(let A=0;A<4;A++){for(c=0;c<4;c++){let S=t[A][c];b=o[S[1]],b^=a[4][o[S[2]>>>2]>>>24-8*(S[2]&3)&255],b^=a[5][o[S[3]>>>2]>>>24-8*(S[3]&3)&255],b^=a[6][o[S[4]>>>2]>>>24-8*(S[4]&3)&255],b^=a[7][o[S[5]>>>2]>>>24-8*(S[5]&3)&255],b^=a[d[c]][o[S[6]>>>2]>>>24-8*(S[6]&3)&255],o[S[0]]=b}for(c=0;c<4;c++){let S=e[A][c];b=a[4][o[S[0]>>>2]>>>24-8*(S[0]&3)&255],b^=a[5][o[S[1]>>>2]>>>24-8*(S[1]&3)&255],b^=a[6][o[S[2]>>>2]>>>24-8*(S[2]&3)&255],b^=a[7][o[S[3]>>>2]>>>24-8*(S[3]&3)&255],b^=a[4+c][o[S[4]>>>2]>>>24-8*(S[4]&3)&255],f[u]=b,u++}}for(let x=0;x<16;x++)this.masking[x]=f[x],this.rotate[x]=f[16+x]&31};function r(s,o,f){let c=o+s,d=c<<f|c>>>32-f;return(a[0][d>>>24]^a[1][d>>>16&255])-a[2][d>>>8&255]+a[3][d&255]}function n(s,o,f){let c=o^s,d=c<<f|c>>>32-f;return a[0][d>>>24]-a[1][d>>>16&255]+a[2][d>>>8&255]^a[3][d&255]}function i(s,o,f){let c=o-s,d=c<<f|c>>>32-f;return(a[0][d>>>24]+a[1][d>>>16&255]^a[2][d>>>8&255])-a[3][d&255]}let a=new Array(8);a[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],a[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],a[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],a[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],a[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],a[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],a[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],a[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function O0(t){this.cast5=new P8,this.cast5.setKey(t),this.encrypt=function(e){return this.cast5.encrypt(e)}}O0.blockSize=O0.prototype.blockSize=8;O0.keySize=O0.prototype.keySize=16;var Er=4294967295;function cn(t,e){return(t<<e|t>>>32-e)&Er}function On(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24}function mi(t,e,r){t.splice(e,4,r&255,r>>>8&255,r>>>16&255,r>>>24&255)}function Xe(t,e){return t>>>e*8&255}function R8(){let t=null,e=null,r=-1,n=[],i=[[],[],[],[]];function a(A){t=A;let S,O,T,Q,ne,F=[],X=[],te=[],re,J=[],se,C,l,m=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],y=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],I=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],N=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],Z=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],B=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],P=[[],[]],p=[[],[],[],[]];function L(ge){return ge^ge>>2^[0,90,180,238][ge&3]}function be(ge){return ge^ge>>1^ge>>2^[0,238,180,90][ge&3]}function me(ge,j){let oe,ee,G;for(oe=0;oe<8;oe++)ee=j>>>24,j=j<<8&Er|ge>>>24,ge=ge<<8&Er,G=ee<<1,ee&128&&(G^=333),j^=ee^G<<16,G^=ee>>>1,ee&1&&(G^=166),j^=G<<24|G<<8;return j}function _e(ge,j){let oe=j>>4,ee=j&15,G=m[ge][oe^ee],ce=y[ge][Z[ee]^B[oe]];return N[ge][Z[ce]^B[G]]<<4|I[ge][G^ce]}function Se(ge,j){let oe=Xe(ge,0),ee=Xe(ge,1),G=Xe(ge,2),ce=Xe(ge,3);switch(re){case 4:oe=P[1][oe]^Xe(j[3],0),ee=P[0][ee]^Xe(j[3],1),G=P[0][G]^Xe(j[3],2),ce=P[1][ce]^Xe(j[3],3);case 3:oe=P[1][oe]^Xe(j[2],0),ee=P[1][ee]^Xe(j[2],1),G=P[0][G]^Xe(j[2],2),ce=P[0][ce]^Xe(j[2],3);case 2:oe=P[0][P[0][oe]^Xe(j[1],0)]^Xe(j[0],0),ee=P[0][P[1][ee]^Xe(j[1],1)]^Xe(j[0],1),G=P[1][P[0][G]^Xe(j[1],2)]^Xe(j[0],2),ce=P[1][P[1][ce]^Xe(j[1],3)]^Xe(j[0],3)}return p[0][oe]^p[1][ee]^p[2][G]^p[3][ce]}for(t=t.slice(0,32),S=t.length;S!==16&&S!==24&&S!==32;)t[S++]=0;for(S=0;S<t.length;S+=4)te[S>>2]=On(t,S);for(S=0;S<256;S++)P[0][S]=_e(0,S),P[1][S]=_e(1,S);for(S=0;S<256;S++)se=P[1][S],C=L(se),l=be(se),p[0][S]=se+(C<<8)+(l<<16)+(l<<24),p[2][S]=C+(l<<8)+(se<<16)+(l<<24),se=P[0][S],C=L(se),l=be(se),p[1][S]=l+(l<<8)+(C<<16)+(se<<24),p[3][S]=C+(se<<8)+(l<<16)+(C<<24);for(re=te.length/2,S=0;S<re;S++)O=te[S+S],F[S]=O,T=te[S+S+1],X[S]=T,J[re-S-1]=me(O,T);for(S=0;S<40;S+=2)O=16843009*S,T=O+16843009,O=Se(O,F),T=cn(Se(T,X),8),n[S]=O+T&Er,n[S+1]=cn(O+2*T,9);for(S=0;S<256;S++)switch(O=T=Q=ne=S,re){case 4:O=P[1][O]^Xe(J[3],0),T=P[0][T]^Xe(J[3],1),Q=P[0][Q]^Xe(J[3],2),ne=P[1][ne]^Xe(J[3],3);case 3:O=P[1][O]^Xe(J[2],0),T=P[1][T]^Xe(J[2],1),Q=P[0][Q]^Xe(J[2],2),ne=P[0][ne]^Xe(J[2],3);case 2:i[0][S]=p[0][P[0][P[0][O]^Xe(J[1],0)]^Xe(J[0],0)],i[1][S]=p[1][P[0][P[1][T]^Xe(J[1],1)]^Xe(J[0],1)],i[2][S]=p[2][P[1][P[0][Q]^Xe(J[1],2)]^Xe(J[0],2)],i[3][S]=p[3][P[1][P[1][ne]^Xe(J[1],3)]^Xe(J[0],3)]}}function s(A){return i[0][Xe(A,0)]^i[1][Xe(A,1)]^i[2][Xe(A,2)]^i[3][Xe(A,3)]}function o(A){return i[0][Xe(A,3)]^i[1][Xe(A,0)]^i[2][Xe(A,1)]^i[3][Xe(A,2)]}function f(A,S){let O=s(S[0]),T=o(S[1]);S[2]=cn(S[2]^O+T+n[4*A+8]&Er,31),S[3]=cn(S[3],1)^O+2*T+n[4*A+9]&Er,O=s(S[2]),T=o(S[3]),S[0]=cn(S[0]^O+T+n[4*A+10]&Er,31),S[1]=cn(S[1],1)^O+2*T+n[4*A+11]&Er}function c(A,S){let O=s(S[0]),T=o(S[1]);S[2]=cn(S[2],1)^O+T+n[4*A+10]&Er,S[3]=cn(S[3]^O+2*T+n[4*A+11]&Er,31),O=s(S[2]),T=o(S[3]),S[0]=cn(S[0],1)^O+T+n[4*A+8]&Er,S[1]=cn(S[1]^O+2*T+n[4*A+9]&Er,31)}function d(){n=[],i=[[],[],[],[]]}function u(A,S){e=A,r=S;let O=[On(e,r)^n[0],On(e,r+4)^n[1],On(e,r+8)^n[2],On(e,r+12)^n[3]];for(let T=0;T<8;T++)f(T,O);return mi(e,r,O[2]^n[4]),mi(e,r+4,O[3]^n[5]),mi(e,r+8,O[0]^n[6]),mi(e,r+12,O[1]^n[7]),r+=16,e}function b(A,S){e=A,r=S;let O=[On(e,r)^n[4],On(e,r+4)^n[5],On(e,r+8)^n[6],On(e,r+12)^n[7]];for(let T=7;T>=0;T--)c(T,O);mi(e,r,O[2]^n[0]),mi(e,r+4,O[3]^n[1]),mi(e,r+8,O[0]^n[2]),mi(e,r+12,O[1]^n[3]),r+=16}function x(){return e}return{name:"twofish",blocksize:128/8,open:a,close:d,encrypt:u,decrypt:b,finalize:x}}function N0(t){this.tf=R8(),this.tf.open(Array.from(t),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}N0.keySize=N0.prototype.keySize=32;N0.blockSize=N0.prototype.blockSize=16;function qr(){}qr.prototype.BLOCKSIZE=8;qr.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];qr.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];qr.prototype.NN=16;qr.prototype._clean=function(t){return t<0&&(t=(t&2147483647)+2147483648),t};qr.prototype._F=function(t){let e,r=t&255;t>>>=8;let n=t&255;t>>>=8;let i=t&255;t>>>=8;let a=t&255;return e=this.sboxes[0][a]+this.sboxes[1][i],e^=this.sboxes[2][n],e+=this.sboxes[3][r],e};qr.prototype._encrypt_block=function(t){let e=t[0],r=t[1],n;for(n=0;n<this.NN;++n){e^=this.parray[n],r=this._F(e)^r;let i=e;e=r,r=i}e^=this.parray[this.NN+0],r^=this.parray[this.NN+1],t[0]=this._clean(r),t[1]=this._clean(e)};qr.prototype.encrypt_block=function(t){let e,r=[0,0],n=this.BLOCKSIZE/2;for(e=0;e<this.BLOCKSIZE/2;++e)r[0]=r[0]<<8|t[e+0]&255,r[1]=r[1]<<8|t[e+n]&255;this._encrypt_block(r);let i=[];for(e=0;e<this.BLOCKSIZE/2;++e)i[e+0]=r[0]>>>24-8*e&255,i[e+n]=r[1]>>>24-8*e&255;return i};qr.prototype._decrypt_block=function(t){let e=t[0],r=t[1],n;for(n=this.NN+1;n>1;--n){e^=this.parray[n],r=this._F(e)^r;let i=e;e=r,r=i}e^=this.parray[1],r^=this.parray[0],t[0]=this._clean(r),t[1]=this._clean(e)};qr.prototype.init=function(t){let e,r=0;for(this.parray=[],e=0;e<this.NN+2;++e){let i=0;for(let a=0;a<4;++a)i=i<<8|t[r]&255,++r>=t.length&&(r=0);this.parray[e]=this.PARRAY[e]^i}for(this.sboxes=[],e=0;e<4;++e)for(this.sboxes[e]=[],r=0;r<256;++r)this.sboxes[e][r]=this.SBOXES[e][r];let n=[0,0];for(e=0;e<this.NN+2;e+=2)this._encrypt_block(n),this.parray[e+0]=n[0],this.parray[e+1]=n[1];for(e=0;e<4;++e)for(r=0;r<256;r+=2)this._encrypt_block(n),this.sboxes[e][r+0]=n[0],this.sboxes[e][r+1]=n[1]};function q0(t){this.bf=new qr,this.bf.init(t),this.encrypt=function(e){return this.bf.encrypt_block(e)}}q0.keySize=q0.prototype.keySize=16;q0.blockSize=q0.prototype.blockSize=8;var M8=fd(128),B8=fd(192),T8=fd(256),I8=C8,D8=F0,K8=O0,U8=N0,z8=q0,F8=function(){throw new Error("IDEA symmetric-key algorithm not implemented")},Lr=Object.freeze({__proto__:null,aes128:M8,aes192:B8,aes256:T8,des:I8,tripledes:D8,cast5:K8,twofish:U8,blowfish:z8,idea:F8}),K1=function(t,e,r){var n=0,i=0,a=0,s=0,o=0,f=0,c=0,d=0,u=0,b=0,x=0,A=0,S=0,O=0,T=0,Q=0,ne=0,F=new t.Uint8Array(r);function X(B,P,p,L,be,me,_e,Se,ge,j,oe,ee,G,ce,le,ye){B=B|0,P=P|0,p=p|0,L=L|0,be=be|0,me=me|0,_e=_e|0,Se=Se|0,ge=ge|0,j=j|0,oe=oe|0,ee=ee|0,G=G|0,ce=ce|0,le=le|0,ye=ye|0;var k=0,v=0,M=0,U=0,w=0,_=0,E=0,h=0,q=0,D=0,K=0,z=0,W=0,$=0,H=0,V=0,Y=0,Ne=0,at=0,Le=0,ie=0,ae=0,fe=0,de=0,Ie=0,Be=0,Te=0,Ze=0,De=0,ze=0,ct=0,je=0,We=0,_t=0,tt=0,Ke=0,Gt=0,rt=0,st=0,ur=0,$e=0,Fe=0,mt=0,Ye=0,Ge=0,ut=0,qe=0,He=0,lt=0,bt=0,he=0,ue=0,xe=0,Ae=0,Ee=0,Ue=0,zt=0,Mr=0,Qn=0,ei=0,ti=0,ri=0,ni=0,qi=0,Li=0,ji=0,$i=0,Rc=0,wu=0,_u=0,Au=0;k=n,v=i,M=a,U=s,w=o,E=B+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=P+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=p+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=L+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=be+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=me+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=_e+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=Se+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=ge+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=j+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=oe+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=ee+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=G+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=ce+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=le+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,E=ye+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ce^ge^p^B,h=_<<1|_>>>31,E=h+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=le^j^L^P,q=_<<1|_>>>31,E=q+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ye^oe^be^p,D=_<<1|_>>>31,E=D+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=h^ee^me^L,K=_<<1|_>>>31,E=K+(k<<5|k>>>27)+w+(v&M|~v&U)+1518500249|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=q^G^_e^be,z=_<<1|_>>>31,E=z+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=D^ce^Se^me,W=_<<1|_>>>31,E=W+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=K^le^ge^_e,$=_<<1|_>>>31,E=$+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=z^ye^j^Se,H=_<<1|_>>>31,E=H+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=W^h^oe^ge,V=_<<1|_>>>31,E=V+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=$^q^ee^j,Y=_<<1|_>>>31,E=Y+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=H^D^G^oe,Ne=_<<1|_>>>31,E=Ne+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=V^K^ce^ee,at=_<<1|_>>>31,E=at+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Y^z^le^G,Le=_<<1|_>>>31,E=Le+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Ne^W^ye^ce,ie=_<<1|_>>>31,E=ie+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=at^$^h^le,ae=_<<1|_>>>31,E=ae+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Le^H^q^ye,fe=_<<1|_>>>31,E=fe+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ie^V^D^h,de=_<<1|_>>>31,E=de+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ae^Y^K^q,Ie=_<<1|_>>>31,E=Ie+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=fe^Ne^z^D,Be=_<<1|_>>>31,E=Be+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=de^at^W^K,Te=_<<1|_>>>31,E=Te+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Ie^Le^$^z,Ze=_<<1|_>>>31,E=Ze+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Be^ie^H^W,De=_<<1|_>>>31,E=De+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Te^ae^V^$,ze=_<<1|_>>>31,E=ze+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Ze^fe^Y^H,ct=_<<1|_>>>31,E=ct+(k<<5|k>>>27)+w+(v^M^U)+1859775393|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=De^de^Ne^V,je=_<<1|_>>>31,E=je+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ze^Ie^at^Y,We=_<<1|_>>>31,E=We+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ct^Be^Le^Ne,_t=_<<1|_>>>31,E=_t+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=je^Te^ie^at,tt=_<<1|_>>>31,E=tt+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=We^Ze^ae^Le,Ke=_<<1|_>>>31,E=Ke+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=_t^De^fe^ie,Gt=_<<1|_>>>31,E=Gt+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=tt^ze^de^ae,rt=_<<1|_>>>31,E=rt+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Ke^ct^Ie^fe,st=_<<1|_>>>31,E=st+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Gt^je^Be^de,ur=_<<1|_>>>31,E=ur+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=rt^We^Te^Ie,$e=_<<1|_>>>31,E=$e+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=st^_t^Ze^Be,Fe=_<<1|_>>>31,E=Fe+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ur^tt^De^Te,mt=_<<1|_>>>31,E=mt+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=$e^Ke^ze^Ze,Ye=_<<1|_>>>31,E=Ye+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Fe^Gt^ct^De,Ge=_<<1|_>>>31,E=Ge+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=mt^rt^je^ze,ut=_<<1|_>>>31,E=ut+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Ye^st^We^ct,qe=_<<1|_>>>31,E=qe+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Ge^ur^_t^je,He=_<<1|_>>>31,E=He+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ut^$e^tt^We,lt=_<<1|_>>>31,E=lt+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=qe^Fe^Ke^_t,bt=_<<1|_>>>31,E=bt+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=He^mt^Gt^tt,he=_<<1|_>>>31,E=he+(k<<5|k>>>27)+w+(v&M|v&U|M&U)-1894007588|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=lt^Ye^rt^Ke,ue=_<<1|_>>>31,E=ue+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=bt^Ge^st^Gt,xe=_<<1|_>>>31,E=xe+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=he^ut^ur^rt,Ae=_<<1|_>>>31,E=Ae+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ue^qe^$e^st,Ee=_<<1|_>>>31,E=Ee+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=xe^He^Fe^ur,Ue=_<<1|_>>>31,E=Ue+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Ae^lt^mt^$e,zt=_<<1|_>>>31,E=zt+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Ee^bt^Ye^Fe,Mr=_<<1|_>>>31,E=Mr+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Ue^he^Ge^mt,Qn=_<<1|_>>>31,E=Qn+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=zt^ue^ut^Ye,ei=_<<1|_>>>31,E=ei+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Mr^xe^qe^Ge,ti=_<<1|_>>>31,E=ti+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Qn^Ae^He^ut,ri=_<<1|_>>>31,E=ri+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ei^Ee^lt^qe,ni=_<<1|_>>>31,E=ni+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ti^Ue^bt^He,qi=_<<1|_>>>31,E=qi+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ri^zt^he^lt,Li=_<<1|_>>>31,E=Li+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ni^Mr^ue^bt,ji=_<<1|_>>>31,E=ji+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=qi^Qn^xe^he,$i=_<<1|_>>>31,E=$i+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Li^ei^Ae^ue,Rc=_<<1|_>>>31,E=Rc+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=ji^ti^Ee^xe,wu=_<<1|_>>>31,E=wu+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=$i^ri^Ue^Ae,_u=_<<1|_>>>31,E=_u+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,_=Rc^ni^zt^Ee,Au=_<<1|_>>>31,E=Au+(k<<5|k>>>27)+w+(v^M^U)-899497514|0,w=U,U=M,M=v<<30|v>>>2,v=k,k=E,n=n+k|0,i=i+v|0,a=a+M|0,s=s+U|0,o=o+w|0}function te(B){B=B|0,X(F[B|0]<<24|F[B|1]<<16|F[B|2]<<8|F[B|3],F[B|4]<<24|F[B|5]<<16|F[B|6]<<8|F[B|7],F[B|8]<<24|F[B|9]<<16|F[B|10]<<8|F[B|11],F[B|12]<<24|F[B|13]<<16|F[B|14]<<8|F[B|15],F[B|16]<<24|F[B|17]<<16|F[B|18]<<8|F[B|19],F[B|20]<<24|F[B|21]<<16|F[B|22]<<8|F[B|23],F[B|24]<<24|F[B|25]<<16|F[B|26]<<8|F[B|27],F[B|28]<<24|F[B|29]<<16|F[B|30]<<8|F[B|31],F[B|32]<<24|F[B|33]<<16|F[B|34]<<8|F[B|35],F[B|36]<<24|F[B|37]<<16|F[B|38]<<8|F[B|39],F[B|40]<<24|F[B|41]<<16|F[B|42]<<8|F[B|43],F[B|44]<<24|F[B|45]<<16|F[B|46]<<8|F[B|47],F[B|48]<<24|F[B|49]<<16|F[B|50]<<8|F[B|51],F[B|52]<<24|F[B|53]<<16|F[B|54]<<8|F[B|55],F[B|56]<<24|F[B|57]<<16|F[B|58]<<8|F[B|59],F[B|60]<<24|F[B|61]<<16|F[B|62]<<8|F[B|63])}function re(B){B=B|0,F[B|0]=n>>>24,F[B|1]=n>>>16&255,F[B|2]=n>>>8&255,F[B|3]=n&255,F[B|4]=i>>>24,F[B|5]=i>>>16&255,F[B|6]=i>>>8&255,F[B|7]=i&255,F[B|8]=a>>>24,F[B|9]=a>>>16&255,F[B|10]=a>>>8&255,F[B|11]=a&255,F[B|12]=s>>>24,F[B|13]=s>>>16&255,F[B|14]=s>>>8&255,F[B|15]=s&255,F[B|16]=o>>>24,F[B|17]=o>>>16&255,F[B|18]=o>>>8&255,F[B|19]=o&255}function J(){n=1732584193,i=4023233417,a=2562383102,s=271733878,o=3285377520,f=c=0}function se(B,P,p,L,be,me,_e){B=B|0,P=P|0,p=p|0,L=L|0,be=be|0,me=me|0,_e=_e|0,n=B,i=P,a=p,s=L,o=be,f=me,c=_e}function C(B,P){B=B|0,P=P|0;var p=0;if(B&63)return-1;for(;(P|0)>=64;)te(B),B=B+64|0,P=P-64|0,p=p+64|0;return f=f+p|0,f>>>0<p>>>0&&(c=c+1|0),p|0}function l(B,P,p){B=B|0,P=P|0,p=p|0;var L=0,be=0;if(B&63||~p&&p&31)return-1;if((P|0)>=64){if(L=C(B,P)|0,(L|0)==-1)return-1;B=B+L|0,P=P-L|0}if(L=L+P|0,f=f+P|0,f>>>0<P>>>0&&(c=c+1|0),F[B|P]=128,(P|0)>=56){for(be=P+1|0;(be|0)<64;be=be+1|0)F[B|be]=0;te(B),P=0,F[B|0]=0}for(be=P+1|0;(be|0)<59;be=be+1|0)F[B|be]=0;return F[B|56]=c>>>21&255,F[B|57]=c>>>13&255,F[B|58]=c>>>5&255,F[B|59]=c<<3&255|f>>>29,F[B|60]=f>>>21&255,F[B|61]=f>>>13&255,F[B|62]=f>>>5&255,F[B|63]=f<<3&255,te(B),~p&&re(p),L|0}function m(){n=d,i=u,a=b,s=x,o=A,f=64,c=0}function y(){n=S,i=O,a=T,s=Q,o=ne,f=64,c=0}function I(B,P,p,L,be,me,_e,Se,ge,j,oe,ee,G,ce,le,ye){B=B|0,P=P|0,p=p|0,L=L|0,be=be|0,me=me|0,_e=_e|0,Se=Se|0,ge=ge|0,j=j|0,oe=oe|0,ee=ee|0,G=G|0,ce=ce|0,le=le|0,ye=ye|0,J(),X(B^1549556828,P^1549556828,p^1549556828,L^1549556828,be^1549556828,me^1549556828,_e^1549556828,Se^1549556828,ge^1549556828,j^1549556828,oe^1549556828,ee^1549556828,G^1549556828,ce^1549556828,le^1549556828,ye^1549556828),S=n,O=i,T=a,Q=s,ne=o,J(),X(B^909522486,P^909522486,p^909522486,L^909522486,be^909522486,me^909522486,_e^909522486,Se^909522486,ge^909522486,j^909522486,oe^909522486,ee^909522486,G^909522486,ce^909522486,le^909522486,ye^909522486),d=n,u=i,b=a,x=s,A=o,f=64,c=0}function N(B,P,p){B=B|0,P=P|0,p=p|0;var L=0,be=0,me=0,_e=0,Se=0,ge=0;return B&63||~p&&p&31?-1:(ge=l(B,P,-1)|0,L=n,be=i,me=a,_e=s,Se=o,y(),X(L,be,me,_e,Se,2147483648,0,0,0,0,0,0,0,0,0,672),~p&&re(p),ge|0)}function Z(B,P,p,L,be){B=B|0,P=P|0,p=p|0,L=L|0,be=be|0;var me=0,_e=0,Se=0,ge=0,j=0,oe=0,ee=0,G=0,ce=0,le=0;if(B&63||~be&&be&31)return-1;for(F[B+P|0]=p>>>24,F[B+P+1|0]=p>>>16&255,F[B+P+2|0]=p>>>8&255,F[B+P+3|0]=p&255,N(B,P+4|0,-1)|0,me=oe=n,_e=ee=i,Se=G=a,ge=ce=s,j=le=o,L=L-1|0;(L|0)>0;)m(),X(oe,ee,G,ce,le,2147483648,0,0,0,0,0,0,0,0,0,672),oe=n,ee=i,G=a,ce=s,le=o,y(),X(oe,ee,G,ce,le,2147483648,0,0,0,0,0,0,0,0,0,672),oe=n,ee=i,G=a,ce=s,le=o,me=me^n,_e=_e^i,Se=Se^a,ge=ge^s,j=j^o,L=L-1|0;return n=me,i=_e,a=Se,s=ge,o=j,~be&&re(be),0}return{reset:J,init:se,process:C,finish:l,hmac_reset:m,hmac_init:I,hmac_finish:N,pbkdf2_generate_block:Z}},dd=class{constructor(){this.pos=0,this.len=0}reset(){let{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(this.result!==null)throw new Ro("state must be reset before processing new data");let{asm:r,heap:n}=this.acquire_asm(),i=this.pos,a=this.len,s=0,o=e.length,f=0;for(;o>0;)f=fa(n,i+a,e,s,o),a+=f,s+=f,o-=f,f=r.process(i,a),i+=f,a-=f,a||(i=0);return this.pos=i,this.len=a,this}finish(){if(this.result!==null)throw new Ro("state must be reset before processing new data");let{asm:e,heap:r}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(r.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}},O8=64,N8=20,U1=[],z1=[],Nn=class extends dd{constructor(){super();this.NAME="sha1",this.BLOCK_SIZE=O8,this.HASH_SIZE=N8,this.acquire_asm()}acquire_asm(){return(this.heap===void 0||this.asm===void 0)&&(this.heap=U1.pop()||cd(),this.asm=z1.pop()||K1({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(U1.push(this.heap),z1.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return new Nn().process(e).finish().result}};Nn.NAME="sha1";Nn.heap_pool=[];Nn.asm_pool=[];Nn.asm_function=K1;var q8=function(t,e,r){var n=0,i=0,a=0,s=0,o=0,f=0,c=0,d=0,u=0,b=0,x=0,A=0,S=0,O=0,T=0,Q=0,ne=0,F=0,X=0,te=0,re=0,J=0,se=0,C=0,l=0,m=0,y=new t.Uint8Array(r);function I(j,oe,ee,G,ce,le,ye,k,v,M,U,w,_,E,h,q){j=j|0,oe=oe|0,ee=ee|0,G=G|0,ce=ce|0,le=le|0,ye=ye|0,k=k|0,v=v|0,M=M|0,U=U|0,w=w|0,_=_|0,E=E|0,h=h|0,q=q|0;var D=0,K=0,z=0,W=0,$=0,H=0,V=0,Y=0;D=n,K=i,z=a,W=s,$=o,H=f,V=c,Y=d,Y=j+Y+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(V^$&(H^V))+1116352408|0,W=W+Y|0,Y=Y+(D&K^z&(D^K))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,V=oe+V+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(H^W&($^H))+1899447441|0,z=z+V|0,V=V+(Y&D^K&(Y^D))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,H=ee+H+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+($^z&(W^$))+3049323471|0,K=K+H|0,H=H+(V&Y^D&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,$=G+$+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(W^K&(z^W))+3921009573|0,D=D+$|0,$=$+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,W=ce+W+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(z^D&(K^z))+961987163|0,Y=Y+W|0,W=W+($&H^V&($^H))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,z=le+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(K^Y&(D^K))+1508970993|0,V=V+z|0,z=z+(W&$^H&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,K=ye+K+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(D^V&(Y^D))+2453635748|0,H=H+K|0,K=K+(z&W^$&(z^W))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,D=k+D+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+2870763221|0,$=$+D|0,D=D+(K&z^W&(K^z))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0,Y=v+Y+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(V^$&(H^V))+3624381080|0,W=W+Y|0,Y=Y+(D&K^z&(D^K))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,V=M+V+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(H^W&($^H))+310598401|0,z=z+V|0,V=V+(Y&D^K&(Y^D))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,H=U+H+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+($^z&(W^$))+607225278|0,K=K+H|0,H=H+(V&Y^D&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,$=w+$+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(W^K&(z^W))+1426881987|0,D=D+$|0,$=$+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,W=_+W+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(z^D&(K^z))+1925078388|0,Y=Y+W|0,W=W+($&H^V&($^H))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,z=E+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(K^Y&(D^K))+2162078206|0,V=V+z|0,z=z+(W&$^H&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,K=h+K+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(D^V&(Y^D))+2614888103|0,H=H+K|0,K=K+(z&W^$&(z^W))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,D=q+D+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+3248222580|0,$=$+D|0,D=D+(K&z^W&(K^z))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0,j=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+j+M|0,Y=j+Y+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(V^$&(H^V))+3835390401|0,W=W+Y|0,Y=Y+(D&K^z&(D^K))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,oe=(ee>>>7^ee>>>18^ee>>>3^ee<<25^ee<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+oe+U|0,V=oe+V+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(H^W&($^H))+4022224774|0,z=z+V|0,V=V+(Y&D^K&(Y^D))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,ee=(G>>>7^G>>>18^G>>>3^G<<25^G<<14)+(j>>>17^j>>>19^j>>>10^j<<15^j<<13)+ee+w|0,H=ee+H+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+($^z&(W^$))+264347078|0,K=K+H|0,H=H+(V&Y^D&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,G=(ce>>>7^ce>>>18^ce>>>3^ce<<25^ce<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+G+_|0,$=G+$+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(W^K&(z^W))+604807628|0,D=D+$|0,$=$+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,ce=(le>>>7^le>>>18^le>>>3^le<<25^le<<14)+(ee>>>17^ee>>>19^ee>>>10^ee<<15^ee<<13)+ce+E|0,W=ce+W+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(z^D&(K^z))+770255983|0,Y=Y+W|0,W=W+($&H^V&($^H))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,le=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(G>>>17^G>>>19^G>>>10^G<<15^G<<13)+le+h|0,z=le+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(K^Y&(D^K))+1249150122|0,V=V+z|0,z=z+(W&$^H&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,ye=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(ce>>>17^ce>>>19^ce>>>10^ce<<15^ce<<13)+ye+q|0,K=ye+K+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(D^V&(Y^D))+1555081692|0,H=H+K|0,K=K+(z&W^$&(z^W))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,k=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(le>>>17^le>>>19^le>>>10^le<<15^le<<13)+k+j|0,D=k+D+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+1996064986|0,$=$+D|0,D=D+(K&z^W&(K^z))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0,v=(M>>>7^M>>>18^M>>>3^M<<25^M<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+v+oe|0,Y=v+Y+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(V^$&(H^V))+2554220882|0,W=W+Y|0,Y=Y+(D&K^z&(D^K))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,M=(U>>>7^U>>>18^U>>>3^U<<25^U<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+M+ee|0,V=M+V+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(H^W&($^H))+2821834349|0,z=z+V|0,V=V+(Y&D^K&(Y^D))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,U=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+U+G|0,H=U+H+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+($^z&(W^$))+2952996808|0,K=K+H|0,H=H+(V&Y^D&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,w=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(M>>>17^M>>>19^M>>>10^M<<15^M<<13)+w+ce|0,$=w+$+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(W^K&(z^W))+3210313671|0,D=D+$|0,$=$+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,_=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(U>>>17^U>>>19^U>>>10^U<<15^U<<13)+_+le|0,W=_+W+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(z^D&(K^z))+3336571891|0,Y=Y+W|0,W=W+($&H^V&($^H))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,E=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+E+ye|0,z=E+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(K^Y&(D^K))+3584528711|0,V=V+z|0,z=z+(W&$^H&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,h=(q>>>7^q>>>18^q>>>3^q<<25^q<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+h+k|0,K=h+K+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(D^V&(Y^D))+113926993|0,H=H+K|0,K=K+(z&W^$&(z^W))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=(j>>>7^j>>>18^j>>>3^j<<25^j<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+q+v|0,D=q+D+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+338241895|0,$=$+D|0,D=D+(K&z^W&(K^z))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0,j=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+j+M|0,Y=j+Y+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(V^$&(H^V))+666307205|0,W=W+Y|0,Y=Y+(D&K^z&(D^K))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,oe=(ee>>>7^ee>>>18^ee>>>3^ee<<25^ee<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+oe+U|0,V=oe+V+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(H^W&($^H))+773529912|0,z=z+V|0,V=V+(Y&D^K&(Y^D))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,ee=(G>>>7^G>>>18^G>>>3^G<<25^G<<14)+(j>>>17^j>>>19^j>>>10^j<<15^j<<13)+ee+w|0,H=ee+H+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+($^z&(W^$))+1294757372|0,K=K+H|0,H=H+(V&Y^D&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,G=(ce>>>7^ce>>>18^ce>>>3^ce<<25^ce<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+G+_|0,$=G+$+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(W^K&(z^W))+1396182291|0,D=D+$|0,$=$+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,ce=(le>>>7^le>>>18^le>>>3^le<<25^le<<14)+(ee>>>17^ee>>>19^ee>>>10^ee<<15^ee<<13)+ce+E|0,W=ce+W+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(z^D&(K^z))+1695183700|0,Y=Y+W|0,W=W+($&H^V&($^H))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,le=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(G>>>17^G>>>19^G>>>10^G<<15^G<<13)+le+h|0,z=le+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(K^Y&(D^K))+1986661051|0,V=V+z|0,z=z+(W&$^H&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,ye=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(ce>>>17^ce>>>19^ce>>>10^ce<<15^ce<<13)+ye+q|0,K=ye+K+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(D^V&(Y^D))+2177026350|0,H=H+K|0,K=K+(z&W^$&(z^W))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,k=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(le>>>17^le>>>19^le>>>10^le<<15^le<<13)+k+j|0,D=k+D+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+2456956037|0,$=$+D|0,D=D+(K&z^W&(K^z))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0,v=(M>>>7^M>>>18^M>>>3^M<<25^M<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+v+oe|0,Y=v+Y+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(V^$&(H^V))+2730485921|0,W=W+Y|0,Y=Y+(D&K^z&(D^K))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,M=(U>>>7^U>>>18^U>>>3^U<<25^U<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+M+ee|0,V=M+V+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(H^W&($^H))+2820302411|0,z=z+V|0,V=V+(Y&D^K&(Y^D))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,U=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+U+G|0,H=U+H+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+($^z&(W^$))+3259730800|0,K=K+H|0,H=H+(V&Y^D&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,w=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(M>>>17^M>>>19^M>>>10^M<<15^M<<13)+w+ce|0,$=w+$+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(W^K&(z^W))+3345764771|0,D=D+$|0,$=$+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,_=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(U>>>17^U>>>19^U>>>10^U<<15^U<<13)+_+le|0,W=_+W+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(z^D&(K^z))+3516065817|0,Y=Y+W|0,W=W+($&H^V&($^H))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,E=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+E+ye|0,z=E+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(K^Y&(D^K))+3600352804|0,V=V+z|0,z=z+(W&$^H&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,h=(q>>>7^q>>>18^q>>>3^q<<25^q<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+h+k|0,K=h+K+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(D^V&(Y^D))+4094571909|0,H=H+K|0,K=K+(z&W^$&(z^W))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=(j>>>7^j>>>18^j>>>3^j<<25^j<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+q+v|0,D=q+D+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+275423344|0,$=$+D|0,D=D+(K&z^W&(K^z))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0,j=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+j+M|0,Y=j+Y+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(V^$&(H^V))+430227734|0,W=W+Y|0,Y=Y+(D&K^z&(D^K))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,oe=(ee>>>7^ee>>>18^ee>>>3^ee<<25^ee<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+oe+U|0,V=oe+V+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(H^W&($^H))+506948616|0,z=z+V|0,V=V+(Y&D^K&(Y^D))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,ee=(G>>>7^G>>>18^G>>>3^G<<25^G<<14)+(j>>>17^j>>>19^j>>>10^j<<15^j<<13)+ee+w|0,H=ee+H+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+($^z&(W^$))+659060556|0,K=K+H|0,H=H+(V&Y^D&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,G=(ce>>>7^ce>>>18^ce>>>3^ce<<25^ce<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+G+_|0,$=G+$+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(W^K&(z^W))+883997877|0,D=D+$|0,$=$+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,ce=(le>>>7^le>>>18^le>>>3^le<<25^le<<14)+(ee>>>17^ee>>>19^ee>>>10^ee<<15^ee<<13)+ce+E|0,W=ce+W+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(z^D&(K^z))+958139571|0,Y=Y+W|0,W=W+($&H^V&($^H))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,le=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(G>>>17^G>>>19^G>>>10^G<<15^G<<13)+le+h|0,z=le+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(K^Y&(D^K))+1322822218|0,V=V+z|0,z=z+(W&$^H&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,ye=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(ce>>>17^ce>>>19^ce>>>10^ce<<15^ce<<13)+ye+q|0,K=ye+K+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(D^V&(Y^D))+1537002063|0,H=H+K|0,K=K+(z&W^$&(z^W))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,k=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(le>>>17^le>>>19^le>>>10^le<<15^le<<13)+k+j|0,D=k+D+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+1747873779|0,$=$+D|0,D=D+(K&z^W&(K^z))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0,v=(M>>>7^M>>>18^M>>>3^M<<25^M<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+v+oe|0,Y=v+Y+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(V^$&(H^V))+1955562222|0,W=W+Y|0,Y=Y+(D&K^z&(D^K))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,M=(U>>>7^U>>>18^U>>>3^U<<25^U<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+M+ee|0,V=M+V+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(H^W&($^H))+2024104815|0,z=z+V|0,V=V+(Y&D^K&(Y^D))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,U=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+U+G|0,H=U+H+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+($^z&(W^$))+2227730452|0,K=K+H|0,H=H+(V&Y^D&(V^Y))+(V>>>2^V>>>13^V>>>22^V<<30^V<<19^V<<10)|0,w=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(M>>>17^M>>>19^M>>>10^M<<15^M<<13)+w+ce|0,$=w+$+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(W^K&(z^W))+2361852424|0,D=D+$|0,$=$+(H&V^Y&(H^V))+(H>>>2^H>>>13^H>>>22^H<<30^H<<19^H<<10)|0,_=(E>>>7^E>>>18^E>>>3^E<<25^E<<14)+(U>>>17^U>>>19^U>>>10^U<<15^U<<13)+_+le|0,W=_+W+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(z^D&(K^z))+2428436474|0,Y=Y+W|0,W=W+($&H^V&($^H))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,E=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+E+ye|0,z=E+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(K^Y&(D^K))+2756734187|0,V=V+z|0,z=z+(W&$^H&(W^$))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,h=(q>>>7^q>>>18^q>>>3^q<<25^q<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+h+k|0,K=h+K+(V>>>6^V>>>11^V>>>25^V<<26^V<<21^V<<7)+(D^V&(Y^D))+3204031479|0,H=H+K|0,K=K+(z&W^$&(z^W))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=(j>>>7^j>>>18^j>>>3^j<<25^j<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+q+v|0,D=q+D+(H>>>6^H>>>11^H>>>25^H<<26^H<<21^H<<7)+(Y^H&(V^Y))+3329325298|0,$=$+D|0,D=D+(K&z^W&(K^z))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0,n=n+D|0,i=i+K|0,a=a+z|0,s=s+W|0,o=o+$|0,f=f+H|0,c=c+V|0,d=d+Y|0}function N(j){j=j|0,I(y[j|0]<<24|y[j|1]<<16|y[j|2]<<8|y[j|3],y[j|4]<<24|y[j|5]<<16|y[j|6]<<8|y[j|7],y[j|8]<<24|y[j|9]<<16|y[j|10]<<8|y[j|11],y[j|12]<<24|y[j|13]<<16|y[j|14]<<8|y[j|15],y[j|16]<<24|y[j|17]<<16|y[j|18]<<8|y[j|19],y[j|20]<<24|y[j|21]<<16|y[j|22]<<8|y[j|23],y[j|24]<<24|y[j|25]<<16|y[j|26]<<8|y[j|27],y[j|28]<<24|y[j|29]<<16|y[j|30]<<8|y[j|31],y[j|32]<<24|y[j|33]<<16|y[j|34]<<8|y[j|35],y[j|36]<<24|y[j|37]<<16|y[j|38]<<8|y[j|39],y[j|40]<<24|y[j|41]<<16|y[j|42]<<8|y[j|43],y[j|44]<<24|y[j|45]<<16|y[j|46]<<8|y[j|47],y[j|48]<<24|y[j|49]<<16|y[j|50]<<8|y[j|51],y[j|52]<<24|y[j|53]<<16|y[j|54]<<8|y[j|55],y[j|56]<<24|y[j|57]<<16|y[j|58]<<8|y[j|59],y[j|60]<<24|y[j|61]<<16|y[j|62]<<8|y[j|63])}function Z(j){j=j|0,y[j|0]=n>>>24,y[j|1]=n>>>16&255,y[j|2]=n>>>8&255,y[j|3]=n&255,y[j|4]=i>>>24,y[j|5]=i>>>16&255,y[j|6]=i>>>8&255,y[j|7]=i&255,y[j|8]=a>>>24,y[j|9]=a>>>16&255,y[j|10]=a>>>8&255,y[j|11]=a&255,y[j|12]=s>>>24,y[j|13]=s>>>16&255,y[j|14]=s>>>8&255,y[j|15]=s&255,y[j|16]=o>>>24,y[j|17]=o>>>16&255,y[j|18]=o>>>8&255,y[j|19]=o&255,y[j|20]=f>>>24,y[j|21]=f>>>16&255,y[j|22]=f>>>8&255,y[j|23]=f&255,y[j|24]=c>>>24,y[j|25]=c>>>16&255,y[j|26]=c>>>8&255,y[j|27]=c&255,y[j|28]=d>>>24,y[j|29]=d>>>16&255,y[j|30]=d>>>8&255,y[j|31]=d&255}function B(){n=1779033703,i=3144134277,a=1013904242,s=2773480762,o=1359893119,f=2600822924,c=528734635,d=1541459225,u=b=0}function P(j,oe,ee,G,ce,le,ye,k,v,M){j=j|0,oe=oe|0,ee=ee|0,G=G|0,ce=ce|0,le=le|0,ye=ye|0,k=k|0,v=v|0,M=M|0,n=j,i=oe,a=ee,s=G,o=ce,f=le,c=ye,d=k,u=v,b=M}function p(j,oe){j=j|0,oe=oe|0;var ee=0;if(j&63)return-1;for(;(oe|0)>=64;)N(j),j=j+64|0,oe=oe-64|0,ee=ee+64|0;return u=u+ee|0,u>>>0<ee>>>0&&(b=b+1|0),ee|0}function L(j,oe,ee){j=j|0,oe=oe|0,ee=ee|0;var G=0,ce=0;if(j&63||~ee&&ee&31)return-1;if((oe|0)>=64){if(G=p(j,oe)|0,(G|0)==-1)return-1;j=j+G|0,oe=oe-G|0}if(G=G+oe|0,u=u+oe|0,u>>>0<oe>>>0&&(b=b+1|0),y[j|oe]=128,(oe|0)>=56){for(ce=oe+1|0;(ce|0)<64;ce=ce+1|0)y[j|ce]=0;N(j),oe=0,y[j|0]=0}for(ce=oe+1|0;(ce|0)<59;ce=ce+1|0)y[j|ce]=0;return y[j|56]=b>>>21&255,y[j|57]=b>>>13&255,y[j|58]=b>>>5&255,y[j|59]=b<<3&255|u>>>29,y[j|60]=u>>>21&255,y[j|61]=u>>>13&255,y[j|62]=u>>>5&255,y[j|63]=u<<3&255,N(j),~ee&&Z(ee),G|0}function be(){n=x,i=A,a=S,s=O,o=T,f=Q,c=ne,d=F,u=64,b=0}function me(){n=X,i=te,a=re,s=J,o=se,f=C,c=l,d=m,u=64,b=0}function _e(j,oe,ee,G,ce,le,ye,k,v,M,U,w,_,E,h,q){j=j|0,oe=oe|0,ee=ee|0,G=G|0,ce=ce|0,le=le|0,ye=ye|0,k=k|0,v=v|0,M=M|0,U=U|0,w=w|0,_=_|0,E=E|0,h=h|0,q=q|0,B(),I(j^1549556828,oe^1549556828,ee^1549556828,G^1549556828,ce^1549556828,le^1549556828,ye^1549556828,k^1549556828,v^1549556828,M^1549556828,U^1549556828,w^1549556828,_^1549556828,E^1549556828,h^1549556828,q^1549556828),X=n,te=i,re=a,J=s,se=o,C=f,l=c,m=d,B(),I(j^909522486,oe^909522486,ee^909522486,G^909522486,ce^909522486,le^909522486,ye^909522486,k^909522486,v^909522486,M^909522486,U^909522486,w^909522486,_^909522486,E^909522486,h^909522486,q^909522486),x=n,A=i,S=a,O=s,T=o,Q=f,ne=c,F=d,u=64,b=0}function Se(j,oe,ee){j=j|0,oe=oe|0,ee=ee|0;var G=0,ce=0,le=0,ye=0,k=0,v=0,M=0,U=0,w=0;return j&63||~ee&&ee&31?-1:(w=L(j,oe,-1)|0,G=n,ce=i,le=a,ye=s,k=o,v=f,M=c,U=d,me(),I(G,ce,le,ye,k,v,M,U,2147483648,0,0,0,0,0,0,768),~ee&&Z(ee),w|0)}function ge(j,oe,ee,G,ce){j=j|0,oe=oe|0,ee=ee|0,G=G|0,ce=ce|0;var le=0,ye=0,k=0,v=0,M=0,U=0,w=0,_=0,E=0,h=0,q=0,D=0,K=0,z=0,W=0,$=0;if(j&63||~ce&&ce&31)return-1;for(y[j+oe|0]=ee>>>24,y[j+oe+1|0]=ee>>>16&255,y[j+oe+2|0]=ee>>>8&255,y[j+oe+3|0]=ee&255,Se(j,oe+4|0,-1)|0,le=E=n,ye=h=i,k=q=a,v=D=s,M=K=o,U=z=f,w=W=c,_=$=d,G=G-1|0;(G|0)>0;)be(),I(E,h,q,D,K,z,W,$,2147483648,0,0,0,0,0,0,768),E=n,h=i,q=a,D=s,K=o,z=f,W=c,$=d,me(),I(E,h,q,D,K,z,W,$,2147483648,0,0,0,0,0,0,768),E=n,h=i,q=a,D=s,K=o,z=f,W=c,$=d,le=le^n,ye=ye^i,k=k^a,v=v^s,M=M^o,U=U^f,w=w^c,_=_^d,G=G-1|0;return n=le,i=ye,a=k,s=v,o=M,f=U,c=w,d=_,~ce&&Z(ce),0}return{reset:B,init:P,process:p,finish:L,hmac_reset:be,hmac_init:_e,hmac_finish:Se,pbkdf2_generate_block:ge}},L8=64,j8=32,F1=[],O1=[],Ha=class extends dd{constructor(){super();this.NAME="sha256",this.BLOCK_SIZE=L8,this.HASH_SIZE=j8,this.acquire_asm()}acquire_asm(){return(this.heap===void 0||this.asm===void 0)&&(this.heap=F1.pop()||cd(),this.asm=O1.pop()||q8({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(F1.push(this.heap),O1.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return new Ha().process(e).finish().result}};Ha.NAME="sha256";var gi=N1;function N1(t,e){if(!t)throw new Error(e||"Assertion failed")}N1.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var $8=typeof pt!="undefined"?pt:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function fn(t,e){return e={exports:{}},t(e,e.exports),e.exports}function H8(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var vi=fn(function(t){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}),W8=vi;function Y8(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/gi,""),t.length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),a=i>>8,s=i&255;a?r.push(a,s):r.push(s)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}var G8=Y8;function V8(t){for(var e="",r=0;r<t.length;r++)e+=q1(t[r].toString(16));return e}var Z8=V8;function L1(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}var X8=L1;function J8(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=L1(i)),r+=j1(i.toString(16))}return r}var Q8=J8;function q1(t){return t.length===1?"0"+t:t}var e4=q1;function j1(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}var t4=j1;function r4(t,e,r,n){var i=r-e;gi(i%4==0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var f;n==="big"?f=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:f=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=f>>>0}return a}var n4=r4;function i4(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}var a4=i4;function s4(t,e){return t>>>e|t<<32-e}var o4=s4;function c4(t,e){return t<<e|t>>>32-e}var f4=c4;function d4(t,e){return t+e>>>0}var u4=d4;function l4(t,e,r){return t+e+r>>>0}var h4=l4;function b4(t,e,r,n){return t+e+r+n>>>0}var p4=b4;function x4(t,e,r,n,i){return t+e+r+n+i>>>0}var y4=x4;function m4(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}var g4=m4;function v4(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}var w4=v4;function _4(t,e,r,n){var i=e+n;return i>>>0}var A4=_4;function k4(t,e,r,n,i,a,s,o){var f=0,c=e;c=c+n>>>0,f+=c<e?1:0,c=c+a>>>0,f+=c<a?1:0,c=c+o>>>0,f+=c<o?1:0;var d=t+r+i+s+f;return d>>>0}var S4=k4;function E4(t,e,r,n,i,a,s,o){var f=e+n+a+o;return f>>>0}var C4=E4;function P4(t,e,r,n,i,a,s,o,f,c){var d=0,u=e;u=u+n>>>0,d+=u<e?1:0,u=u+a>>>0,d+=u<a?1:0,u=u+o>>>0,d+=u<o?1:0,u=u+c>>>0,d+=u<c?1:0;var b=t+r+i+s+f+d;return b>>>0}var R4=P4;function M4(t,e,r,n,i,a,s,o,f,c){var d=e+n+a+o+c;return d>>>0}var B4=M4;function T4(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}var I4=T4;function D4(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}var K4=D4;function U4(t,e,r){return t>>>r}var z4=U4;function F4(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}var O4=F4,Je={inherits:W8,toArray:G8,toHex:Z8,htonl:X8,toHex32:Q8,zero2:e4,zero8:t4,join32:n4,split32:a4,rotr32:o4,rotl32:f4,sum32:u4,sum32_3:h4,sum32_4:p4,sum32_5:y4,sum64:g4,sum64_hi:w4,sum64_lo:A4,sum64_4_hi:S4,sum64_4_lo:C4,sum64_5_hi:R4,sum64_5_lo:B4,rotr64_hi:I4,rotr64_lo:K4,shr64_hi:z4,shr64_lo:O4};function Bo(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var N4=Bo;Bo.prototype.update=function(e,r){if(e=Je.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Je.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Bo.prototype.digest=function(e){return this.update(this._pad()),gi(this.pending===null),this._digest(e)};Bo.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var L0={BlockHash:N4},dn=Je.rotr32;function q4(t,e,r,n){if(t===0)return $1(e,r,n);if(t===1||t===3)return W1(e,r,n);if(t===2)return H1(e,r,n)}var L4=q4;function $1(t,e,r){return t&e^~t&r}var j4=$1;function H1(t,e,r){return t&e^t&r^e&r}var $4=H1;function W1(t,e,r){return t^e^r}var H4=W1;function W4(t){return dn(t,2)^dn(t,13)^dn(t,22)}var Y4=W4;function G4(t){return dn(t,6)^dn(t,11)^dn(t,25)}var V4=G4;function Z4(t){return dn(t,7)^dn(t,18)^t>>>3}var X4=Z4;function J4(t){return dn(t,17)^dn(t,19)^t>>>10}var Q4=J4,da={ft_1:L4,ch32:j4,maj32:$4,p32:H4,s0_256:Y4,s1_256:V4,g0_256:X4,g1_256:Q4},jr=Je.sum32,ey=Je.sum32_4,ty=Je.sum32_5,ry=da.ch32,ny=da.maj32,iy=da.s0_256,ay=da.s1_256,sy=da.g0_256,oy=da.g1_256,Y1=L0.BlockHash,cy=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function un(){if(!(this instanceof un))return new un;Y1.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=cy,this.W=new Array(64)}Je.inherits(un,Y1);var ud=un;un.blockSize=512;un.outSize=256;un.hmacStrength=192;un.padLength=64;un.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=ey(oy(n[i-2]),n[i-7],sy(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4],d=this.h[5],u=this.h[6],b=this.h[7];for(gi(this.k.length===n.length),i=0;i<n.length;i++){var x=ty(b,ay(c),ry(c,d,u),this.k[i],n[i]),A=jr(iy(a),ny(a,s,o));b=u,u=d,d=c,c=jr(f,x),f=o,o=s,s=a,a=jr(x,A)}this.h[0]=jr(this.h[0],a),this.h[1]=jr(this.h[1],s),this.h[2]=jr(this.h[2],o),this.h[3]=jr(this.h[3],f),this.h[4]=jr(this.h[4],c),this.h[5]=jr(this.h[5],d),this.h[6]=jr(this.h[6],u),this.h[7]=jr(this.h[7],b)};un.prototype._digest=function(e){return e==="hex"?Je.toHex32(this.h,"big"):Je.split32(this.h,"big")};function qn(){if(!(this instanceof qn))return new qn;ud.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Je.inherits(qn,ud);var G1=qn;qn.blockSize=512;qn.outSize=224;qn.hmacStrength=192;qn.padLength=64;qn.prototype._digest=function(e){return e==="hex"?Je.toHex32(this.h.slice(0,7),"big"):Je.split32(this.h.slice(0,7),"big")};var ln=Je.rotr64_hi,hn=Je.rotr64_lo,V1=Je.shr64_hi,Z1=Je.shr64_lo,wi=Je.sum64,ld=Je.sum64_hi,hd=Je.sum64_lo,fy=Je.sum64_4_hi,dy=Je.sum64_4_lo,uy=Je.sum64_5_hi,ly=Je.sum64_5_lo,X1=L0.BlockHash,hy=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $r(){if(!(this instanceof $r))return new $r;X1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=hy,this.W=new Array(160)}Je.inherits($r,X1);var j0=$r;$r.blockSize=1024;$r.outSize=512;$r.hmacStrength=192;$r.padLength=128;$r.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=xy(n[i-4],n[i-3]),s=yy(n[i-4],n[i-3]),o=n[i-14],f=n[i-13],c=by(n[i-30],n[i-29]),d=py(n[i-30],n[i-29]),u=n[i-32],b=n[i-31];n[i]=fy(a,s,o,f,c,d,u,b),n[i+1]=dy(a,s,o,f,c,d,u,b)}};$r.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],c=this.h[5],d=this.h[6],u=this.h[7],b=this.h[8],x=this.h[9],A=this.h[10],S=this.h[11],O=this.h[12],T=this.h[13],Q=this.h[14],ne=this.h[15];gi(this.k.length===n.length);for(var F=0;F<n.length;F+=2){var X=Q,te=ne,re=ky(b,x),J=Sy(b,x),se=my(b,x,A,S,O),C=gy(b,x,A,S,O,T),l=this.k[F],m=this.k[F+1],y=n[F],I=n[F+1],N=uy(X,te,re,J,se,C,l,m,y,I),Z=ly(X,te,re,J,se,C,l,m,y,I);X=_y(i,a),te=Ay(i,a),re=vy(i,a,s,o,f),J=wy(i,a,s,o,f,c);var B=ld(X,te,re,J),P=hd(X,te,re,J);Q=O,ne=T,O=A,T=S,A=b,S=x,b=ld(d,u,N,Z),x=hd(u,u,N,Z),d=f,u=c,f=s,c=o,s=i,o=a,i=ld(N,Z,B,P),a=hd(N,Z,B,P)}wi(this.h,0,i,a),wi(this.h,2,s,o),wi(this.h,4,f,c),wi(this.h,6,d,u),wi(this.h,8,b,x),wi(this.h,10,A,S),wi(this.h,12,O,T),wi(this.h,14,Q,ne)};$r.prototype._digest=function(e){return e==="hex"?Je.toHex32(this.h,"big"):Je.split32(this.h,"big")};function my(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function gy(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function vy(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function wy(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function _y(t,e){var r=ln(t,e,28),n=ln(e,t,2),i=ln(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function Ay(t,e){var r=hn(t,e,28),n=hn(e,t,2),i=hn(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function ky(t,e){var r=ln(t,e,14),n=ln(t,e,18),i=ln(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function Sy(t,e){var r=hn(t,e,14),n=hn(t,e,18),i=hn(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function by(t,e){var r=ln(t,e,1),n=ln(t,e,8),i=V1(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function py(t,e){var r=hn(t,e,1),n=hn(t,e,8),i=Z1(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function xy(t,e){var r=ln(t,e,19),n=ln(e,t,29),i=V1(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function yy(t,e){var r=hn(t,e,19),n=hn(e,t,29),i=Z1(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function Ln(){if(!(this instanceof Ln))return new Ln;j0.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Je.inherits(Ln,j0);var J1=Ln;Ln.blockSize=1024;Ln.outSize=384;Ln.hmacStrength=192;Ln.padLength=128;Ln.prototype._digest=function(e){return e==="hex"?Je.toHex32(this.h.slice(0,12),"big"):Je.split32(this.h.slice(0,12),"big")};var To=Je.rotl32,Q1=Je.sum32,$0=Je.sum32_3,e2=Je.sum32_4,t2=L0.BlockHash;function bn(){if(!(this instanceof bn))return new bn;t2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Je.inherits(bn,t2);var r2=bn;bn.blockSize=512;bn.outSize=160;bn.hmacStrength=192;bn.padLength=64;bn.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],f=n,c=i,d=a,u=s,b=o,x=0;x<80;x++){var A=Q1(To(e2(n,n2(x,i,a,s),e[Py[x]+r],Ey(x)),My[x]),o);n=o,o=s,s=To(a,10),a=i,i=A,A=Q1(To(e2(f,n2(79-x,c,d,u),e[Ry[x]+r],Cy(x)),By[x]),b),f=b,b=u,u=To(d,10),d=c,c=A}A=$0(this.h[1],a,u),this.h[1]=$0(this.h[2],s,b),this.h[2]=$0(this.h[3],o,f),this.h[3]=$0(this.h[4],n,c),this.h[4]=$0(this.h[0],i,d),this.h[0]=A};bn.prototype._digest=function(e){return e==="hex"?Je.toHex32(this.h,"little"):Je.split32(this.h,"little")};function n2(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Ey(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Cy(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Py=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ry=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],My=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],By=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ty={ripemd160:r2};async function Ky(t){let e=Iy(R.uint8ArrayToStr(t));return R.hexToUint8Array(Dy(e))}function bd(t,e){let r=t[0],n=t[1],i=t[2],a=t[3];r=rr(r,n,i,a,e[0],7,-680876936),a=rr(a,r,n,i,e[1],12,-389564586),i=rr(i,a,r,n,e[2],17,606105819),n=rr(n,i,a,r,e[3],22,-1044525330),r=rr(r,n,i,a,e[4],7,-176418897),a=rr(a,r,n,i,e[5],12,1200080426),i=rr(i,a,r,n,e[6],17,-1473231341),n=rr(n,i,a,r,e[7],22,-45705983),r=rr(r,n,i,a,e[8],7,1770035416),a=rr(a,r,n,i,e[9],12,-1958414417),i=rr(i,a,r,n,e[10],17,-42063),n=rr(n,i,a,r,e[11],22,-1990404162),r=rr(r,n,i,a,e[12],7,1804603682),a=rr(a,r,n,i,e[13],12,-40341101),i=rr(i,a,r,n,e[14],17,-1502002290),n=rr(n,i,a,r,e[15],22,1236535329),r=nr(r,n,i,a,e[1],5,-165796510),a=nr(a,r,n,i,e[6],9,-1069501632),i=nr(i,a,r,n,e[11],14,643717713),n=nr(n,i,a,r,e[0],20,-373897302),r=nr(r,n,i,a,e[5],5,-701558691),a=nr(a,r,n,i,e[10],9,38016083),i=nr(i,a,r,n,e[15],14,-660478335),n=nr(n,i,a,r,e[4],20,-405537848),r=nr(r,n,i,a,e[9],5,568446438),a=nr(a,r,n,i,e[14],9,-1019803690),i=nr(i,a,r,n,e[3],14,-187363961),n=nr(n,i,a,r,e[8],20,1163531501),r=nr(r,n,i,a,e[13],5,-1444681467),a=nr(a,r,n,i,e[2],9,-51403784),i=nr(i,a,r,n,e[7],14,1735328473),n=nr(n,i,a,r,e[12],20,-1926607734),r=ir(r,n,i,a,e[5],4,-378558),a=ir(a,r,n,i,e[8],11,-2022574463),i=ir(i,a,r,n,e[11],16,1839030562),n=ir(n,i,a,r,e[14],23,-35309556),r=ir(r,n,i,a,e[1],4,-1530992060),a=ir(a,r,n,i,e[4],11,1272893353),i=ir(i,a,r,n,e[7],16,-155497632),n=ir(n,i,a,r,e[10],23,-1094730640),r=ir(r,n,i,a,e[13],4,681279174),a=ir(a,r,n,i,e[0],11,-358537222),i=ir(i,a,r,n,e[3],16,-722521979),n=ir(n,i,a,r,e[6],23,76029189),r=ir(r,n,i,a,e[9],4,-640364487),a=ir(a,r,n,i,e[12],11,-421815835),i=ir(i,a,r,n,e[15],16,530742520),n=ir(n,i,a,r,e[2],23,-995338651),r=ar(r,n,i,a,e[0],6,-198630844),a=ar(a,r,n,i,e[7],10,1126891415),i=ar(i,a,r,n,e[14],15,-1416354905),n=ar(n,i,a,r,e[5],21,-57434055),r=ar(r,n,i,a,e[12],6,1700485571),a=ar(a,r,n,i,e[3],10,-1894986606),i=ar(i,a,r,n,e[10],15,-1051523),n=ar(n,i,a,r,e[1],21,-2054922799),r=ar(r,n,i,a,e[8],6,1873313359),a=ar(a,r,n,i,e[15],10,-30611744),i=ar(i,a,r,n,e[6],15,-1560198380),n=ar(n,i,a,r,e[13],21,1309151649),r=ar(r,n,i,a,e[4],6,-145523070),a=ar(a,r,n,i,e[11],10,-1120210379),i=ar(i,a,r,n,e[2],15,718787259),n=ar(n,i,a,r,e[9],21,-343485551),t[0]=_i(r,t[0]),t[1]=_i(n,t[1]),t[2]=_i(i,t[2]),t[3]=_i(a,t[3])}function Io(t,e,r,n,i,a){return e=_i(_i(e,t),_i(n,a)),_i(e<<i|e>>>32-i,r)}function rr(t,e,r,n,i,a,s){return Io(e&r|~e&n,t,e,i,a,s)}function nr(t,e,r,n,i,a,s){return Io(e&n|r&~n,t,e,i,a,s)}function ir(t,e,r,n,i,a,s){return Io(e^r^n,t,e,i,a,s)}function ar(t,e,r,n,i,a,s){return Io(r^(e|~n),t,e,i,a,s)}function Iy(t){let e=t.length,r=[1732584193,-271733879,-1732584194,271733878],n;for(n=64;n<=t.length;n+=64)bd(r,Uy(t.substring(n-64,n)));t=t.substring(n-64);let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)i[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(bd(r,i),n=0;n<16;n++)i[n]=0;return i[14]=e*8,bd(r,i),r}function Uy(t){let e=[],r;for(r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e}var i2="0123456789abcdef".split("");function zy(t){let e="",r=0;for(;r<4;r++)e+=i2[t>>r*8+4&15]+i2[t>>r*8&15];return e}function Dy(t){for(let e=0;e<t.length;e++)t[e]=zy(t[e]);return t.join("")}function _i(t,e){return t+e&4294967295}var Do=R.getWebCrypto(),a2=R.getNodeCrypto(),Fy=R.getNodeBuffer();function ua(t){return async function(e){let r=a2.createHash(t);return pe.transform(e,n=>{r.update(Fy.from(n))},()=>new Uint8Array(r.digest()))}}function Ko(t,e){return async function(r,n=Ce){if(!R.isStream(r)&&Do&&e&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await Do.digest(e,r));let i=t();return pe.transform(r,a=>{i.update(a)},()=>new Uint8Array(i.digest()))}}function s2(t,e){return async function(r,n=Ce){if(R.isStream(r)){let i=new t;return pe.transform(r,a=>{i.process(a)},()=>i.finish().result)}else return Do&&e&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await Do.digest(e,r)):t.bytes(r)}}var jn;a2?jn={md5:ua("md5"),sha1:ua("sha1"),sha224:ua("sha224"),sha256:ua("sha256"),sha384:ua("sha384"),sha512:ua("sha512"),ripemd:ua("ripemd160")}:jn={md5:Ky,sha1:s2(Nn,navigator.userAgent.indexOf("Edge")===-1&&"SHA-1"),sha224:Ko(G1),sha256:s2(Ha,"SHA-256"),sha384:Ko(J1,"SHA-384"),sha512:Ko(j0,"SHA-512"),ripemd:Ko(r2)};var Uo={md5:jn.md5,sha1:jn.sha1,sha224:jn.sha224,sha256:jn.sha256,sha384:jn.sha384,sha512:jn.sha512,ripemd:jn.ripemd,digest:function(t,e){switch(t){case 1:return this.md5(e);case 2:return this.sha1(e);case 3:return this.ripemd(e);case 8:return this.sha256(e);case 9:return this.sha384(e);case 10:return this.sha512(e);case 11:return this.sha224(e);default:throw new Error("Invalid hash function.")}},getHashByteLength:function(t){switch(t){case 1:return 16;case 2:case 3:return 20;case 8:return 32;case 9:return 48;case 10:return 64;case 11:return 28;default:throw new Error("Invalid hash algorithm.")}}},la=class{static encrypt(e,r,n){return new la(r,n).encrypt(e)}static decrypt(e,r,n){return new la(r,n).decrypt(e)}constructor(e,r,n){this.aes=n||new $a(e,r,!0,"CFB"),delete this.aes.padding}encrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return yi(r,n)}decrypt(e){let r=this.aes.AES_Decrypt_process(e),n=this.aes.AES_Decrypt_finish();return yi(r,n)}},o2=R.getWebCrypto(),zo=R.getNodeCrypto(),Wa=R.getNodeBuffer(),ha=zo?zo.getCiphers():[],Fo={idea:ha.includes("idea-cfb")?"idea-cfb":void 0,tripledes:ha.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:ha.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:ha.includes("bf-cfb")?"bf-cfb":void 0,aes128:ha.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:ha.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:ha.includes("aes-256-cfb")?"aes-256-cfb":void 0};async function qy(t,e,r,n,i){if(R.getNodeCrypto()&&Fo[t])return Ny(t,e,r,n);if(t.substr(0,3)==="aes")return Oy(t,e,r,n,i);let a=new Lr[t](e),s=a.blockSize,o=n.slice(),f=new Uint8Array,c=d=>{d&&(f=R.concatUint8Array([f,d]));let u=new Uint8Array(f.length),b,x=0;for(;d?f.length>=s:f.length;){let A=a.encrypt(o);for(b=0;b<s;b++)o[b]=f[b]^A[b],u[x++]=o[b];f=f.subarray(s)}return u.subarray(0,x)};return pe.transform(r,c,c)}async function $y(t,e,r,n){if(R.getNodeCrypto()&&Fo[t])return jy(t,e,r,n);if(t.substr(0,3)==="aes")return Ly(t,e,r,n);let i=new Lr[t](e),a=i.blockSize,s=n,o=new Uint8Array,f=c=>{c&&(o=R.concatUint8Array([o,c]));let d=new Uint8Array(o.length),u,b=0;for(;c?o.length>=a:o.length;){let x=i.encrypt(s);for(s=o,u=0;u<a;u++)d[b++]=s[u]^x[u];o=o.subarray(a)}return d.subarray(0,b)};return pe.transform(r,f,f)}function Oy(t,e,r,n,i){if(R.getWebCrypto()&&e.length!==24&&!R.isStream(r)&&r.length>=3e3*i.minBytesForWebCrypto)return Hy(t,e,r,n);let a=new la(e,n);return pe.transform(r,s=>a.aes.AES_Encrypt_process(s),()=>a.aes.AES_Encrypt_finish())}function Ly(t,e,r,n){if(R.isStream(r)){let i=new la(e,n);return pe.transform(r,a=>i.aes.AES_Decrypt_process(a),()=>i.aes.AES_Decrypt_finish())}return la.decrypt(r,e,n)}function Wy(t,e){for(let r=0;r<t.length;r++)t[r]=t[r]^e[r]}async function Hy(t,e,r,n){let i="AES-CBC",a=await o2.importKey("raw",e,{name:i},!1,["encrypt"]),{blockSize:s}=Lr[t],o=R.concatUint8Array([new Uint8Array(s),r]),f=new Uint8Array(await o2.encrypt({name:i,iv:n},a,o)).subarray(0,r.length);return Wy(f,r),f}function Ny(t,e,r,n){e=Wa.from(e),n=Wa.from(n);let i=new zo.createCipheriv(Fo[t],e,n);return pe.transform(r,a=>new Uint8Array(i.update(Wa.from(a))))}function jy(t,e,r,n){e=Wa.from(e),n=Wa.from(n);let i=new zo.createDecipheriv(Fo[t],e,n);return pe.transform(r,a=>new Uint8Array(i.update(Wa.from(a))))}var Yy=Object.freeze({__proto__:null,encrypt:qy,decrypt:$y}),pd=68719476704,Ai=class{constructor(e,r,n,i=16,a){this.tagSize=i,this.gamma0=0,this.counter=1,this.aes=a||new $a(e,void 0,!1,"CTR");let{asm:s,heap:o}=this.aes.acquire_asm();if(s.gcm_init(),this.tagSize<4||this.tagSize>16)throw new on("illegal tagSize value");let f=r.length||0,c=new Uint8Array(16);f!==12?(this._gcm_mac_process(r),o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=f>>>29,o[12]=f>>>21&255,o[13]=f>>>13&255,o[14]=f>>>5&255,o[15]=f<<3&255,s.mac(et.MAC.GCM,et.HEAP_DATA,16),s.get_iv(et.HEAP_DATA),s.set_iv(0,0,0,0),c.set(o.subarray(0,16))):(c.set(r),c[15]=1);let d=new DataView(c.buffer);if(this.gamma0=d.getUint32(12),s.set_nonce(d.getUint32(0),d.getUint32(4),d.getUint32(8),0),s.set_mask(0,0,0,4294967295),n!==void 0){if(n.length>pd)throw new on("illegal adata length");n.length?(this.adata=n,this._gcm_mac_process(n)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");s.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,r,n,i,a){return new Ai(r,n,i,a).encrypt(e)}static decrypt(e,r,n,i,a){return new Ai(r,n,i,a).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:a}=this.aes.acquire_asm(),s=this.counter,o=this.aes.pos,f=this.aes.len,c=0,d=f+n&-16,u=0;if((s-1<<4)+f+n>pd)throw new RangeError("counter overflow");let b=new Uint8Array(d);for(;n>0;)u=fa(a,o+f,e,r,n),f+=u,r+=u,n-=u,u=i.cipher(et.ENC.CTR,et.HEAP_DATA+o,f),u=i.mac(et.MAC.GCM,et.HEAP_DATA+o,u),u&&b.set(a.subarray(o,o+u),c),s+=u>>>4,c+=u,u<f?(o+=u,f-=u):(o=0,f=0);return this.counter=s,this.aes.pos=o,this.aes.len=f,b}AES_GCM_Encrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.counter,i=this.tagSize,a=this.adata,s=this.aes.pos,o=this.aes.len,f=new Uint8Array(o+i);e.cipher(et.ENC.CTR,et.HEAP_DATA+s,o+15&-16),o&&f.set(r.subarray(s,s+o));let c=o;for(;c&15;c++)r[s+c]=0;e.mac(et.MAC.GCM,et.HEAP_DATA+s,c);let d=a!==void 0?a.length:0,u=(n-1<<4)+o;return r[0]=0,r[1]=0,r[2]=0,r[3]=d>>>29,r[4]=d>>>21,r[5]=d>>>13&255,r[6]=d>>>5&255,r[7]=d<<3&255,r[8]=r[9]=r[10]=0,r[11]=u>>>29,r[12]=u>>>21&255,r[13]=u>>>13&255,r[14]=u>>>5&255,r[15]=u<<3&255,e.mac(et.MAC.GCM,et.HEAP_DATA,16),e.get_iv(et.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(et.ENC.CTR,et.HEAP_DATA,16),f.set(r.subarray(0,i),o),this.counter=1,this.aes.pos=0,this.aes.len=0,f}AES_GCM_Decrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:a}=this.aes.acquire_asm(),s=this.counter,o=this.tagSize,f=this.aes.pos,c=this.aes.len,d=0,u=c+n>o?c+n-o&-16:0,b=c+n-u,x=0;if((s-1<<4)+c+n>pd)throw new RangeError("counter overflow");let A=new Uint8Array(u);for(;n>b;)x=fa(a,f+c,e,r,n-b),c+=x,r+=x,n-=x,x=i.mac(et.MAC.GCM,et.HEAP_DATA+f,x),x=i.cipher(et.DEC.CTR,et.HEAP_DATA+f,x),x&&A.set(a.subarray(f,f+x),d),s+=x>>>4,d+=x,f=0,c=0;return n>0&&(c+=fa(a,0,e,r,n)),this.counter=s,this.aes.pos=f,this.aes.len=c,A}AES_GCM_Decrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.tagSize,i=this.adata,a=this.counter,s=this.aes.pos,o=this.aes.len,f=o-n;if(o<n)throw new Ro("authentication tag not found");let c=new Uint8Array(f),d=new Uint8Array(r.subarray(s+f,s+o)),u=f;for(;u&15;u++)r[s+u]=0;e.mac(et.MAC.GCM,et.HEAP_DATA+s,u),e.cipher(et.DEC.CTR,et.HEAP_DATA+s,u),f&&c.set(r.subarray(s,s+f));let b=i!==void 0?i.length:0,x=(a-1<<4)+o-n;r[0]=0,r[1]=0,r[2]=0,r[3]=b>>>29,r[4]=b>>>21,r[5]=b>>>13&255,r[6]=b>>>5&255,r[7]=b<<3&255,r[8]=r[9]=r[10]=0,r[11]=x>>>29,r[12]=x>>>21&255,r[13]=x>>>13&255,r[14]=x>>>5&255,r[15]=x<<3&255,e.mac(et.MAC.GCM,et.HEAP_DATA,16),e.get_iv(et.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(et.ENC.CTR,et.HEAP_DATA,16);let A=0;for(let S=0;S<n;++S)A|=d[S]^r[S];if(A)throw new Mo("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){let r=this.AES_GCM_Decrypt_process(e),n=this.AES_GCM_Decrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}AES_GCM_encrypt(e){let r=this.AES_GCM_Encrypt_process(e),n=this.AES_GCM_Encrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}_gcm_mac_process(e){let{asm:r,heap:n}=this.aes.acquire_asm(),i=0,a=e.length||0,s=0;for(;a>0;){for(s=fa(n,0,e,i,a),i+=s,a-=s;s&15;)n[s++]=0;r.mac(et.MAC.GCM,et.HEAP_DATA,s)}}},xd=R.getWebCrypto(),c2=R.getNodeCrypto(),$n=R.getNodeBuffer(),Gy=16,Vy=12,Ya=16,yd="AES-GCM";async function Ga(t,e){if(t.substr(0,3)!=="aes")throw new Error("GCM mode supports only AES cipher");if(R.getWebCrypto()&&e.length!==24){let r=await xd.importKey("raw",e,{name:yd},!1,["encrypt","decrypt"]);return{encrypt:async function(n,i,a=new Uint8Array){if(!n.length||!a.length&&navigator.userAgent.indexOf("Edge")!==-1)return Ai.encrypt(n,e,i,a);let s=await xd.encrypt({name:yd,iv:i,additionalData:a,tagLength:Ya*8},r,n);return new Uint8Array(s)},decrypt:async function(n,i,a=new Uint8Array){if(n.length===Ya||!a.length&&navigator.userAgent.indexOf("Edge")!==-1)return Ai.decrypt(n,e,i,a);let s=await xd.decrypt({name:yd,iv:i,additionalData:a,tagLength:Ya*8},r,n);return new Uint8Array(s)}}}return R.getNodeCrypto()?(e=$n.from(e),{encrypt:async function(r,n,i=new Uint8Array){r=$n.from(r),n=$n.from(n),i=$n.from(i);let a=new c2.createCipheriv("aes-"+e.length*8+"-gcm",e,n);a.setAAD(i);let s=$n.concat([a.update(r),a.final(),a.getAuthTag()]);return new Uint8Array(s)},decrypt:async function(r,n,i=new Uint8Array){r=$n.from(r),n=$n.from(n),i=$n.from(i);let a=new c2.createDecipheriv("aes-"+e.length*8+"-gcm",e,n);a.setAAD(i),a.setAuthTag(r.slice(r.length-Ya,r.length));let s=$n.concat([a.update(r.slice(0,r.length-Ya)),a.final()]);return new Uint8Array(s)}}):{encrypt:async function(r,n,i){return Ai.encrypt(r,e,n,i)},decrypt:async function(r,n,i){return Ai.decrypt(r,e,n,i)}}}Ga.getNonce=function(t,e){let r=t.slice();for(let n=0;n<e.length;n++)r[4+n]^=e[n];return r};Ga.blockLength=Gy;Ga.ivLength=Vy;Ga.tagLength=Ya;var H0=class{static encrypt(e,r,n){return new H0(r,n).encrypt(e)}static decrypt(e,r,n){return new H0(r,n).encrypt(e)}constructor(e,r,n){this.aes=n||new $a(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(r)}encrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return yi(r,n)}decrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return yi(r,n)}AES_CTR_set_options(e,r,n){let{asm:i}=this.aes.acquire_asm();if(n!==void 0){if(n<8||n>48)throw new on("illegal counter size");let a=Math.pow(2,n)-1;i.set_mask(0,0,a/4294967296|0,a|0)}else n=48,i.set_mask(0,0,65535,4294967295);if(e!==void 0){let a=e.length;if(!a||a>16)throw new on("illegal nonce size");let s=new DataView(new ArrayBuffer(16));new Uint8Array(s.buffer).set(e),i.set_nonce(s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12))}else throw new Error("nonce is required");if(r!==void 0){if(r<0||r>=Math.pow(2,n))throw new on("illegal counter value");i.set_counter(0,0,r/4294967296|0,r|0)}}},W0=class{static encrypt(e,r,n=!0,i){return new W0(r,i,n).encrypt(e)}static decrypt(e,r,n=!0,i){return new W0(r,i,n).decrypt(e)}constructor(e,r,n=!0,i){this.aes=i||new $a(e,r,n,"CBC")}encrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return yi(r,n)}decrypt(e){let r=this.aes.AES_Decrypt_process(e),n=this.aes.AES_Decrypt_finish();return yi(r,n)}},f2=R.getWebCrypto(),Zy=R.getNodeCrypto(),d2=R.getNodeBuffer(),Hn=16;function u2(t,e){let r=t.length-Hn;for(let n=0;n<Hn;n++)t[n+r]^=e[n];return t}function Xy(t,e,r){if(t.length&&t.length%Hn==0)return u2(t,e);let n=new Uint8Array(t.length+(Hn-t.length%Hn));return n.set(t),n[t.length]=128,u2(n,r)}var Oo=new Uint8Array(Hn);async function Qy(t){let e=await Jy(t),r=R.double(await e(Oo)),n=R.double(r);return async function(i){return(await e(Xy(i,r,n))).subarray(-Hn)}}async function Jy(t){return R.getWebCrypto()&&t.length!==24?(t=await f2.importKey("raw",t,{name:"AES-CBC",length:t.length*8},!1,["encrypt"]),async function(e){let r=await f2.encrypt({name:"AES-CBC",iv:Oo,length:Hn*8},t,e);return new Uint8Array(r).subarray(0,r.byteLength-Hn)}):R.getNodeCrypto()?(t=d2.from(t),async function(e){e=d2.from(e);let n=new Zy.createCipheriv("aes-"+t.length*8+"-cbc",t,Oo).update(e);return new Uint8Array(n)}):async function(e){return W0.encrypt(e,t,!1,Oo)}}var l2=R.getWebCrypto(),em=R.getNodeCrypto(),No=R.getNodeBuffer(),Wn=16,tm=Wn,Va=Wn,h2=new Uint8Array(Wn),md=new Uint8Array(Wn);md[Wn-1]=1;var gd=new Uint8Array(Wn);gd[Wn-1]=2;async function rm(t){let e=await Qy(t);return function(r,n){return e(R.concatUint8Array([r,n]))}}async function nm(t){return R.getWebCrypto()&&t.length!==24&&navigator.userAgent.indexOf("Edge")===-1?(t=await l2.importKey("raw",t,{name:"AES-CTR",length:t.length*8},!1,["encrypt"]),async function(e,r){let n=await l2.encrypt({name:"AES-CTR",counter:r,length:Wn*8},t,e);return new Uint8Array(n)}):R.getNodeCrypto()?(t=No.from(t),async function(e,r){e=No.from(e),r=No.from(r);let n=new em.createCipheriv("aes-"+t.length*8+"-ctr",t,r),i=No.concat([n.update(e),n.final()]);return new Uint8Array(i)}):async function(e,r){return H0.encrypt(e,t,r)}}async function Y0(t,e){if(t.substr(0,3)!=="aes")throw new Error("EAX mode supports only AES cipher");let[r,n]=await Promise.all([rm(e),nm(e)]);return{encrypt:async function(i,a,s){let[o,f]=await Promise.all([r(h2,a),r(md,s)]),c=await n(i,o),u=await r(gd,c);for(let b=0;b<Va;b++)u[b]^=f[b]^o[b];return R.concatUint8Array([c,u])},decrypt:async function(i,a,s){if(i.length<Va)throw new Error("Invalid EAX ciphertext");let o=i.subarray(0,-Va),f=i.subarray(-Va),[c,d,u]=await Promise.all([r(h2,a),r(md,s),r(gd,o)]),b=u;for(let A=0;A<Va;A++)b[A]^=d[A]^c[A];if(!R.equalsUint8Array(f,b))throw new Error("Authentication tag mismatch");return await n(o,c)}}}Y0.getNonce=function(t,e){let r=t.slice();for(let n=0;n<e.length;n++)r[8+n]^=e[n];return r};Y0.blockLength=Wn;Y0.ivLength=tm;Y0.tagLength=Va;var cr=16,b2=15,ki=16;function p2(t){let e=0;for(let r=1;(t&r)==0;r<<=1)e++;return e}function pr(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r];return t}function qo(t,e){return pr(t.slice(),e)}var vd=new Uint8Array(cr),im=new Uint8Array([1]);async function G0(t,e){let r=0,n,i,a;s(t,e);function s(d,u){let b=new Lr[d](u);n=b.encrypt.bind(b),i=b.decrypt.bind(b);let x=n(vd),A=R.double(x);a=[],a[0]=R.double(A),a.x=x,a.$=A}function o(d,u){let b=R.nbits(Math.max(d.length,u.length)/cr|0)-1;for(let x=r+1;x<=b;x++)a[x]=R.double(a[x-1]);r=b}function f(d){if(!d.length)return vd;let u=d.length/cr|0,b=new Uint8Array(cr),x=new Uint8Array(cr);for(let A=0;A<u;A++)pr(b,a[p2(A+1)]),pr(x,n(qo(b,d))),d=d.subarray(cr);if(d.length){pr(b,a.x);let A=new Uint8Array(cr);A.set(d,0),A[d.length]=128,pr(A,b),pr(x,n(A))}return x}function c(d,u,b,x){let A=u.length/cr|0;o(u,x);let S=R.concatUint8Array([vd.subarray(0,b2-b.length),im,b]),O=S[cr-1]&63;S[cr-1]&=192;let T=n(S),Q=R.concatUint8Array([T,qo(T.subarray(0,8),T.subarray(1,9))]),ne=R.shiftRight(Q.subarray(0+(O>>3),17+(O>>3)),8-(O&7)).subarray(1),F=new Uint8Array(cr),X=new Uint8Array(u.length+ki),te,re=0;for(te=0;te<A;te++)pr(ne,a[p2(te+1)]),X.set(pr(d(qo(ne,u)),ne),re),pr(F,d===n?u:X.subarray(re)),u=u.subarray(cr),re+=cr;if(u.length){pr(ne,a.x);let se=n(ne);X.set(qo(u,se),re);let C=new Uint8Array(cr);C.set(d===n?u:X.subarray(re,-ki),0),C[u.length]=128,pr(F,C),re+=u.length}let J=pr(n(pr(pr(F,ne),a.$)),f(x));return X.set(J,re),X}return{encrypt:async function(d,u,b){return c(n,d,u,b)},decrypt:async function(d,u,b){if(d.length<ki)throw new Error("Invalid OCB ciphertext");let x=d.subarray(-ki);d=d.subarray(0,-ki);let A=c(i,d,u,b);if(R.equalsUint8Array(x,A.subarray(-ki)))return A.subarray(0,-ki);throw new Error("Authentication tag mismatch")}}}G0.getNonce=function(t,e){let r=t.slice();for(let n=0;n<e.length;n++)r[7+n]^=e[n];return r};G0.blockLength=cr;G0.ivLength=b2;G0.tagLength=ki;var pn=fn(function(t){(function(e){var r=function(w){var _,E=new Float64Array(16);if(w)for(_=0;_<w.length;_++)E[_]=w[_];return E},n=function(){throw new Error("no PRNG")},i=new Uint8Array(32);i[0]=9;var a=r(),s=r([1]),o=r([56129,1]),f=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function x(w,_,E,h,q){var D,K=0;for(D=0;D<q;D++)K|=w[_+D]^E[h+D];return(1&K-1>>>8)-1}function A(w,_,E,h){return x(w,_,E,h,32)}function S(w,_){var E;for(E=0;E<16;E++)w[E]=_[E]|0}function O(w){var _,E,h=1;for(_=0;_<16;_++)E=w[_]+h+65535,h=Math.floor(E/65536),w[_]=E-h*65536;w[0]+=h-1+37*(h-1)}function T(w,_,E){for(var h,q=~(E-1),D=0;D<16;D++)h=q&(w[D]^_[D]),w[D]^=h,_[D]^=h}function Q(w,_){var E,h,q,D=r(),K=r();for(E=0;E<16;E++)K[E]=_[E];for(O(K),O(K),O(K),h=0;h<2;h++){for(D[0]=K[0]-65517,E=1;E<15;E++)D[E]=K[E]-65535-(D[E-1]>>16&1),D[E-1]&=65535;D[15]=K[15]-32767-(D[14]>>16&1),q=D[15]>>16&1,D[14]&=65535,T(K,D,1-q)}for(E=0;E<16;E++)w[2*E]=K[E]&255,w[2*E+1]=K[E]>>8}function ne(w,_){var E=new Uint8Array(32),h=new Uint8Array(32);return Q(E,w),Q(h,_),A(E,0,h,0)}function F(w){var _=new Uint8Array(32);return Q(_,w),_[0]&1}function X(w,_){var E;for(E=0;E<16;E++)w[E]=_[2*E]+(_[2*E+1]<<8);w[15]&=32767}function te(w,_,E){for(var h=0;h<16;h++)w[h]=_[h]+E[h]}function re(w,_,E){for(var h=0;h<16;h++)w[h]=_[h]-E[h]}function J(w,_,E){var h,q,D=0,K=0,z=0,W=0,$=0,H=0,V=0,Y=0,Ne=0,at=0,Le=0,ie=0,ae=0,fe=0,de=0,Ie=0,Be=0,Te=0,Ze=0,De=0,ze=0,ct=0,je=0,We=0,_t=0,tt=0,Ke=0,Gt=0,rt=0,st=0,ur=0,$e=E[0],Fe=E[1],mt=E[2],Ye=E[3],Ge=E[4],ut=E[5],qe=E[6],He=E[7],lt=E[8],bt=E[9],he=E[10],ue=E[11],xe=E[12],Ae=E[13],Ee=E[14],Ue=E[15];h=_[0],D+=h*$e,K+=h*Fe,z+=h*mt,W+=h*Ye,$+=h*Ge,H+=h*ut,V+=h*qe,Y+=h*He,Ne+=h*lt,at+=h*bt,Le+=h*he,ie+=h*ue,ae+=h*xe,fe+=h*Ae,de+=h*Ee,Ie+=h*Ue,h=_[1],K+=h*$e,z+=h*Fe,W+=h*mt,$+=h*Ye,H+=h*Ge,V+=h*ut,Y+=h*qe,Ne+=h*He,at+=h*lt,Le+=h*bt,ie+=h*he,ae+=h*ue,fe+=h*xe,de+=h*Ae,Ie+=h*Ee,Be+=h*Ue,h=_[2],z+=h*$e,W+=h*Fe,$+=h*mt,H+=h*Ye,V+=h*Ge,Y+=h*ut,Ne+=h*qe,at+=h*He,Le+=h*lt,ie+=h*bt,ae+=h*he,fe+=h*ue,de+=h*xe,Ie+=h*Ae,Be+=h*Ee,Te+=h*Ue,h=_[3],W+=h*$e,$+=h*Fe,H+=h*mt,V+=h*Ye,Y+=h*Ge,Ne+=h*ut,at+=h*qe,Le+=h*He,ie+=h*lt,ae+=h*bt,fe+=h*he,de+=h*ue,Ie+=h*xe,Be+=h*Ae,Te+=h*Ee,Ze+=h*Ue,h=_[4],$+=h*$e,H+=h*Fe,V+=h*mt,Y+=h*Ye,Ne+=h*Ge,at+=h*ut,Le+=h*qe,ie+=h*He,ae+=h*lt,fe+=h*bt,de+=h*he,Ie+=h*ue,Be+=h*xe,Te+=h*Ae,Ze+=h*Ee,De+=h*Ue,h=_[5],H+=h*$e,V+=h*Fe,Y+=h*mt,Ne+=h*Ye,at+=h*Ge,Le+=h*ut,ie+=h*qe,ae+=h*He,fe+=h*lt,de+=h*bt,Ie+=h*he,Be+=h*ue,Te+=h*xe,Ze+=h*Ae,De+=h*Ee,ze+=h*Ue,h=_[6],V+=h*$e,Y+=h*Fe,Ne+=h*mt,at+=h*Ye,Le+=h*Ge,ie+=h*ut,ae+=h*qe,fe+=h*He,de+=h*lt,Ie+=h*bt,Be+=h*he,Te+=h*ue,Ze+=h*xe,De+=h*Ae,ze+=h*Ee,ct+=h*Ue,h=_[7],Y+=h*$e,Ne+=h*Fe,at+=h*mt,Le+=h*Ye,ie+=h*Ge,ae+=h*ut,fe+=h*qe,de+=h*He,Ie+=h*lt,Be+=h*bt,Te+=h*he,Ze+=h*ue,De+=h*xe,ze+=h*Ae,ct+=h*Ee,je+=h*Ue,h=_[8],Ne+=h*$e,at+=h*Fe,Le+=h*mt,ie+=h*Ye,ae+=h*Ge,fe+=h*ut,de+=h*qe,Ie+=h*He,Be+=h*lt,Te+=h*bt,Ze+=h*he,De+=h*ue,ze+=h*xe,ct+=h*Ae,je+=h*Ee,We+=h*Ue,h=_[9],at+=h*$e,Le+=h*Fe,ie+=h*mt,ae+=h*Ye,fe+=h*Ge,de+=h*ut,Ie+=h*qe,Be+=h*He,Te+=h*lt,Ze+=h*bt,De+=h*he,ze+=h*ue,ct+=h*xe,je+=h*Ae,We+=h*Ee,_t+=h*Ue,h=_[10],Le+=h*$e,ie+=h*Fe,ae+=h*mt,fe+=h*Ye,de+=h*Ge,Ie+=h*ut,Be+=h*qe,Te+=h*He,Ze+=h*lt,De+=h*bt,ze+=h*he,ct+=h*ue,je+=h*xe,We+=h*Ae,_t+=h*Ee,tt+=h*Ue,h=_[11],ie+=h*$e,ae+=h*Fe,fe+=h*mt,de+=h*Ye,Ie+=h*Ge,Be+=h*ut,Te+=h*qe,Ze+=h*He,De+=h*lt,ze+=h*bt,ct+=h*he,je+=h*ue,We+=h*xe,_t+=h*Ae,tt+=h*Ee,Ke+=h*Ue,h=_[12],ae+=h*$e,fe+=h*Fe,de+=h*mt,Ie+=h*Ye,Be+=h*Ge,Te+=h*ut,Ze+=h*qe,De+=h*He,ze+=h*lt,ct+=h*bt,je+=h*he,We+=h*ue,_t+=h*xe,tt+=h*Ae,Ke+=h*Ee,Gt+=h*Ue,h=_[13],fe+=h*$e,de+=h*Fe,Ie+=h*mt,Be+=h*Ye,Te+=h*Ge,Ze+=h*ut,De+=h*qe,ze+=h*He,ct+=h*lt,je+=h*bt,We+=h*he,_t+=h*ue,tt+=h*xe,Ke+=h*Ae,Gt+=h*Ee,rt+=h*Ue,h=_[14],de+=h*$e,Ie+=h*Fe,Be+=h*mt,Te+=h*Ye,Ze+=h*Ge,De+=h*ut,ze+=h*qe,ct+=h*He,je+=h*lt,We+=h*bt,_t+=h*he,tt+=h*ue,Ke+=h*xe,Gt+=h*Ae,rt+=h*Ee,st+=h*Ue,h=_[15],Ie+=h*$e,Be+=h*Fe,Te+=h*mt,Ze+=h*Ye,De+=h*Ge,ze+=h*ut,ct+=h*qe,je+=h*He,We+=h*lt,_t+=h*bt,tt+=h*he,Ke+=h*ue,Gt+=h*xe,rt+=h*Ae,st+=h*Ee,ur+=h*Ue,D+=38*Be,K+=38*Te,z+=38*Ze,W+=38*De,$+=38*ze,H+=38*ct,V+=38*je,Y+=38*We,Ne+=38*_t,at+=38*tt,Le+=38*Ke,ie+=38*Gt,ae+=38*rt,fe+=38*st,de+=38*ur,q=1,h=D+q+65535,q=Math.floor(h/65536),D=h-q*65536,h=K+q+65535,q=Math.floor(h/65536),K=h-q*65536,h=z+q+65535,q=Math.floor(h/65536),z=h-q*65536,h=W+q+65535,q=Math.floor(h/65536),W=h-q*65536,h=$+q+65535,q=Math.floor(h/65536),$=h-q*65536,h=H+q+65535,q=Math.floor(h/65536),H=h-q*65536,h=V+q+65535,q=Math.floor(h/65536),V=h-q*65536,h=Y+q+65535,q=Math.floor(h/65536),Y=h-q*65536,h=Ne+q+65535,q=Math.floor(h/65536),Ne=h-q*65536,h=at+q+65535,q=Math.floor(h/65536),at=h-q*65536,h=Le+q+65535,q=Math.floor(h/65536),Le=h-q*65536,h=ie+q+65535,q=Math.floor(h/65536),ie=h-q*65536,h=ae+q+65535,q=Math.floor(h/65536),ae=h-q*65536,h=fe+q+65535,q=Math.floor(h/65536),fe=h-q*65536,h=de+q+65535,q=Math.floor(h/65536),de=h-q*65536,h=Ie+q+65535,q=Math.floor(h/65536),Ie=h-q*65536,D+=q-1+37*(q-1),q=1,h=D+q+65535,q=Math.floor(h/65536),D=h-q*65536,h=K+q+65535,q=Math.floor(h/65536),K=h-q*65536,h=z+q+65535,q=Math.floor(h/65536),z=h-q*65536,h=W+q+65535,q=Math.floor(h/65536),W=h-q*65536,h=$+q+65535,q=Math.floor(h/65536),$=h-q*65536,h=H+q+65535,q=Math.floor(h/65536),H=h-q*65536,h=V+q+65535,q=Math.floor(h/65536),V=h-q*65536,h=Y+q+65535,q=Math.floor(h/65536),Y=h-q*65536,h=Ne+q+65535,q=Math.floor(h/65536),Ne=h-q*65536,h=at+q+65535,q=Math.floor(h/65536),at=h-q*65536,h=Le+q+65535,q=Math.floor(h/65536),Le=h-q*65536,h=ie+q+65535,q=Math.floor(h/65536),ie=h-q*65536,h=ae+q+65535,q=Math.floor(h/65536),ae=h-q*65536,h=fe+q+65535,q=Math.floor(h/65536),fe=h-q*65536,h=de+q+65535,q=Math.floor(h/65536),de=h-q*65536,h=Ie+q+65535,q=Math.floor(h/65536),Ie=h-q*65536,D+=q-1+37*(q-1),w[0]=D,w[1]=K,w[2]=z,w[3]=W,w[4]=$,w[5]=H,w[6]=V,w[7]=Y,w[8]=Ne,w[9]=at,w[10]=Le,w[11]=ie,w[12]=ae,w[13]=fe,w[14]=de,w[15]=Ie}function se(w,_){J(w,_,_)}function C(w,_){var E=r(),h;for(h=0;h<16;h++)E[h]=_[h];for(h=253;h>=0;h--)se(E,E),h!==2&&h!==4&&J(E,E,_);for(h=0;h<16;h++)w[h]=E[h]}function l(w,_){var E=r(),h;for(h=0;h<16;h++)E[h]=_[h];for(h=250;h>=0;h--)se(E,E),h!==1&&J(E,E,_);for(h=0;h<16;h++)w[h]=E[h]}function m(w,_,E){var h=new Uint8Array(32),q=new Float64Array(80),D,K,z=r(),W=r(),$=r(),H=r(),V=r(),Y=r();for(K=0;K<31;K++)h[K]=_[K];for(h[31]=_[31]&127|64,h[0]&=248,X(q,E),K=0;K<16;K++)W[K]=q[K],H[K]=z[K]=$[K]=0;for(z[0]=H[0]=1,K=254;K>=0;--K)D=h[K>>>3]>>>(K&7)&1,T(z,W,D),T($,H,D),te(V,z,$),re(z,z,$),te($,W,H),re(W,W,H),se(H,V),se(Y,z),J(z,$,z),J($,W,V),te(V,z,$),re(z,z,$),se(W,z),re($,H,Y),J(z,$,o),te(z,z,H),J($,$,z),J(z,H,Y),J(H,W,q),se(W,V),T(z,W,D),T($,H,D);for(K=0;K<16;K++)q[K+16]=z[K],q[K+32]=$[K],q[K+48]=W[K],q[K+64]=H[K];var Ne=q.subarray(32),at=q.subarray(16);return C(Ne,Ne),J(at,at,Ne),Q(w,at),0}function y(w,_){return m(w,_,i)}function I(w,_){return n(_,32),y(w,_)}function N(w,_){var E=r(),h=r(),q=r(),D=r(),K=r(),z=r(),W=r(),$=r(),H=r();re(E,w[1],w[0]),re(H,_[1],_[0]),J(E,E,H),te(h,w[0],w[1]),te(H,_[0],_[1]),J(h,h,H),J(q,w[3],_[3]),J(q,q,c),J(D,w[2],_[2]),te(D,D,D),re(K,h,E),re(z,D,q),te(W,D,q),te($,h,E),J(w[0],K,z),J(w[1],$,W),J(w[2],W,z),J(w[3],K,$)}function Z(w,_,E){var h;for(h=0;h<4;h++)T(w[h],_[h],E)}function B(w,_){var E=r(),h=r(),q=r();C(q,_[2]),J(E,_[0],q),J(h,_[1],q),Q(w,h),w[31]^=F(E)<<7}function P(w,_,E){var h,q;for(S(w[0],a),S(w[1],s),S(w[2],s),S(w[3],a),q=255;q>=0;--q)h=E[q/8|0]>>(q&7)&1,Z(w,_,h),N(_,w),N(w,w),Z(w,_,h)}function p(w,_){var E=[r(),r(),r(),r()];S(E[0],d),S(E[1],u),S(E[2],s),J(E[3],d,u),P(w,E,_)}function L(w,_,E){var h,q=[r(),r(),r(),r()],D;for(E||n(_,32),h=e.hash(_.subarray(0,32)),h[0]&=248,h[31]&=127,h[31]|=64,p(q,h),B(w,q),D=0;D<32;D++)_[D+32]=w[D];return 0}var be=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function me(w,_){var E,h,q,D;for(h=63;h>=32;--h){for(E=0,q=h-32,D=h-12;q<D;++q)_[q]+=E-16*_[h]*be[q-(h-32)],E=Math.floor((_[q]+128)/256),_[q]-=E*256;_[q]+=E,_[h]=0}for(E=0,q=0;q<32;q++)_[q]+=E-(_[31]>>4)*be[q],E=_[q]>>8,_[q]&=255;for(q=0;q<32;q++)_[q]-=E*be[q];for(h=0;h<32;h++)_[h+1]+=_[h]>>8,w[h]=_[h]&255}function _e(w){var _=new Float64Array(64),E;for(E=0;E<64;E++)_[E]=w[E];for(E=0;E<64;E++)w[E]=0;me(w,_)}function Se(w,_,E,h){var q,D,K,z,W,$=new Float64Array(64),H=[r(),r(),r(),r()];q=e.hash(h.subarray(0,32)),q[0]&=248,q[31]&=127,q[31]|=64;var V=E+64;for(z=0;z<E;z++)w[64+z]=_[z];for(z=0;z<32;z++)w[32+z]=q[32+z];for(K=e.hash(w.subarray(32,V)),_e(K),p(H,K),B(w,H),z=32;z<64;z++)w[z]=h[z];for(D=e.hash(w.subarray(0,V)),_e(D),z=0;z<64;z++)$[z]=0;for(z=0;z<32;z++)$[z]=K[z];for(z=0;z<32;z++)for(W=0;W<32;W++)$[z+W]+=D[z]*q[W];return me(w.subarray(32),$),V}function ge(w,_){var E=r(),h=r(),q=r(),D=r(),K=r(),z=r(),W=r();return S(w[2],s),X(w[1],_),se(q,w[1]),J(D,q,f),re(q,q,w[2]),te(D,w[2],D),se(K,D),se(z,K),J(W,z,K),J(E,W,q),J(E,E,D),l(E,E),J(E,E,q),J(E,E,D),J(E,E,D),J(w[0],E,D),se(h,w[0]),J(h,h,D),ne(h,q)&&J(w[0],w[0],b),se(h,w[0]),J(h,h,D),ne(h,q)?-1:(F(w[0])===_[31]>>7&&re(w[0],a,w[0]),J(w[3],w[0],w[1]),0)}function j(w,_,E,h){var q,D=new Uint8Array(32),K,z=[r(),r(),r(),r()],W=[r(),r(),r(),r()];if(E<64||ge(W,h))return-1;for(q=0;q<E;q++)w[q]=_[q];for(q=0;q<32;q++)w[q+32]=h[q];if(K=e.hash(w.subarray(0,E)),_e(K),P(z,W,K),p(W,_.subarray(32)),N(z,W),B(D,z),E-=64,A(_,0,D,0)){for(q=0;q<E;q++)w[q]=0;return-1}for(q=0;q<E;q++)w[q]=_[q+64];return E}var oe=32,ee=32,G=32,ce=32,le=64,ye=32,k=64,v=32;function M(){for(var w=0;w<arguments.length;w++)if(!(arguments[w]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function U(w){for(var _=0;_<w.length;_++)w[_]=0}e.scalarMult=function(w,_){if(M(w,_),w.length!==ee)throw new Error("bad n size");if(_.length!==oe)throw new Error("bad p size");var E=new Uint8Array(oe);return m(E,w,_),E},e.box={},e.box.keyPair=function(){var w=new Uint8Array(G),_=new Uint8Array(ce);return I(w,_),{publicKey:w,secretKey:_}},e.box.keyPair.fromSecretKey=function(w){if(M(w),w.length!==ce)throw new Error("bad secret key size");var _=new Uint8Array(G);return y(_,w),{publicKey:_,secretKey:new Uint8Array(w)}},e.sign=function(w,_){if(M(w,_),_.length!==k)throw new Error("bad secret key size");var E=new Uint8Array(le+w.length);return Se(E,w,w.length,_),E},e.sign.detached=function(w,_){for(var E=e.sign(w,_),h=new Uint8Array(le),q=0;q<h.length;q++)h[q]=E[q];return h},e.sign.detached.verify=function(w,_,E){if(M(w,_,E),_.length!==le)throw new Error("bad signature size");if(E.length!==ye)throw new Error("bad public key size");var h=new Uint8Array(le+w.length),q=new Uint8Array(le+w.length),D;for(D=0;D<le;D++)h[D]=_[D];for(D=0;D<w.length;D++)h[D+le]=w[D];return j(q,h,h.length,E)>=0},e.sign.keyPair=function(){var w=new Uint8Array(ye),_=new Uint8Array(k);return L(w,_),{publicKey:w,secretKey:_}},e.sign.keyPair.fromSecretKey=function(w){if(M(w),w.length!==k)throw new Error("bad secret key size");for(var _=new Uint8Array(ye),E=0;E<_.length;E++)_[E]=w[32+E];return{publicKey:_,secretKey:new Uint8Array(w)}},e.sign.keyPair.fromSeed=function(w){if(M(w),w.length!==v)throw new Error("bad seed size");for(var _=new Uint8Array(ye),E=new Uint8Array(k),h=0;h<32;h++)E[h]=w[h];return L(_,E,!0),{publicKey:_,secretKey:E}},e.setPRNG=function(w){n=w},function(){var w=typeof self!="undefined"?self.crypto||self.msCrypto:null;if(w&&w.getRandomValues){var _=65536;e.setPRNG(function(E,h){var q,D=new Uint8Array(h);for(q=0;q<h;q+=_)w.getRandomValues(D.subarray(q,q+Math.min(h-q,_)));for(q=0;q<h;q++)E[q]=D[q];U(D)})}else typeof H8!="undefined"&&(w=void 0,w&&w.randomBytes&&e.setPRNG(function(E,h){var q,D=w.randomBytes(h);for(q=0;q<h;q++)E[q]=D[q];U(D)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})}),x2=R.getNodeCrypto(),y2=class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(e,r){this.buffer=new Uint8Array(e),this.size=0,this.callback=r}set(e){if(!this.buffer)throw new Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw new Error("Invalid type: buf not an Uint8Array");let r=this.buffer.length-this.size;e.length>r&&(e=e.subarray(0,r)),this.buffer.set(e,this.size),this.size+=e.length}async get(e){if(!this.buffer)throw new Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw new Error("Invalid type: buf not an Uint8Array");if(this.size<e.length){if(!this.callback)throw new Error("Random number buffer depleted");return await this.callback(),this.get(e)}for(let r=0;r<e.length;r++)e[r]=this.buffer[--this.size],this.buffer[this.size]=0}};async function xn(t){let e=new Uint8Array(t);if(typeof crypto!="undefined"&&crypto.getRandomValues)crypto.getRandomValues(e);else if(typeof pt!="undefined"&&typeof pt.msCrypto=="object"&&typeof pt.msCrypto.getRandomValues=="function")pt.msCrypto.getRandomValues(e);else if(x2){let r=x2.randomBytes(e.length);e.set(r)}else if(wd.buffer)await wd.get(e);else throw new Error("No secure random number generator available.");return e}async function Yn(t,e){let r=await R.getBigInteger();if(e.lt(t))throw new Error("Illegal parameter value: max <= min");let n=e.sub(t),i=n.byteLength();return new r(await xn(i+8)).mod(n).add(t)}var wd=new y2,am=Object.freeze({__proto__:null,getRandomBytes:xn,getRandomBigInteger:Yn,randomBuffer:wd});async function g2(t,e,r){let n=await R.getBigInteger(),i=new n(1),a=i.leftShift(new n(t-1)),s=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],f=await Yn(a,a.leftShift(i)),c=f.mod(s).toNumber();do f.iadd(new n(o[c])),c=(c+o[c])%o.length,f.bitLength()>t&&(f.imod(a.leftShift(i)).iadd(a),c=f.mod(s).toNumber());while(!await m2(f,e,r));return f}async function m2(t,e,r){return!(e&&!t.dec().gcd(e).isOne()||!await om(t)||!await sm(t)||!await cm(t,r))}async function sm(t,e){let r=await R.getBigInteger();return e=e||new r(2),e.modExp(t.dec(),t).isOne()}async function om(t){let e=await R.getBigInteger();return fm.every(r=>t.mod(new e(r))!==0)}var fm=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999];async function cm(t,e,r){let n=await R.getBigInteger(),i=t.bitLength();e||(e=Math.max(1,i/48|0));let a=t.dec(),s=0;for(;!a.getBit(s);)s++;let o=t.rightShift(new n(s));for(;e>0;e--){let c=(r?r():await Yn(new n(2),a)).modExp(o,t);if(c.isOne()||c.equal(a))continue;let d;for(d=1;d<s;d++){if(c=c.mul(c).mod(t),c.isOne())return!1;if(c.equal(a))break}if(d===s)return!1}return!0}var yn=[];yn[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16];yn[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20];yn[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20];yn[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32];yn[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48];yn[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64];yn[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];async function dm(t){let e=new Uint8Array(t),r=0;for(;r<t;){let n=await xn(t-r);for(let i=0;i<n.length;i++)n[i]!==0&&(e[r++]=n[i])}return e}async function _d(t,e){let r=t.length;if(r>e-11)throw new Error("Message too long");let n=await dm(e-r-3),i=new Uint8Array(e);return i[1]=2,i.set(n,2),i.set(t,e-r),i}function Ad(t){let e=2;for(;t[e]!==0&&e<t.length;)e++;let r=e-2,n=t[e++];if(t[0]===0&&t[1]===2&&r>=8&&n===0)return t.subarray(e);throw new Error("Decryption error")}async function kd(t,e,r){let n;if(e.length!==Uo.getHashByteLength(t))throw new Error("Invalid hash length");let i=new Uint8Array(yn[t].length);for(n=0;n<yn[t].length;n++)i[n]=yn[t][n];let a=i.length+e.length;if(r<a+11)throw new Error("Intended encoded message length too short");let s=new Uint8Array(r-a-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(s,2),o.set(i,r-a),o.set(e,r-e.length),o}var um=Object.freeze({__proto__:null,emeEncode:_d,emeDecode:Ad,emsaEncode:kd}),ba=R.getWebCrypto(),fr=R.getNodeCrypto(),v2=void 0;function w2(t,e){return typeof t.then!="function"?new Promise(function(r,n){t.onerror=function(){n(new Error(e))},t.oncomplete=function(i){r(i.target.result)}}):t}var Za=R.detectNode()?v2.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,Lo=R.detectNode()?v2.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;async function pm(t,e,r,n,i,a,s,o,f){if(e&&!R.isStream(e)){if(R.getWebCrypto())try{return await hm(g.read(g.webHash,t),e,r,n,i,a,s,o)}catch(c){R.printDebugError(c)}else if(R.getNodeCrypto())return bm(t,e,r,n,i,a,s,o)}return lm(t,r,i,f)}async function gm(t,e,r,n,i,a){if(e&&!R.isStream(e)){if(R.getWebCrypto())try{return await ym(g.read(g.webHash,t),e,r,n,i)}catch(s){R.printDebugError(s)}else if(R.getNodeCrypto())return mm(t,e,r,n,i)}return xm(t,r,n,i,a)}async function _m(t,e,r){return R.getNodeCrypto()?vm(t,e,r):wm(t,e,r)}async function Sm(t,e,r,n,i,a,s){return R.getNodeCrypto()?Am(t,e,r,n,i,a,s):km(t,e,r,n,i,a,s)}async function Em(t,e){let r=await R.getBigInteger();if(e=new r(e),R.getWebCrypto()){let s,o;if(pt.crypto&&pt.crypto.subtle||pt.msCrypto)o={name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:e.toUint8Array(),hash:{name:"SHA-1"}},s=ba.generateKey(o,!0,["sign","verify"]),s=await w2(s,"Error generating RSA key pair.");else if(pt.crypto&&pt.crypto.webkitSubtle)o={name:"RSA-OAEP",modulusLength:t,publicExponent:e.toUint8Array(),hash:{name:"SHA-1"}},s=await ba.generateKey(o,!0,["encrypt","decrypt"]);else throw new Error("Unknown WebCrypto implementation");let f=ba.exportKey("jwk",s.privateKey);return f=await w2(f,"Error exporting RSA key pair."),f instanceof ArrayBuffer&&(f=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)))),{n:zn(f.n),e:e.toUint8Array(),d:zn(f.d),p:zn(f.q),q:zn(f.p),u:zn(f.qi)}}else if(R.getNodeCrypto()&&fr.generateKeyPair&&Za){let s={modulusLength:t,publicExponent:e.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},o=await new Promise((f,c)=>fr.generateKeyPair("rsa",s,(d,u,b)=>{d?c(d):f(Za.decode(b,"der"))}));return{n:o.modulus.toArrayLike(Uint8Array),e:o.publicExponent.toArrayLike(Uint8Array),d:o.privateExponent.toArrayLike(Uint8Array),p:o.prime2.toArrayLike(Uint8Array),q:o.prime1.toArrayLike(Uint8Array),u:o.coefficient.toArrayLike(Uint8Array)}}let n=await g2(t-(t>>1),e,40),i=await g2(t>>1,e,40);n.lt(i)&&([i,n]=[n,i]);let a=i.dec().imul(n.dec());return{n:i.mul(n).toUint8Array(),e:e.toUint8Array(),d:e.modInv(a).toUint8Array(),p:i.toUint8Array(),q:n.toUint8Array(),u:i.modInv(n).toUint8Array()}}async function Cm(t,e,r,n,i,a){let s=await R.getBigInteger();if(t=new s(t),n=new s(n),i=new s(i),!n.mul(i).equal(t))return!1;let o=new s(2);if(a=new s(a),!n.mul(a).mod(i).isOne())return!1;e=new s(e),r=new s(r);let f=new s(Math.floor(t.bitLength()/3)),c=await Yn(o,o.leftShift(f)),d=c.mul(r).mul(e);return!!(d.mod(n.dec()).equal(c)&&d.mod(i.dec()).equal(c))}async function lm(t,e,r,n){let i=await R.getBigInteger();e=new i(e);let a=new i(await kd(t,n,e.byteLength()));if(r=new i(r),a.gte(e))throw new Error("Message size cannot exceed modulus size");return a.modExp(r,e).toUint8Array("be",e.byteLength())}async function hm(t,e,r,n,i,a,s,o){let f=await Pm(r,n,i,a,s,o),c={name:"RSASSA-PKCS1-v1_5",hash:{name:t}},d=await ba.importKey("jwk",f,c,!1,["sign"]);return new Uint8Array(await ba.sign({name:"RSASSA-PKCS1-v1_5",hash:t},d,e))}async function bm(t,e,r,n,i,a,s,o){let{default:f}=await Promise.resolve().then(function(){return V0}),c=new f(a),d=new f(s),u=new f(i),b=u.mod(d.subn(1)),x=u.mod(c.subn(1)),A=fr.createSign(g.read(g.hash,t));A.write(e),A.end();let S={version:0,modulus:new f(r),publicExponent:new f(n),privateExponent:new f(i),prime1:new f(s),prime2:new f(a),exponent1:b,exponent2:x,coefficient:new f(o)};if(typeof fr.createPrivateKey!="undefined"){let T=Za.encode(S,"der");return new Uint8Array(A.sign({key:T,format:"der",type:"pkcs1"}))}let O=Za.encode(S,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(A.sign(O))}async function xm(t,e,r,n,i){let a=await R.getBigInteger();if(r=new a(r),e=new a(e),n=new a(n),e.gte(r))throw new Error("Signature size cannot exceed modulus size");let s=e.modExp(n,r).toUint8Array("be",r.byteLength()),o=await kd(t,i,r.byteLength());return R.equalsUint8Array(s,o)}async function ym(t,e,r,n,i){let a=Rm(n,i),s=await ba.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:t}},!1,["verify"]);return ba.verify({name:"RSASSA-PKCS1-v1_5",hash:t},s,r,e)}async function mm(t,e,r,n,i){let{default:a}=await Promise.resolve().then(function(){return V0}),s=fr.createVerify(g.read(g.hash,t));s.write(e),s.end();let o={modulus:new a(n),publicExponent:new a(i)},f;typeof fr.createPrivateKey!="undefined"?f={key:Lo.encode(o,"der"),format:"der",type:"pkcs1"}:f=Lo.encode(o,"pem",{label:"RSA PUBLIC KEY"});try{return await s.verify(f,r)}catch(c){return!1}}async function vm(t,e,r){let{default:n}=await Promise.resolve().then(function(){return V0}),i={modulus:new n(e),publicExponent:new n(r)},a;return typeof fr.createPrivateKey!="undefined"?a={key:Lo.encode(i,"der"),format:"der",type:"pkcs1",padding:fr.constants.RSA_PKCS1_PADDING}:a={key:Lo.encode(i,"pem",{label:"RSA PUBLIC KEY"}),padding:fr.constants.RSA_PKCS1_PADDING},new Uint8Array(fr.publicEncrypt(a,t))}async function wm(t,e,r){let n=await R.getBigInteger();if(e=new n(e),t=new n(await _d(t,e.byteLength())),r=new n(r),t.gte(e))throw new Error("Message size cannot exceed modulus size");return t.modExp(r,e).toUint8Array("be",e.byteLength())}async function Am(t,e,r,n,i,a,s){let{default:o}=await Promise.resolve().then(function(){return V0}),f=new o(i),c=new o(a),d=new o(n),u=d.mod(c.subn(1)),b=d.mod(f.subn(1)),x={version:0,modulus:new o(e),publicExponent:new o(r),privateExponent:new o(n),prime1:new o(a),prime2:new o(i),exponent1:u,exponent2:b,coefficient:new o(s)},A;typeof fr.createPrivateKey!="undefined"?A={key:Za.encode(x,"der"),format:"der",type:"pkcs1",padding:fr.constants.RSA_PKCS1_PADDING}:A={key:Za.encode(x,"pem",{label:"RSA PRIVATE KEY"}),padding:fr.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(fr.privateDecrypt(A,t))}catch(S){throw new Error("Decryption error")}}async function km(t,e,r,n,i,a,s){let o=await R.getBigInteger();if(t=new o(t),e=new o(e),r=new o(r),n=new o(n),i=new o(i),a=new o(a),s=new o(s),t.gte(e))throw new Error("Data too large.");let f=n.mod(a.dec()),c=n.mod(i.dec()),d=(await Yn(new o(2),e)).mod(e),u=d.modInv(e).modExp(r,e);t=t.mul(u).mod(e);let b=t.modExp(c,i),x=t.modExp(f,a),S=s.mul(x.sub(b)).mod(a).mul(i).add(b);return S=S.mul(d).mod(e),Ad(S.toUint8Array("be",e.byteLength()))}async function Pm(t,e,r,n,i,a){let s=await R.getBigInteger(),o=new s(n),f=new s(i),c=new s(r),d=c.mod(f.dec()),u=c.mod(o.dec());return u=u.toUint8Array(),d=d.toUint8Array(),{kty:"RSA",n:wr(t,!0),e:wr(e,!0),d:wr(r,!0),p:wr(i,!0),q:wr(n,!0),dp:wr(d,!0),dq:wr(u,!0),qi:wr(a,!0),ext:!0}}function Rm(t,e){return{kty:"RSA",n:wr(t,!0),e:wr(e,!0),ext:!0}}var Mm=Object.freeze({__proto__:null,sign:pm,verify:gm,encrypt:_m,decrypt:Sm,generate:Em,validateParams:Cm});async function Bm(t,e,r,n){let i=await R.getBigInteger();e=new i(e),r=new i(r),n=new i(n);let a=await _d(t,e.byteLength()),s=new i(a),o=await Yn(new i(1),e.dec());return{c1:r.modExp(o,e).toUint8Array(),c2:n.modExp(o,e).imul(s).imod(e).toUint8Array()}}async function Tm(t,e,r,n){let i=await R.getBigInteger();t=new i(t),e=new i(e),r=new i(r),n=new i(n);let a=t.modExp(n,r).modInv(r).imul(e).imod(r);return Ad(a.toUint8Array("be",r.byteLength()))}async function Im(t,e,r,n){let i=await R.getBigInteger();t=new i(t),e=new i(e),r=new i(r);let a=new i(1);if(e.lte(a)||e.gte(t))return!1;let s=new i(t.bitLength()),o=new i(1023);if(s.lt(o)||!e.modExp(t.dec(),t).isOne())return!1;let f=e,c=new i(1),d=new i(2).leftShift(new i(17));for(;c.lt(d);){if(f=f.mul(e).imod(t),f.isOne())return!1;c.iinc()}n=new i(n);let u=new i(2),b=await Yn(u.leftShift(s.dec()),u.leftShift(s)),x=t.dec().imul(b).iadd(n);return!!r.equal(e.modExp(x,t))}var Dm=Object.freeze({__proto__:null,encrypt:Bm,decrypt:Tm,validateParams:Im}),Hr=class{constructor(e){if(e instanceof Hr)this.oid=e.oid;else if(R.isArray(e)||R.isUint8Array(e)){if(e=new Uint8Array(e),e[0]===6){if(e[1]!==e.length-2)throw new Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){let r=e[0];if(e.length>=1+r)return this.oid=e.subarray(1,1+r),1+this.oid.length}throw new Error("Invalid oid")}write(){return R.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return R.uint8ArrayToHex(this.oid)}getName(){let e=this.toHex();if(g.curve[e])return g.write(g.curve,e);throw new Error("Unknown curve object identifier.")}};function jo(t,e){return t.keyPair({priv:e})}function $o(t,e){let r=t.keyPair({pub:e});if(r.validate().result!==!0)throw new Error("Invalid elliptic public key");return r}async function Xa(t){if(!Ce.useIndutnyElliptic)throw new Error("This curve is only supported in the full build of OpenPGP.js");let{default:e}=await Promise.resolve().then(function(){return Km});return new e.ec(t)}var Sd=R.getWebCrypto(),Ho=R.getNodeCrypto(),mn={p256:"P-256",p384:"P-384",p521:"P-521"},Gn=Ho?Ho.getCurves():[],Si=Ho?{secp256k1:Gn.includes("secp256k1")?"secp256k1":void 0,p256:Gn.includes("prime256v1")?"prime256v1":void 0,p384:Gn.includes("secp384r1")?"secp384r1":void 0,p521:Gn.includes("secp521r1")?"secp521r1":void 0,ed25519:Gn.includes("ED25519")?"ED25519":void 0,curve25519:Gn.includes("X25519")?"X25519":void 0,brainpoolP256r1:Gn.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:Gn.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:Gn.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},Wo={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:g.publicKey.ecdsa,hash:g.hash.sha256,cipher:g.symmetric.aes128,node:Si.p256,web:mn.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:g.publicKey.ecdsa,hash:g.hash.sha384,cipher:g.symmetric.aes192,node:Si.p384,web:mn.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:g.publicKey.ecdsa,hash:g.hash.sha512,cipher:g.symmetric.aes256,node:Si.p521,web:mn.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:g.publicKey.ecdsa,hash:g.hash.sha256,cipher:g.symmetric.aes128,node:Si.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:g.publicKey.eddsa,hash:g.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:g.publicKey.ecdh,hash:g.hash.sha256,cipher:g.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:g.publicKey.ecdsa,hash:g.hash.sha256,cipher:g.symmetric.aes128,node:Si.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:g.publicKey.ecdsa,hash:g.hash.sha384,cipher:g.symmetric.aes192,node:Si.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:g.publicKey.ecdsa,hash:g.hash.sha512,cipher:g.symmetric.aes256,node:Si.brainpoolP512r1,payloadSize:64}},Vn=class{constructor(e,r){try{(R.isArray(e)||R.isUint8Array(e))&&(e=new Hr(e)),e instanceof Hr&&(e=e.getName()),this.name=g.write(g.curve,e)}catch(n){throw new Error("Not valid curve")}r=r||Wo[this.name],this.keyType=r.keyType,this.oid=r.oid,this.hash=r.hash,this.cipher=r.cipher,this.node=r.node&&Wo[this.name],this.web=r.web&&Wo[this.name],this.payloadSize=r.payloadSize,this.web&&R.getWebCrypto()?this.type="web":this.node&&R.getNodeCrypto()?this.type="node":this.name==="curve25519"?this.type="curve25519":this.name==="ed25519"&&(this.type="ed25519")}async genKeyPair(){let e;switch(this.type){case"web":try{return await Um(this.name)}catch(n){R.printDebugError("Browser did not support generating ec key "+n.message);break}case"node":return zm(this.name);case"curve25519":{let n=await xn(32);n[0]=n[0]&127|64,n[31]&=248;let i=n.slice().reverse();return e=pn.box.keyPair.fromSecretKey(i),{publicKey:R.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:n}}case"ed25519":{let n=await xn(32),i=pn.sign.keyPair.fromSeed(n);return{publicKey:R.concatUint8Array([new Uint8Array([64]),i.publicKey]),privateKey:n}}}return e=await(await Xa(this.name)).genKeyPair({entropy:R.uint8ArrayToStr(await xn(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}}};async function Fm(t){let e=await R.getBigInteger();t=new Vn(t);let r=await t.genKeyPair(),n=new e(r.publicKey).toUint8Array(),i=new e(r.privateKey).toUint8Array("be",t.payloadSize);return{oid:t.oid,Q:n,secret:i,hash:t.hash,cipher:t.cipher}}function Om(t){return Wo[g.write(g.curve,t.toHex())].hash}async function _2(t,e,r,n){let i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:t===g.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},a=e.getName();if(!i[a])return!1;if(a==="curve25519"){n=n.slice().reverse();let{publicKey:f}=pn.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);let c=new Uint8Array([64,...f]);return!!R.equalsUint8Array(c,r)}let s=await Xa(a);try{r=$o(s,r).getPublic()}catch(f){return!1}return!!jo(s,n).getPublic().eq(r)}async function Um(t){let e=await Sd.generateKey({name:"ECDSA",namedCurve:mn[t]},!0,["sign","verify"]),r=await Sd.exportKey("jwk",e.privateKey),n=await Sd.exportKey("jwk",e.publicKey);return{publicKey:A2(n),privateKey:zn(r.d)}}async function zm(t){let e=Ho.createECDH(Si[t]);return await e.generateKeys(),{publicKey:new Uint8Array(e.getPublicKey()),privateKey:new Uint8Array(e.getPrivateKey())}}function A2(t){let e=zn(t.x),r=zn(t.y),n=new Uint8Array(e.length+r.length+1);return n[0]=4,n.set(e,1),n.set(r,e.length+1),n}function Yo(t,e,r){let n=t,i=r.slice(1,n+1),a=r.slice(n+1,n*2+1);return{kty:"EC",crv:e,x:wr(i,!0),y:wr(a,!0),ext:!0}}function k2(t,e,r,n){let i=Yo(t,e,r);return i.d=wr(n,!0),i}var Go=R.getWebCrypto(),pa=R.getNodeCrypto();async function S2(t,e,r,n,i,a){let s=new Vn(t);if(r&&!R.isStream(r)){let o={publicKey:n,privateKey:i};switch(s.type){case"web":{try{return await qm(s,e,r,o)}catch(f){if(s.name!=="p521"&&(f.name==="DataError"||f.name==="OperationError"))throw f;R.printDebugError("Browser did not support signing: "+f.message)}break}case"node":{let f=await Lm(s,e,r,o);return{r:f.r.toArrayLike(Uint8Array),s:f.s.toArrayLike(Uint8Array)}}}}return Nm(s,a,i)}async function E2(t,e,r,n,i,a){let s=new Vn(t);if(n&&!R.isStream(n))switch(s.type){case"web":try{return await $m(s,e,r,n,i)}catch(f){if(s.name!=="p521"&&(f.name==="DataError"||f.name==="OperationError"))throw f;R.printDebugError("Browser did not support verifying: "+f.message)}break;case"node":return Hm(s,e,r,n,i)}let o=typeof e=="undefined"?n:a;return jm(s,r,o,i)}async function Wm(t,e,r){let n=new Vn(t);if(n.keyType!==g.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{let i=await xn(8),a=g.hash.sha256,s=await Uo.digest(a,i);try{let o=await S2(t,a,i,e,r,s);return await E2(t,a,o,i,e,s)}catch(o){return!1}}default:return _2(g.publicKey.ecdsa,t,e,r)}}async function Nm(t,e,r){let n=await Xa(t.name),a=jo(n,r).sign(e);return{r:a.r.toArrayLike(Uint8Array),s:a.s.toArrayLike(Uint8Array)}}async function jm(t,e,r,n){let i=await Xa(t.name);return $o(i,n).verify(r,e)}async function qm(t,e,r,n){let i=t.payloadSize,a=k2(t.payloadSize,mn[t.name],n.publicKey,n.privateKey),s=await Go.importKey("jwk",a,{name:"ECDSA",namedCurve:mn[t.name],hash:{name:g.read(g.webHash,t.hash)}},!1,["sign"]),o=new Uint8Array(await Go.sign({name:"ECDSA",namedCurve:mn[t.name],hash:{name:g.read(g.webHash,e)}},s,r));return{r:o.slice(0,i),s:o.slice(i,i<<1)}}async function $m(t,e,{r,s:n},i,a){let s=Yo(t.payloadSize,mn[t.name],a),o=await Go.importKey("jwk",s,{name:"ECDSA",namedCurve:mn[t.name],hash:{name:g.read(g.webHash,t.hash)}},!1,["verify"]),f=R.concatUint8Array([r,n]).buffer;return Go.verify({name:"ECDSA",namedCurve:mn[t.name],hash:{name:g.read(g.webHash,e)}},o,f,i)}async function Lm(t,e,r,n){let i=pa.createSign(g.read(g.hash,e));i.write(r),i.end();let a=Ym.encode({version:1,parameters:t.oid,privateKey:Array.from(n.privateKey),publicKey:{unused:0,data:Array.from(n.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return C2.decode(i.sign(a),"der")}async function Hm(t,e,{r,s:n},i,a){let{default:s}=await Promise.resolve().then(function(){return V0}),o=pa.createVerify(g.read(g.hash,e));o.write(i),o.end();let f=Gm.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:t.oid},subjectPublicKey:{unused:0,data:Array.from(a)}},"pem",{label:"PUBLIC KEY"}),c=C2.encode({r:new s(r),s:new s(n)},"der");try{return o.verify(f,c)}catch(d){return!1}}var Vo=void 0,C2=pa?Vo.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,Ym=pa?Vo.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,Vm=pa?Vo.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,Gm=pa?Vo.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Vm),this.key("subjectPublicKey").bitstr())}):void 0,Zm=Object.freeze({__proto__:null,sign:S2,verify:E2,validateParams:Wm});pn.hash=t=>new Uint8Array(j0().update(t).digest());async function Xm(t,e,r,n,i,a){let s=R.concatUint8Array([i,n.subarray(1)]),o=pn.sign.detached(a,s);return{r:o.subarray(0,32),s:o.subarray(32)}}async function Jm(t,e,{r,s:n},i,a,s){let o=R.concatUint8Array([r,n]);return pn.sign.detached.verify(s,o,a.subarray(1))}async function Qm(t,e,r){if(t.getName()!=="ed25519")return!1;let{publicKey:n}=pn.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return R.equalsUint8Array(e,i)}var eg=Object.freeze({__proto__:null,sign:Xm,verify:Jm,validateParams:Qm});function P2(t,e){let r=new Lr["aes"+t.length*8](t),n=new Uint32Array([2795939494,2795939494]),i=Zo(e),a=n,s=i,o=i.length/2,f=new Uint32Array([0,0]),c=new Uint32Array(4);for(let d=0;d<=5;++d)for(let u=0;u<o;++u)f[1]=o*d+(1+u),c[0]=a[0],c[1]=a[1],c[2]=s[2*u],c[3]=s[2*u+1],c=Zo(r.encrypt(Xo(c))),a=c.subarray(0,2),a[0]^=f[0],a[1]^=f[1],s[2*u]=c[2],s[2*u+1]=c[3];return Xo(a,s)}function R2(t,e){let r=new Lr["aes"+t.length*8](t),n=new Uint32Array([2795939494,2795939494]),i=Zo(e),a=i.subarray(0,2),s=i.subarray(2),o=i.length/2-1,f=new Uint32Array([0,0]),c=new Uint32Array(4);for(let d=5;d>=0;--d)for(let u=o-1;u>=0;--u)f[1]=o*d+(u+1),c[0]=a[0]^f[0],c[1]=a[1]^f[1],c[2]=s[2*u],c[3]=s[2*u+1],c=Zo(r.decrypt(Xo(c))),a=c.subarray(0,2),s[2*u]=c[2],s[2*u+1]=c[3];if(a[0]===n[0]&&a[1]===n[1])return Xo(s);throw new Error("Key Data Integrity failed")}function tg(t){if(R.isString(t)){let{length:e}=t,r=new ArrayBuffer(e),n=new Uint8Array(r);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i);return r}return new Uint8Array(t).buffer}function Zo(t){let{length:e}=t,r=tg(t),n=new DataView(r),i=new Uint32Array(e/4);for(let a=0;a<e/4;++a)i[a]=n.getUint32(4*a);return i}function Xo(){let t=0;for(let i=0;i<arguments.length;++i)t+=4*arguments[i].length;let e=new ArrayBuffer(t),r=new DataView(e),n=0;for(let i=0;i<arguments.length;++i){for(let a=0;a<arguments[i].length;++a)r.setUint32(n+4*a,arguments[i][a]);n+=4*arguments[i].length}return new Uint8Array(e)}var rg=Object.freeze({__proto__:null,wrap:P2,unwrap:R2});function M2(t){let e=8-t.length%8,r=new Uint8Array(t.length+e).fill(e);return r.set(t),r}function B2(t){let e=t.length;if(e>0){let r=t[e-1];if(r>=1){let n=t.subarray(e-r),i=new Uint8Array(r).fill(r);if(R.equalsUint8Array(n,i))return t.subarray(0,e-r)}}throw new Error("Invalid padding")}var ng=Object.freeze({__proto__:null,encode:M2,decode:B2}),Ei=R.getWebCrypto(),T2=R.getNodeCrypto();async function ig(t,e,r){return _2(g.publicKey.ecdh,t,e,r)}function I2(t,e,r,n){return R.concatUint8Array([e.write(),new Uint8Array([t]),r.write(),R.strToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function D2(t,e,r,n,i=!1,a=!1){let s;if(i){for(s=0;s<e.length&&e[s]===0;s++);e=e.subarray(s)}if(a){for(s=e.length-1;s>=0&&e[s]===0;s--);e=e.subarray(0,s+1)}return(await Uo.digest(t,R.concatUint8Array([new Uint8Array([0,0,0,1]),e,n]))).subarray(0,r)}async function cg(t,e){switch(t.type){case"curve25519":{let r=await xn(32),{secretKey:n,sharedKey:i}=await K2(t,e,null,r),{publicKey:a}=pn.box.keyPair.fromSecretKey(n);return a=R.concatUint8Array([new Uint8Array([64]),a]),{publicKey:a,sharedKey:i}}case"web":if(t.web&&R.getWebCrypto())try{return await ag(t,e)}catch(r){R.printDebugError(r)}break;case"node":return og(t,e)}return sg(t,e)}async function fg(t,e,r,n,i){let a=M2(r),s=new Vn(t),{publicKey:o,sharedKey:f}=await cg(s,n),c=I2(g.publicKey.ecdh,t,e,i),d=g.read(g.symmetric,e.cipher),u=await D2(e.hash,f,Lr[d].keySize,c),b=P2(u,a);return{publicKey:o,wrappedKey:b}}async function K2(t,e,r,n){if(n.length!==t.payloadSize){let i=new Uint8Array(t.payloadSize);i.set(n,t.payloadSize-n.length),n=i}switch(t.type){case"curve25519":{let i=n.slice().reverse(),a=pn.scalarMult(i,e.subarray(1));return{secretKey:i,sharedKey:a}}case"web":if(t.web&&R.getWebCrypto())try{return await dg(t,e,r,n)}catch(i){R.printDebugError(i)}break;case"node":return lg(t,e,n)}return ug(t,e,n)}async function hg(t,e,r,n,i,a,s){let o=new Vn(t),{sharedKey:f}=await K2(o,r,i,a),c=I2(g.publicKey.ecdh,t,e,s),d=g.read(g.symmetric,e.cipher),u;for(let b=0;b<3;b++)try{let x=await D2(e.hash,f,Lr[d].keySize,c,b===1,b===2);return B2(R2(x,n))}catch(x){u=x}throw u}async function dg(t,e,r,n){let i=k2(t.payloadSize,t.web.web,r,n),a=Ei.importKey("jwk",i,{name:"ECDH",namedCurve:t.web.web},!0,["deriveKey","deriveBits"]),s=Yo(t.payloadSize,t.web.web,e),o=Ei.importKey("jwk",s,{name:"ECDH",namedCurve:t.web.web},!0,[]);[a,o]=await Promise.all([a,o]);let f=Ei.deriveBits({name:"ECDH",namedCurve:t.web.web,public:o},a,t.web.sharedSize),c=Ei.exportKey("jwk",a);[f,c]=await Promise.all([f,c]);let d=new Uint8Array(f);return{secretKey:zn(c.d),sharedKey:d}}async function ag(t,e){let r=Yo(t.payloadSize,t.web.web,e),n=Ei.generateKey({name:"ECDH",namedCurve:t.web.web},!0,["deriveKey","deriveBits"]),i=Ei.importKey("jwk",r,{name:"ECDH",namedCurve:t.web.web},!1,[]);[n,i]=await Promise.all([n,i]);let a=Ei.deriveBits({name:"ECDH",namedCurve:t.web.web,public:i},n.privateKey,t.web.sharedSize),s=Ei.exportKey("jwk",n.publicKey);[a,s]=await Promise.all([a,s]);let o=new Uint8Array(a);return{publicKey:new Uint8Array(A2(s)),sharedKey:o}}async function ug(t,e,r){let n=await Xa(t.name);e=$o(n,e),r=jo(n,r);let i=new Uint8Array(r.getPrivate()),a=r.derive(e.getPublic()),s=n.curve.p.byteLength(),o=a.toArrayLike(Uint8Array,"be",s);return{secretKey:i,sharedKey:o}}async function sg(t,e){let r=await Xa(t.name),n=await t.genKeyPair();e=$o(r,e);let i=jo(r,n.privateKey),a=n.publicKey,s=i.derive(e.getPublic()),o=r.curve.p.byteLength(),f=s.toArrayLike(Uint8Array,"be",o);return{publicKey:a,sharedKey:f}}async function lg(t,e,r){let n=T2.createECDH(t.node.node);n.setPrivateKey(r);let i=new Uint8Array(n.computeSecret(e));return{secretKey:new Uint8Array(n.getPrivateKey()),sharedKey:i}}async function og(t,e){let r=T2.createECDH(t.node.node);r.generateKeys();let n=new Uint8Array(r.computeSecret(e));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:n}}var bg=Object.freeze({__proto__:null,validateParams:ig,encrypt:fg,decrypt:hg}),pg=Object.freeze({__proto__:null,Curve:Vn,ecdh:bg,ecdsa:Zm,eddsa:eg,generate:Fm,getPreferredHashAlgo:Om});async function xg(t,e,r,n,i,a){let s=await R.getBigInteger(),o=new s(1);n=new s(n),i=new s(i),r=new s(r),a=new s(a);let f,c,d,u;r=r.mod(n),a=a.mod(i);let b=new s(e.subarray(0,i.byteLength())).mod(i);for(;;){if(f=await Yn(o,i),c=r.modExp(f,n).imod(i),c.isZero())continue;let x=a.mul(c).imod(i);if(u=b.add(x).imod(i),d=f.modInv(i).imul(u).imod(i),!d.isZero())break}return{r:c.toUint8Array("be",i.byteLength()),s:d.toUint8Array("be",i.byteLength())}}async function yg(t,e,r,n,i,a,s,o){let f=await R.getBigInteger(),c=new f(0);if(e=new f(e),r=new f(r),a=new f(a),s=new f(s),i=new f(i),o=new f(o),e.lte(c)||e.gte(s)||r.lte(c)||r.gte(s))return R.printDebug("invalid DSA Signature"),!1;let d=new f(n.subarray(0,s.byteLength())).imod(s),u=r.modInv(s);if(u.isZero())return R.printDebug("invalid DSA Signature"),!1;i=i.mod(a),o=o.mod(a);let b=d.mul(u).imod(s),x=e.mul(u).imod(s),A=i.modExp(b,a),S=o.modExp(x,a);return A.mul(S).imod(a).imod(s).equal(e)}async function mg(t,e,r,n,i){let a=await R.getBigInteger();t=new a(t),e=new a(e),r=new a(r),n=new a(n);let s=new a(1);if(r.lte(s)||r.gte(t)||!t.dec().mod(e).isZero()||!r.modExp(e,t).isOne())return!1;let o=new a(e.bitLength()),f=new a(150);if(o.lt(f)||!await m2(e,null,32))return!1;i=new a(i);let c=new a(2),d=await Yn(c.leftShift(o.dec()),c.leftShift(o)),u=e.mul(d).add(i);return!!n.equal(r.modExp(u,t))}var gg=Object.freeze({__proto__:null,sign:xg,verify:yg,validateParams:mg}),Rt={rsa:Mm,elgamal:Dm,elliptic:pg,dsa:gg,nacl:pn};function vg(t,e){let r=0;switch(t){case g.publicKey.rsaEncryptSign:case g.publicKey.rsaEncrypt:case g.publicKey.rsaSign:return{s:R.readMPI(e.subarray(r))};case g.publicKey.dsa:case g.publicKey.ecdsa:{let n=R.readMPI(e.subarray(r));r+=n.length+2;let i=R.readMPI(e.subarray(r));return{r:n,s:i}}case g.publicKey.eddsa:{let n=R.readMPI(e.subarray(r));r+=n.length+2,n=R.leftPad(n,32);let i=R.readMPI(e.subarray(r));return i=R.leftPad(i,32),{r:n,s:i}}default:throw new Error("Invalid signature algorithm.")}}async function wg(t,e,r,n,i,a){switch(t){case g.publicKey.rsaEncryptSign:case g.publicKey.rsaEncrypt:case g.publicKey.rsaSign:{let{n:s,e:o}=n,f=R.leftPad(r.s,s.length);return Rt.rsa.verify(e,i,f,s,o,a)}case g.publicKey.dsa:{let{g:s,p:o,q:f,y:c}=n,{r:d,s:u}=r;return Rt.dsa.verify(e,d,u,a,s,o,f,c)}case g.publicKey.ecdsa:{let{oid:s,Q:o}=n,f=new Rt.elliptic.Curve(s).payloadSize,c=R.leftPad(r.r,f),d=R.leftPad(r.s,f);return Rt.elliptic.ecdsa.verify(s,e,{r:c,s:d},i,o,a)}case g.publicKey.eddsa:{let{oid:s,Q:o}=n;return Rt.elliptic.eddsa.verify(s,e,r,i,o,a)}default:throw new Error("Invalid signature algorithm.")}}async function _g(t,e,r,n,i,a){if(!r||!n)throw new Error("Missing key parameters");switch(t){case g.publicKey.rsaEncryptSign:case g.publicKey.rsaEncrypt:case g.publicKey.rsaSign:{let{n:s,e:o}=r,{d:f,p:c,q:d,u}=n;return{s:await Rt.rsa.sign(e,i,s,o,f,c,d,u,a)}}case g.publicKey.dsa:{let{g:s,p:o,q:f}=r,{x:c}=n;return Rt.dsa.sign(e,a,s,o,f,c)}case g.publicKey.elgamal:throw new Error("Signing with Elgamal is not defined in the OpenPGP standard.");case g.publicKey.ecdsa:{let{oid:s,Q:o}=r,{d:f}=n;return Rt.elliptic.ecdsa.sign(s,e,i,o,f,a)}case g.publicKey.eddsa:{let{oid:s,Q:o}=r,{seed:f}=n;return Rt.elliptic.eddsa.sign(s,e,i,o,f,a)}default:throw new Error("Invalid signature algorithm.")}}var Ag=Object.freeze({__proto__:null,parseSignatureParams:vg,verify:wg,sign:_g}),Ed=class{constructor(e){typeof e=="undefined"?e=new Uint8Array([]):R.isString(e)?e=R.strToUint8Array(e):e=new Uint8Array(e),this.data=e}read(e){if(e.length>=1){let r=e[0];if(e.length>=1+r)return this.data=e.subarray(1,1+r),1+this.data.length}throw new Error("Invalid symmetric key")}write(){return R.concatUint8Array([new Uint8Array([this.data.length]),this.data])}},Cd=class{constructor(e){if(e){let{hash:r,cipher:n}=e;this.hash=r,this.cipher=n}else this.hash=null,this.cipher=null}read(e){if(e.length<4||e[0]!==3||e[1]!==1)throw new Error("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}};async function kg(t,e,r,n){switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:{let{n:i,e:a}=e;return{c:await Rt.rsa.encrypt(r,i,a)}}case g.publicKey.elgamal:{let{p:i,g:a,y:s}=e;return Rt.elgamal.encrypt(r,i,a,s)}case g.publicKey.ecdh:{let{oid:i,Q:a,kdfParams:s}=e,{publicKey:o,wrappedKey:f}=await Rt.elliptic.ecdh.encrypt(i,s,r,a,n);return{V:o,C:new Ed(f)}}default:return[]}}async function Sg(t,e,r,n,i){switch(t){case g.publicKey.rsaEncryptSign:case g.publicKey.rsaEncrypt:{let{c:a}=n,{n:s,e:o}=e,{d:f,p:c,q:d,u}=r;return Rt.rsa.decrypt(a,s,o,f,c,d,u)}case g.publicKey.elgamal:{let{c1:a,c2:s}=n,o=e.p,f=r.x;return Rt.elgamal.decrypt(a,s,o,f)}case g.publicKey.ecdh:{let{oid:a,Q:s,kdfParams:o}=e,{d:f}=r,{V:c,C:d}=n;return Rt.elliptic.ecdh.decrypt(a,o,c,d.data,s,f,i)}default:throw new Error("Invalid public key encryption algorithm.")}}function Eg(t,e){let r=0;switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:case g.publicKey.rsaSign:{let n=R.readMPI(e.subarray(r));r+=n.length+2;let i=R.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{n,e:i}}}case g.publicKey.dsa:{let n=R.readMPI(e.subarray(r));r+=n.length+2;let i=R.readMPI(e.subarray(r));r+=i.length+2;let a=R.readMPI(e.subarray(r));r+=a.length+2;let s=R.readMPI(e.subarray(r));return r+=s.length+2,{read:r,publicParams:{p:n,q:i,g:a,y:s}}}case g.publicKey.elgamal:{let n=R.readMPI(e.subarray(r));r+=n.length+2;let i=R.readMPI(e.subarray(r));r+=i.length+2;let a=R.readMPI(e.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:n,g:i,y:a}}}case g.publicKey.ecdsa:{let n=new Hr;r+=n.read(e);let i=R.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{oid:n,Q:i}}}case g.publicKey.eddsa:{let n=new Hr;r+=n.read(e);let i=R.readMPI(e.subarray(r));return r+=i.length+2,i=R.leftPad(i,33),{read:r,publicParams:{oid:n,Q:i}}}case g.publicKey.ecdh:{let n=new Hr;r+=n.read(e);let i=R.readMPI(e.subarray(r));r+=i.length+2;let a=new Cd;return r+=a.read(e.subarray(r)),{read:r,publicParams:{oid:n,Q:i,kdfParams:a}}}default:throw new Error("Invalid public key encryption algorithm.")}}function Cg(t,e,r){let n=0;switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:case g.publicKey.rsaSign:{let i=R.readMPI(e.subarray(n));n+=i.length+2;let a=R.readMPI(e.subarray(n));n+=a.length+2;let s=R.readMPI(e.subarray(n));n+=s.length+2;let o=R.readMPI(e.subarray(n));return n+=o.length+2,{read:n,privateParams:{d:i,p:a,q:s,u:o}}}case g.publicKey.dsa:case g.publicKey.elgamal:{let i=R.readMPI(e.subarray(n));return n+=i.length+2,{read:n,privateParams:{x:i}}}case g.publicKey.ecdsa:case g.publicKey.ecdh:{let i=new Vn(r.oid),a=R.readMPI(e.subarray(n));return n+=a.length+2,a=R.leftPad(a,i.payloadSize),{read:n,privateParams:{d:a}}}case g.publicKey.eddsa:{let i=R.readMPI(e.subarray(n));return n+=i.length+2,i=R.leftPad(i,32),{read:n,privateParams:{seed:i}}}default:throw new Error("Invalid public key encryption algorithm.")}}function Pg(t,e){let r=0;switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:return{c:R.readMPI(e.subarray(r))};case g.publicKey.elgamal:{let n=R.readMPI(e.subarray(r));r+=n.length+2;let i=R.readMPI(e.subarray(r));return{c1:n,c2:i}}case g.publicKey.ecdh:{let n=R.readMPI(e.subarray(r));r+=n.length+2;let i=new Ed;return i.read(e.subarray(r)),{V:n,C:i}}default:throw new Error("Invalid public key encryption algorithm.")}}function Rg(t,e){let r=Object.keys(e).map(n=>{let i=e[n];return R.isUint8Array(i)?R.uint8ArrayToMpi(i):i.write()});return R.concatUint8Array(r)}function Mg(t,e,r){switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:case g.publicKey.rsaSign:return Rt.rsa.generate(e,65537).then(({n,e:i,d:a,p:s,q:o,u:f})=>({privateParams:{d:a,p:s,q:o,u:f},publicParams:{n,e:i}}));case g.publicKey.ecdsa:return Rt.elliptic.generate(r).then(({oid:n,Q:i,secret:a})=>({privateParams:{d:a},publicParams:{oid:new Hr(n),Q:i}}));case g.publicKey.eddsa:return Rt.elliptic.generate(r).then(({oid:n,Q:i,secret:a})=>({privateParams:{seed:a},publicParams:{oid:new Hr(n),Q:i}}));case g.publicKey.ecdh:return Rt.elliptic.generate(r).then(({oid:n,Q:i,secret:a,hash:s,cipher:o})=>({privateParams:{d:a},publicParams:{oid:new Hr(n),Q:i,kdfParams:new Cd({hash:s,cipher:o})}}));case g.publicKey.dsa:case g.publicKey.elgamal:throw new Error("Unsupported algorithm for key generation.");default:throw new Error("Invalid public key algorithm.")}}async function Bg(t,e,r){if(!e||!r)throw new Error("Missing key parameters");switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:case g.publicKey.rsaSign:{let{n,e:i}=e,{d:a,p:s,q:o,u:f}=r;return Rt.rsa.validateParams(n,i,a,s,o,f)}case g.publicKey.dsa:{let{p:n,q:i,g:a,y:s}=e,{x:o}=r;return Rt.dsa.validateParams(n,i,a,s,o)}case g.publicKey.elgamal:{let{p:n,g:i,y:a}=e,{x:s}=r;return Rt.elgamal.validateParams(n,i,a,s)}case g.publicKey.ecdsa:case g.publicKey.ecdh:{let n=Rt.elliptic[g.read(g.publicKey,t)],{oid:i,Q:a}=e,{d:s}=r;return n.validateParams(i,a,s)}case g.publicKey.eddsa:{let{oid:n,Q:i}=e,{seed:a}=r;return Rt.elliptic.eddsa.validateParams(n,i,a)}default:throw new Error("Invalid public key algorithm.")}}async function Tg(t){let e=await xn(Lr[t].blockSize),r=new Uint8Array([e[e.length-2],e[e.length-1]]);return R.concat([e,r])}function Ig(t){return xn(Lr[t].keySize)}var Dg=Object.freeze({__proto__:null,publicKeyEncrypt:kg,publicKeyDecrypt:Sg,parsePublicKeyParams:Eg,parsePrivateKeyParams:Cg,parseEncSessionKeyParams:Pg,serializeParams:Rg,generateParams:Mg,validateParams:Bg,getPrefixRandom:Tg,generateSessionKey:Ig}),Re={cipher:Lr,hash:Uo,cfb:Yy,gcm:Ga,experimentalGcm:Ga,eax:Y0,ocb:G0,publicKey:Rt,signature:Ag,random:am,pkcs1:um,pkcs5:ng,aes_kw:rg};Object.assign(Re,Dg);var Z0=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function U2(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)}var z2={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray){t.set(e.subarray(r,r+n),i);return}for(let a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){let e,r,n,i,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;let s=new Uint8Array(n);for(i=0,e=0,r=t.length;e<r;e++)a=t[e],s.set(a,i),i+=a.length;return s}},F2={arraySet:function(t,e,r,n,i){for(let a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}},gn=Z0?Uint8Array:Array,Cr=Z0?Uint16Array:Array,Jo=Z0?Int32Array:Array,O2=Z0?z2.flattenChunks:F2.flattenChunks,vn=Z0?z2.arraySet:F2.arraySet,wn=0,Kg=1,X0=2,Ug=3,Lt=4,Pd=5,Qo=6,xt=0,Zn=1,N2=2,It=-2,Rd=-3,J0=-5,q2=-1,zg=1,ec=2,Fg=3,L2=4,Og=0,j2=0,$2=1,H2=2,Ja=8;function Qa(t){let e=t.length;for(;--e>=0;)t[e]=0}var Ng=0,W2=1,qg=2,Lg=3,jg=258,Md=29,Q0=256,es=Q0+1+Md,e0=30,Bd=19,Y2=2*es+1,xa=15,Td=16,$g=7,Id=256,G2=16,V2=17,Z2=18,Dd=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tc=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Hg=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X2=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Wg=512,Xn=new Array((es+2)*2);Qa(Xn);var ts=new Array(e0*2);Qa(ts);var rs=new Array(Wg);Qa(rs);var ns=new Array(jg-Lg+1);Qa(ns);var Kd=new Array(Md);Qa(Kd);var rc=new Array(e0);Qa(rc);function Ud(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}var J2,Q2,eb;function zd(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function tb(t){return t<256?rs[t]:rs[256+(t>>>7)]}function is(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function xr(t,e,r){t.bi_valid>Td-r?(t.bi_buf|=e<<t.bi_valid&65535,is(t,t.bi_buf),t.bi_buf=e>>Td-t.bi_valid,t.bi_valid+=r-Td):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function _n(t,e,r){xr(t,r[e*2],r[e*2+1])}function rb(t,e){let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1}function Yg(t){t.bi_valid===16?(is(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function Gg(t,e){let r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,f=e.stat_desc.max_length,c,d,u,b,x,A,S=0;for(b=0;b<=xa;b++)t.bl_count[b]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<Y2;c++)d=t.heap[c],b=r[r[d*2+1]*2+1]+1,b>f&&(b=f,S++),r[d*2+1]=b,!(d>n)&&(t.bl_count[b]++,x=0,d>=o&&(x=s[d-o]),A=r[d*2],t.opt_len+=A*(b+x),a&&(t.static_len+=A*(i[d*2+1]+x)));if(S!==0){do{for(b=f-1;t.bl_count[b]===0;)b--;t.bl_count[b]--,t.bl_count[b+1]+=2,t.bl_count[f]--,S-=2}while(S>0);for(b=f;b!==0;b--)for(d=t.bl_count[b];d!==0;)u=t.heap[--c],!(u>n)&&(r[u*2+1]!==b&&(t.opt_len+=(b-r[u*2+1])*r[u*2],r[u*2+1]=b),d--)}}function nb(t,e,r){let n=new Array(xa+1),i=0,a,s;for(a=1;a<=xa;a++)n[a]=i=i+r[a-1]<<1;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=rb(n[o]++,o))}}function Vg(){let t,e,r,n,i,a=new Array(xa+1);for(r=0,n=0;n<Md-1;n++)for(Kd[n]=r,t=0;t<1<<Dd[n];t++)ns[r++]=n;for(ns[r-1]=n,i=0,n=0;n<16;n++)for(rc[n]=i,t=0;t<1<<tc[n];t++)rs[i++]=n;for(i>>=7;n<e0;n++)for(rc[n]=i<<7,t=0;t<1<<tc[n]-7;t++)rs[256+i++]=n;for(e=0;e<=xa;e++)a[e]=0;for(t=0;t<=143;)Xn[t*2+1]=8,t++,a[8]++;for(;t<=255;)Xn[t*2+1]=9,t++,a[9]++;for(;t<=279;)Xn[t*2+1]=7,t++,a[7]++;for(;t<=287;)Xn[t*2+1]=8,t++,a[8]++;for(nb(Xn,es+1,a),t=0;t<e0;t++)ts[t*2+1]=5,ts[t*2]=rb(t,5);J2=new Ud(Xn,Dd,Q0+1,es,xa),Q2=new Ud(ts,tc,0,e0,xa),eb=new Ud(new Array(0),Hg,0,Bd,$g)}function ib(t){let e;for(e=0;e<es;e++)t.dyn_ltree[e*2]=0;for(e=0;e<e0;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Bd;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Id*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function ab(t){t.bi_valid>8?is(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Zg(t,e,r,n){ab(t),n&&(is(t,r),is(t,~r)),vn(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function sb(t,e,r,n){let i=e*2,a=r*2;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function Fd(t,e,r){let n=t.heap[r],i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&sb(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!sb(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function ob(t,e,r){let n,i,a=0,s,o;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+a*2]<<8|t.pending_buf[t.d_buf+a*2+1],i=t.pending_buf[t.l_buf+a],a++,n===0?_n(t,i,e):(s=ns[i],_n(t,s+Q0+1,e),o=Dd[s],o!==0&&(i-=Kd[s],xr(t,i,o)),n--,s=tb(n),_n(t,s,r),o=tc[s],o!==0&&(n-=rc[s],xr(t,n,o)));while(a<t.last_lit);_n(t,Id,e)}function Od(t,e){let r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems,s,o,f=-1,c;for(t.heap_len=0,t.heap_max=Y2,s=0;s<a;s++)r[s*2]!==0?(t.heap[++t.heap_len]=f=s,t.depth[s]=0):r[s*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=f<2?++f:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[c*2+1]);for(e.max_code=f,s=t.heap_len>>1;s>=1;s--)Fd(t,r,s);c=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Fd(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,r[c*2]=r[s*2]+r[o*2],t.depth[c]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,r[s*2+1]=r[o*2+1]=c,t.heap[1]=c++,Fd(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Gg(t,e),nb(r,f,t.bl_count)}function cb(t,e,r){let n,i=-1,a,s=e[0*2+1],o=0,f=7,c=4;for(s===0&&(f=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=e[(n+1)*2+1],!(++o<f&&a===s)&&(o<c?t.bl_tree[a*2]+=o:a!==0?(a!==i&&t.bl_tree[a*2]++,t.bl_tree[G2*2]++):o<=10?t.bl_tree[V2*2]++:t.bl_tree[Z2*2]++,o=0,i=a,s===0?(f=138,c=3):a===s?(f=6,c=3):(f=7,c=4))}function fb(t,e,r){let n,i=-1,a,s=e[0*2+1],o=0,f=7,c=4;for(s===0&&(f=138,c=3),n=0;n<=r;n++)if(a=s,s=e[(n+1)*2+1],!(++o<f&&a===s)){if(o<c)do _n(t,a,t.bl_tree);while(--o!=0);else a!==0?(a!==i&&(_n(t,a,t.bl_tree),o--),_n(t,G2,t.bl_tree),xr(t,o-3,2)):o<=10?(_n(t,V2,t.bl_tree),xr(t,o-3,3)):(_n(t,Z2,t.bl_tree),xr(t,o-11,7));o=0,i=a,s===0?(f=138,c=3):a===s?(f=6,c=3):(f=7,c=4)}}function Xg(t){let e;for(cb(t,t.dyn_ltree,t.l_desc.max_code),cb(t,t.dyn_dtree,t.d_desc.max_code),Od(t,t.bl_desc),e=Bd-1;e>=3&&t.bl_tree[X2[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function Jg(t,e,r,n){let i;for(xr(t,e-257,5),xr(t,r-1,5),xr(t,n-4,4),i=0;i<n;i++)xr(t,t.bl_tree[X2[i]*2+1],3);fb(t,t.dyn_ltree,e-1),fb(t,t.dyn_dtree,r-1)}function Qg(t){let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return j2;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return $2;for(r=32;r<Q0;r++)if(t.dyn_ltree[r*2]!==0)return $2;return j2}var db=!1;function e7(t){db||(Vg(),db=!0),t.l_desc=new zd(t.dyn_ltree,J2),t.d_desc=new zd(t.dyn_dtree,Q2),t.bl_desc=new zd(t.bl_tree,eb),t.bi_buf=0,t.bi_valid=0,ib(t)}function ub(t,e,r,n){xr(t,(Ng<<1)+(n?1:0),3),Zg(t,e,r,!0)}function t7(t){xr(t,W2<<1,3),_n(t,Id,Xn),Yg(t)}function r7(t,e,r,n){let i,a,s=0;t.level>0?(t.strm.data_type===H2&&(t.strm.data_type=Qg(t)),Od(t,t.l_desc),Od(t,t.d_desc),s=Xg(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?ub(t,e,r,n):t.strategy===L2||a===i?(xr(t,(W2<<1)+(n?1:0),3),ob(t,Xn,ts)):(xr(t,(qg<<1)+(n?1:0),3),Jg(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),ob(t,t.dyn_ltree,t.dyn_dtree)),ib(t),n&&ab(t)}function Ci(t,e,r){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(ns[r]+Q0+1)*2]++,t.dyn_dtree[tb(e)*2]++),t.last_lit===t.lit_bufsize-1}function as(t,e,r,n){let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}function n7(){let t,e=[];for(let r=0;r<256;r++){t=r;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var i7=n7();function jt(t,e,r,n){let i=i7,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1}var ss={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},a7=9,s7=29,o7=256,Nd=o7+1+s7,c7=30,f7=19,d7=2*Nd+1,u7=15,it=3,Pi=258,Wr=Pi+it+1,l7=32,nc=42,qd=69,ic=73,ac=91,sc=103,ya=113,os=666,Ot=1,cs=2,ma=3,t0=4,h7=3;function Ri(t,e){return t.msg=ss[e],e}function lb(t){return(t<<1)-(t>4?9:0)}function Mi(t){let e=t.length;for(;--e>=0;)t[e]=0}function Bi(t){let e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(vn(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function Xt(t,e){r7(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Bi(t.strm)}function ht(t,e){t.pending_buf[t.pending++]=e}function fs(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function b7(t,e,r,n){let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,vn(e,t.input,t.next_in,i,r),t.state.wrap===1?t.adler=as(t.adler,e,i,r):t.state.wrap===2&&(t.adler=jt(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function hb(t,e){let r=t.max_chain_length,n=t.strstart,i,a,s=t.prev_length,o=t.nice_match,f=t.strstart>t.w_size-Wr?t.strstart-(t.w_size-Wr):0,c=t.window,d=t.w_mask,u=t.prev,b=t.strstart+Pi,x=c[n+s-1],A=c[n+s];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(i=e,!(c[i+s]!==A||c[i+s-1]!==x||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<b);if(a=Pi-(b-n),n=b-Pi,a>s){if(t.match_start=e,s=a,a>=o)break;x=c[n+s-1],A=c[n+s]}}while((e=u[e&d])>f&&--r!=0);return s<=t.lookahead?s:t.lookahead}function ga(t){let e=t.w_size,r,n,i,a,s;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Wr)){vn(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);a+=e}if(t.strm.avail_in===0)break;if(n=b7(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=it)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+it-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<it)););}while(t.lookahead<Wr&&t.strm.avail_in!==0)}function p7(t,e){let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ga(t),t.lookahead===0&&e===wn)return Ot;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;let n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Xt(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Wr&&(Xt(t,!1),t.strm.avail_out===0))return Ot}return t.insert=0,e===Lt?(Xt(t,!0),t.strm.avail_out===0?ma:t0):(t.strstart>t.block_start&&(Xt(t,!1),t.strm.avail_out===0),Ot)}function Ld(t,e){let r,n;for(;;){if(t.lookahead<Wr){if(ga(t),t.lookahead<Wr&&e===wn)return Ot;if(t.lookahead===0)break}if(r=0,t.lookahead>=it&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+it-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Wr&&(t.match_length=hb(t,r)),t.match_length>=it)if(n=Ci(t,t.strstart-t.match_start,t.match_length-it),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=it){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+it-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=Ci(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Xt(t,!1),t.strm.avail_out===0))return Ot}return t.insert=t.strstart<it-1?t.strstart:it-1,e===Lt?(Xt(t,!0),t.strm.avail_out===0?ma:t0):t.last_lit&&(Xt(t,!1),t.strm.avail_out===0)?Ot:cs}function r0(t,e){let r,n,i;for(;;){if(t.lookahead<Wr){if(ga(t),t.lookahead<Wr&&e===wn)return Ot;if(t.lookahead===0)break}if(r=0,t.lookahead>=it&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+it-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=it-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Wr&&(t.match_length=hb(t,r),t.match_length<=5&&(t.strategy===zg||t.match_length===it&&t.strstart-t.match_start>4096)&&(t.match_length=it-1)),t.prev_length>=it&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-it,n=Ci(t,t.strstart-1-t.prev_match,t.prev_length-it),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+it-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=it-1,t.strstart++,n&&(Xt(t,!1),t.strm.avail_out===0))return Ot}else if(t.match_available){if(n=Ci(t,0,t.window[t.strstart-1]),n&&Xt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Ot}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Ci(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<it-1?t.strstart:it-1,e===Lt?(Xt(t,!0),t.strm.avail_out===0?ma:t0):t.last_lit&&(Xt(t,!1),t.strm.avail_out===0)?Ot:cs}function x7(t,e){let r,n,i,a,s=t.window;for(;;){if(t.lookahead<=Pi){if(ga(t),t.lookahead<=Pi&&e===wn)return Ot;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=it&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=t.strstart+Pi;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=Pi-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=it?(r=Ci(t,1,t.match_length-it),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Ci(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Xt(t,!1),t.strm.avail_out===0))return Ot}return t.insert=0,e===Lt?(Xt(t,!0),t.strm.avail_out===0?ma:t0):t.last_lit&&(Xt(t,!1),t.strm.avail_out===0)?Ot:cs}function y7(t,e){let r;for(;;){if(t.lookahead===0&&(ga(t),t.lookahead===0)){if(e===wn)return Ot;break}if(t.match_length=0,r=Ci(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Xt(t,!1),t.strm.avail_out===0))return Ot}return t.insert=0,e===Lt?(Xt(t,!0),t.strm.avail_out===0?ma:t0):t.last_lit&&(Xt(t,!1),t.strm.avail_out===0)?Ot:cs}var Yr=class{constructor(e,r,n,i,a){this.good_length=e,this.max_lazy=r,this.nice_length=n,this.max_chain=i,this.func=a}},ds=[new Yr(0,0,0,0,p7),new Yr(4,4,8,4,Ld),new Yr(4,5,16,8,Ld),new Yr(4,6,32,32,Ld),new Yr(4,4,16,16,r0),new Yr(8,16,32,32,r0),new Yr(8,16,128,128,r0),new Yr(8,32,128,256,r0),new Yr(32,128,258,1024,r0),new Yr(32,258,258,4096,r0)];function m7(t){t.window_size=2*t.w_size,Mi(t.head),t.max_lazy_match=ds[t.level].max_lazy,t.good_match=ds[t.level].good_length,t.nice_match=ds[t.level].nice_length,t.max_chain_length=ds[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=it-1,t.match_available=0,t.ins_h=0}var bb=class{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ja,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Cr(d7*2),this.dyn_dtree=new Cr((2*c7+1)*2),this.bl_tree=new Cr((2*f7+1)*2),Mi(this.dyn_ltree),Mi(this.dyn_dtree),Mi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Cr(u7+1),this.heap=new Cr(2*Nd+1),Mi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Cr(2*Nd+1),Mi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}};function g7(t){let e;return!t||!t.state?Ri(t,It):(t.total_in=t.total_out=0,t.data_type=H2,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?nc:ya,t.adler=e.wrap===2?0:1,e.last_flush=wn,e7(e),xt)}function v7(t){let e=g7(t);return e===xt&&m7(t.state),e}function w7(t,e){return!t||!t.state||t.state.wrap!==2?It:(t.state.gzhead=e,xt)}function _7(t,e,r,n,i,a){if(!t)return It;let s=1;if(e===q2&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>a7||r!==Ja||n<8||n>15||e<0||e>9||a<0||a>L2)return Ri(t,It);n===8&&(n=9);let o=new bb;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+it-1)/it),o.window=new gn(o.w_size*2),o.head=new Cr(o.hash_size),o.prev=new Cr(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new gn(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=e,o.strategy=a,o.method=r,v7(t)}function A7(t,e){let r,n,i,a;if(!t||!t.state||e>Pd||e<0)return t?Ri(t,It):It;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===os&&e!==Lt)return Ri(t,t.avail_out===0?J0:It);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===nc)if(n.wrap===2)t.adler=0,ht(n,31),ht(n,139),ht(n,8),n.gzhead?(ht(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ht(n,n.gzhead.time&255),ht(n,n.gzhead.time>>8&255),ht(n,n.gzhead.time>>16&255),ht(n,n.gzhead.time>>24&255),ht(n,n.level===9?2:n.strategy>=ec||n.level<2?4:0),ht(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(ht(n,n.gzhead.extra.length&255),ht(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=jt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=qd):(ht(n,0),ht(n,0),ht(n,0),ht(n,0),ht(n,0),ht(n,n.level===9?2:n.strategy>=ec||n.level<2?4:0),ht(n,h7),n.status=ya);else{let o=Ja+(n.w_bits-8<<4)<<8,f=-1;n.strategy>=ec||n.level<2?f=0:n.level<6?f=1:n.level===6?f=2:f=3,o|=f<<6,n.strstart!==0&&(o|=l7),o+=31-o%31,n.status=ya,fs(n,o),n.strstart!==0&&(fs(n,t.adler>>>16),fs(n,t.adler&65535)),t.adler=1}if(n.status===qd)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=jt(t.adler,n.pending_buf,n.pending-i,i)),Bi(t),i=n.pending,n.pending===n.pending_buf_size));)ht(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=jt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=ic)}else n.status=ic;if(n.status===ic)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=jt(t.adler,n.pending_buf,n.pending-i,i)),Bi(t),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}n.gzindex<n.gzhead.name.length?a=n.gzhead.name.charCodeAt(n.gzindex++)&255:a=0,ht(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=jt(t.adler,n.pending_buf,n.pending-i,i)),a===0&&(n.gzindex=0,n.status=ac)}else n.status=ac;if(n.status===ac)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=jt(t.adler,n.pending_buf,n.pending-i,i)),Bi(t),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}n.gzindex<n.gzhead.comment.length?a=n.gzhead.comment.charCodeAt(n.gzindex++)&255:a=0,ht(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=jt(t.adler,n.pending_buf,n.pending-i,i)),a===0&&(n.status=sc)}else n.status=sc;if(n.status===sc&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Bi(t),n.pending+2<=n.pending_buf_size&&(ht(n,t.adler&255),ht(n,t.adler>>8&255),t.adler=0,n.status=ya)):n.status=ya),n.pending!==0){if(Bi(t),t.avail_out===0)return n.last_flush=-1,xt}else if(t.avail_in===0&&lb(e)<=lb(r)&&e!==Lt)return Ri(t,J0);if(n.status===os&&t.avail_in!==0)return Ri(t,J0);if(t.avail_in!==0||n.lookahead!==0||e!==wn&&n.status!==os){var s=n.strategy===ec?y7(n,e):n.strategy===Fg?x7(n,e):ds[n.level].func(n,e);if((s===ma||s===t0)&&(n.status=os),s===Ot||s===ma)return t.avail_out===0&&(n.last_flush=-1),xt;if(s===cs&&(e===Kg?t7(n):e!==Pd&&(ub(n,0,0,!1),e===Ug&&(Mi(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Bi(t),t.avail_out===0))return n.last_flush=-1,xt}return e!==Lt?xt:n.wrap<=0?Zn:(n.wrap===2?(ht(n,t.adler&255),ht(n,t.adler>>8&255),ht(n,t.adler>>16&255),ht(n,t.adler>>24&255),ht(n,t.total_in&255),ht(n,t.total_in>>8&255),ht(n,t.total_in>>16&255),ht(n,t.total_in>>24&255)):(fs(n,t.adler>>>16),fs(n,t.adler&65535)),Bi(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?xt:Zn)}function k7(t){let e;return!t||!t.state?It:(e=t.state.status,e!==nc&&e!==qd&&e!==ic&&e!==ac&&e!==sc&&e!==ya&&e!==os?Ri(t,It):(t.state=null,e===ya?Ri(t,Rd):xt))}function S7(t,e){let r=e.length,n,i,a,s,o,f,c,d;if(!t||!t.state||(n=t.state,s=n.wrap,s===2||s===1&&n.status!==nc||n.lookahead))return It;for(s===1&&(t.adler=as(t.adler,e,r,0)),n.wrap=0,r>=n.w_size&&(s===0&&(Mi(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new gn(n.w_size),vn(d,e,r-n.w_size,n.w_size,0),e=d,r=n.w_size),o=t.avail_in,f=t.next_in,c=t.input,t.avail_in=r,t.next_in=0,t.input=e,ga(n);n.lookahead>=it;){i=n.strstart,a=n.lookahead-(it-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+it-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--a);n.strstart=i,n.lookahead=it-1,ga(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=it-1,n.match_available=0,t.next_in=f,t.input=c,t.avail_in=o,n.wrap=s,xt}try{String.fromCharCode.apply(null,[0])}catch(t){}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){}var jd=new gn(256);for(let t=0;t<256;t++)jd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;jd[254]=jd[254]=1;function $d(t){let e,r,n,i,a=0,s=t.length;for(n=0;n<s;n++)e=t.charCodeAt(n),(e&64512)==55296&&n+1<s&&(r=t.charCodeAt(n+1),(r&64512)==56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),a+=e<128?1:e<2048?2:e<65536?3:4;let o=new gn(a);for(i=0,n=0;i<a;n++)e=t.charCodeAt(n),(e&64512)==55296&&n+1<s&&(r=t.charCodeAt(n+1),(r&64512)==56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),e<128?o[i++]=e:e<2048?(o[i++]=192|e>>>6,o[i++]=128|e&63):e<65536?(o[i++]=224|e>>>12,o[i++]=128|e>>>6&63,o[i++]=128|e&63):(o[i++]=240|e>>>18,o[i++]=128|e>>>12&63,o[i++]=128|e>>>6&63,o[i++]=128|e&63);return o}function E7(t){let e=new gn(t.length);for(let r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e}var Hd=class{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},oc=class{constructor(e){this.options={level:q2,method:Ja,chunkSize:16384,windowBits:15,memLevel:8,strategy:Og,...e||{}};let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hd,this.strm.avail_out=0;var n=_7(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(n!==xt)throw new Error(ss[n]);if(r.header&&w7(this.strm,r.header),r.dictionary){let i;if(typeof r.dictionary=="string"?i=$d(r.dictionary):r.dictionary instanceof ArrayBuffer?i=new Uint8Array(r.dictionary):i=r.dictionary,n=S7(this.strm,i),n!==xt)throw new Error(ss[n]);this._dict_set=!0}}push(e,r){let{strm:n,options:{chunkSize:i}}=this;var a,s;if(this.ended)return!1;s=r===~~r?r:r===!0?Lt:wn,typeof e=="string"?n.input=$d(e):e instanceof ArrayBuffer?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new gn(i),n.next_out=0,n.avail_out=i),a=A7(n,s),a!==Zn&&a!==xt)return this.onEnd(a),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(s===Lt||s===X0))&&this.onData(U2(n.output,n.next_out))}while((n.avail_in>0||n.avail_out===0)&&a!==Zn);return s===Lt?(a=k7(this.strm),this.onEnd(a),this.ended=!0,a===xt):(s===X0&&(this.onEnd(xt),n.avail_out=0),!0)}onData(e){this.chunks.push(e)}onEnd(e){e===xt&&(this.result=O2(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}},cc=30,C7=12;function P7(t,e){let r,n,i,a,s,o,f,c,d,u,b=t.state;r=t.next_in;let x=t.input,A=r+(t.avail_in-5);n=t.next_out;let S=t.output,O=n-(e-t.avail_out),T=n+(t.avail_out-257),Q=b.dmax,ne=b.wsize,F=b.whave,X=b.wnext,te=b.window;i=b.hold,a=b.bits;let re=b.lencode,J=b.distcode,se=(1<<b.lenbits)-1,C=(1<<b.distbits)-1;e:do{a<15&&(i+=x[r++]<<a,a+=8,i+=x[r++]<<a,a+=8),s=re[i&se];t:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,o===0)S[n++]=s&65535;else if(o&16){f=s&65535,o&=15,o&&(a<o&&(i+=x[r++]<<a,a+=8),f+=i&(1<<o)-1,i>>>=o,a-=o),a<15&&(i+=x[r++]<<a,a+=8,i+=x[r++]<<a,a+=8),s=J[i&C];r:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,o&16){if(c=s&65535,o&=15,a<o&&(i+=x[r++]<<a,a+=8,a<o&&(i+=x[r++]<<a,a+=8)),c+=i&(1<<o)-1,c>Q){t.msg="invalid distance too far back",b.mode=cc;break e}if(i>>>=o,a-=o,o=n-O,c>o){if(o=c-o,o>F&&b.sane){t.msg="invalid distance too far back",b.mode=cc;break e}if(d=0,u=te,X===0){if(d+=ne-o,o<f){f-=o;do S[n++]=te[d++];while(--o);d=n-c,u=S}}else if(X<o){if(d+=ne+X-o,o-=X,o<f){f-=o;do S[n++]=te[d++];while(--o);if(d=0,X<f){o=X,f-=o;do S[n++]=te[d++];while(--o);d=n-c,u=S}}}else if(d+=X-o,o<f){f-=o;do S[n++]=te[d++];while(--o);d=n-c,u=S}for(;f>2;)S[n++]=u[d++],S[n++]=u[d++],S[n++]=u[d++],f-=3;f&&(S[n++]=u[d++],f>1&&(S[n++]=u[d++]))}else{d=n-c;do S[n++]=S[d++],S[n++]=S[d++],S[n++]=S[d++],f-=3;while(f>2);f&&(S[n++]=S[d++],f>1&&(S[n++]=S[d++]))}}else if((o&64)==0){s=J[(s&65535)+(i&(1<<o)-1)];continue r}else{t.msg="invalid distance code",b.mode=cc;break e}break}}else if((o&64)==0){s=re[(s&65535)+(i&(1<<o)-1)];continue t}else if(o&32){b.mode=C7;break e}else{t.msg="invalid literal/length code",b.mode=cc;break e}break}}while(r<A&&n<T);f=a>>3,r-=f,a-=f<<3,i&=(1<<a)-1,t.next_in=r,t.next_out=n,t.avail_in=r<A?5+(A-r):5-(r-A),t.avail_out=n<T?257+(T-n):257-(n-T),b.hold=i,b.bits=a}var n0=15,pb=852,xb=592,yb=0,Wd=1,mb=2,R7=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],M7=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],B7=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T7=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function us(t,e,r,n,i,a,s,o){let f=o.bits,c=0,d=0,u=0,b=0,x=0,A=0,S=0,O=0,T=0,Q=0,ne,F,X,te,re=null,J=0,se,C=new Cr(n0+1),l=new Cr(n0+1),m=null,y=0,I,N,Z;for(c=0;c<=n0;c++)C[c]=0;for(d=0;d<n;d++)C[e[r+d]]++;for(x=f,b=n0;b>=1&&C[b]===0;b--);if(x>b&&(x=b),b===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<b&&C[u]===0;u++);for(x<u&&(x=u),O=1,c=1;c<=n0;c++)if(O<<=1,O-=C[c],O<0)return-1;if(O>0&&(t===yb||b!==1))return-1;for(l[1]=0,c=1;c<n0;c++)l[c+1]=l[c]+C[c];for(d=0;d<n;d++)e[r+d]!==0&&(s[l[e[r+d]]++]=d);t===yb?(re=m=s,se=19):t===Wd?(re=R7,J-=257,m=M7,y-=257,se=256):(re=B7,m=T7,se=-1),Q=0,d=0,c=u,te=a,A=x,S=0,X=-1,T=1<<x;let B=T-1;if(t===Wd&&T>pb||t===mb&&T>xb)return 1;for(;;){I=c-S,s[d]<se?(N=0,Z=s[d]):s[d]>se?(N=m[y+s[d]],Z=re[J+s[d]]):(N=32+64,Z=0),ne=1<<c-S,F=1<<A,u=F;do F-=ne,i[te+(Q>>S)+F]=I<<24|N<<16|Z|0;while(F!==0);for(ne=1<<c-1;Q&ne;)ne>>=1;if(ne!==0?(Q&=ne-1,Q+=ne):Q=0,d++,--C[c]==0){if(c===b)break;c=e[r+s[d]]}if(c>x&&(Q&B)!==X){for(S===0&&(S=x),te+=u,A=c-S,O=1<<A;A+S<b&&(O-=C[A+S],!(O<=0));)A++,O<<=1;if(T+=1<<A,t===Wd&&T>pb||t===mb&&T>xb)return 1;X=Q&B,i[X]=x<<24|A<<16|te-a|0}}return Q!==0&&(i[te+Q]=c-S<<24|64<<16|0),o.bits=x,0}var I7=0,gb=1,vb=2,wb=1,_b=2,Ab=3,kb=4,Sb=5,Eb=6,Cb=7,Pb=8,Rb=9,Mb=10,fc=11,Jn=12,Yd=13,Bb=14,Gd=15,Tb=16,Ib=17,Db=18,Kb=19,dc=20,uc=21,Ub=22,zb=23,Fb=24,Ob=25,Nb=26,Vd=27,qb=28,Lb=29,Dt=30,D7=32,K7=852,U7=592;function jb(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}var $b=class{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Cr(320),this.work=new Cr(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}};function z7(t){let e;return!t||!t.state?It:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=wb,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Jo(K7),e.distcode=e.distdyn=new Jo(U7),e.sane=1,e.back=-1,xt)}function F7(t){let e;return!t||!t.state?It:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,z7(t))}function O7(t,e){let r,n;return!t||!t.state||(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?It:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,F7(t))}function N7(t,e){let r,n;return t?(n=new $b,t.state=n,n.window=null,r=O7(t,e),r!==xt&&(t.state=null),r):It}var Hb=!0,Zd,Xd;function q7(t){if(Hb){let e;for(Zd=new Jo(512),Xd=new Jo(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(us(gb,t.lens,0,288,Zd,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;us(vb,t.lens,0,32,Xd,0,t.work,{bits:5}),Hb=!1}t.lencode=Zd,t.lenbits=9,t.distcode=Xd,t.distbits=5}function Wb(t,e,r,n){let i,a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new gn(a.wsize)),n>=a.wsize?(vn(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),vn(a.window,e,r-n,i,a.wnext),n-=i,n?(vn(a.window,e,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function L7(t,e){let r,n,i,a,s,o,f,c,d,u,b,x,A,S,O=0,T,Q,ne,F,X,te,re,J,se=new gn(4),C,l,m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return It;r=t.state,r.mode===Jn&&(r.mode=Yd),s=t.next_out,i=t.output,f=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,u=o,b=f,J=xt;e:for(;;)switch(r.mode){case wb:if(r.wrap===0){r.mode=Yd;break}for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.wrap&2&&c===35615){r.check=0,se[0]=c&255,se[1]=c>>>8&255,r.check=jt(r.check,se,2,0),c=0,d=0,r.mode=_b;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Dt;break}if((c&15)!==Ja){t.msg="unknown compression method",r.mode=Dt;break}if(c>>>=4,d-=4,re=(c&15)+8,r.wbits===0)r.wbits=re;else if(re>r.wbits){t.msg="invalid window size",r.mode=Dt;break}r.dmax=1<<re,t.adler=r.check=1,r.mode=c&512?Mb:Jn,c=0,d=0;break;case _b:for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==Ja){t.msg="unknown compression method",r.mode=Dt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Dt;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(se[0]=c&255,se[1]=c>>>8&255,r.check=jt(r.check,se,2,0)),c=0,d=0,r.mode=Ab;case Ab:for(;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&(se[0]=c&255,se[1]=c>>>8&255,se[2]=c>>>16&255,se[3]=c>>>24&255,r.check=jt(r.check,se,4,0)),c=0,d=0,r.mode=kb;case kb:for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(se[0]=c&255,se[1]=c>>>8&255,r.check=jt(r.check,se,2,0)),c=0,d=0,r.mode=Sb;case Sb:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(se[0]=c&255,se[1]=c>>>8&255,r.check=jt(r.check,se,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=Eb;case Eb:if(r.flags&1024&&(x=r.length,x>o&&(x=o),x&&(r.head&&(re=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),vn(r.head.extra,n,a,x,re)),r.flags&512&&(r.check=jt(r.check,n,x,a)),o-=x,a+=x,r.length-=x),r.length))break e;r.length=0,r.mode=Cb;case Cb:if(r.flags&2048){if(o===0)break e;x=0;do re=n[a+x++],r.head&&re&&r.length<65536&&(r.head.name+=String.fromCharCode(re));while(re&&x<o);if(r.flags&512&&(r.check=jt(r.check,n,x,a)),o-=x,a+=x,re)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Pb;case Pb:if(r.flags&4096){if(o===0)break e;x=0;do re=n[a+x++],r.head&&re&&r.length<65536&&(r.head.comment+=String.fromCharCode(re));while(re&&x<o);if(r.flags&512&&(r.check=jt(r.check,n,x,a)),o-=x,a+=x,re)break e}else r.head&&(r.head.comment=null);r.mode=Rb;case Rb:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Dt;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Jn;break;case Mb:for(;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}t.adler=r.check=jb(c),c=0,d=0,r.mode=fc;case fc:if(r.havedict===0)return t.next_out=s,t.avail_out=f,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=d,N2;t.adler=r.check=1,r.mode=Jn;case Jn:if(e===Pd||e===Qo)break e;case Yd:if(r.last){c>>>=d&7,d-=d&7,r.mode=Vd;break}for(;d<3;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=Bb;break;case 1:if(q7(r),r.mode=dc,e===Qo){c>>>=2,d-=2;break e}break;case 2:r.mode=Ib;break;case 3:t.msg="invalid block type",r.mode=Dt}c>>>=2,d-=2;break;case Bb:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if((c&65535)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Dt;break}if(r.length=c&65535,c=0,d=0,r.mode=Gd,e===Qo)break e;case Gd:r.mode=Tb;case Tb:if(x=r.length,x){if(x>o&&(x=o),x>f&&(x=f),x===0)break e;vn(i,n,a,x,s),o-=x,a+=x,f-=x,s+=x,r.length-=x;break}r.mode=Jn;break;case Ib:for(;d<14;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Dt;break}r.have=0,r.mode=Db;case Db:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.lens[m[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[m[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},J=us(I7,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,J){t.msg="invalid code lengths set",r.mode=Dt;break}r.have=0,r.mode=Kb;case Kb:for(;r.have<r.nlen+r.ndist;){for(;O=r.lencode[c&(1<<r.lenbits)-1],T=O>>>24,Q=O>>>16&255,ne=O&65535,!(T<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(ne<16)c>>>=T,d-=T,r.lens[r.have++]=ne;else{if(ne===16){for(l=T+2;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(c>>>=T,d-=T,r.have===0){t.msg="invalid bit length repeat",r.mode=Dt;break}re=r.lens[r.have-1],x=3+(c&3),c>>>=2,d-=2}else if(ne===17){for(l=T+3;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=T,d-=T,re=0,x=3+(c&7),c>>>=3,d-=3}else{for(l=T+7;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=T,d-=T,re=0,x=11+(c&127),c>>>=7,d-=7}if(r.have+x>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Dt;break}for(;x--;)r.lens[r.have++]=re}}if(r.mode===Dt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Dt;break}if(r.lenbits=9,C={bits:r.lenbits},J=us(gb,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,J){t.msg="invalid literal/lengths set",r.mode=Dt;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},J=us(vb,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,J){t.msg="invalid distances set",r.mode=Dt;break}if(r.mode=dc,e===Qo)break e;case dc:r.mode=uc;case uc:if(o>=6&&f>=258){t.next_out=s,t.avail_out=f,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=d,P7(t,b),s=t.next_out,i=t.output,f=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,r.mode===Jn&&(r.back=-1);break}for(r.back=0;O=r.lencode[c&(1<<r.lenbits)-1],T=O>>>24,Q=O>>>16&255,ne=O&65535,!(T<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(Q&&(Q&240)==0){for(F=T,X=Q,te=ne;O=r.lencode[te+((c&(1<<F+X)-1)>>F)],T=O>>>24,Q=O>>>16&255,ne=O&65535,!(F+T<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=F,d-=F,r.back+=F}if(c>>>=T,d-=T,r.back+=T,r.length=ne,Q===0){r.mode=Nb;break}if(Q&32){r.back=-1,r.mode=Jn;break}if(Q&64){t.msg="invalid literal/length code",r.mode=Dt;break}r.extra=Q&15,r.mode=Ub;case Ub:if(r.extra){for(l=r.extra;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=zb;case zb:for(;O=r.distcode[c&(1<<r.distbits)-1],T=O>>>24,Q=O>>>16&255,ne=O&65535,!(T<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if((Q&240)==0){for(F=T,X=Q,te=ne;O=r.distcode[te+((c&(1<<F+X)-1)>>F)],T=O>>>24,Q=O>>>16&255,ne=O&65535,!(F+T<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=F,d-=F,r.back+=F}if(c>>>=T,d-=T,r.back+=T,Q&64){t.msg="invalid distance code",r.mode=Dt;break}r.offset=ne,r.extra=Q&15,r.mode=Fb;case Fb:if(r.extra){for(l=r.extra;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Dt;break}r.mode=Ob;case Ob:if(f===0)break e;if(x=b-f,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Dt;break}x>r.wnext?(x-=r.wnext,A=r.wsize-x):A=r.wnext-x,x>r.length&&(x=r.length),S=r.window}else S=i,A=s-r.offset,x=r.length;x>f&&(x=f),f-=x,r.length-=x;do i[s++]=S[A++];while(--x);r.length===0&&(r.mode=uc);break;case Nb:if(f===0)break e;i[s++]=r.length,f--,r.mode=uc;break;case Vd:if(r.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[a++]<<d,d+=8}if(b-=f,t.total_out+=b,r.total+=b,b&&(t.adler=r.check=r.flags?jt(r.check,i,b,s-b):as(r.check,i,b,s-b)),b=f,(r.flags?c:jb(c))!==r.check){t.msg="incorrect data check",r.mode=Dt;break}c=0,d=0}r.mode=qb;case qb:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Dt;break}c=0,d=0}r.mode=Lb;case Lb:J=Zn;break e;case Dt:J=Rd;break e;case D7:default:return It}return t.next_out=s,t.avail_out=f,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=d,(r.wsize||b!==t.avail_out&&r.mode<Dt&&(r.mode<Vd||e!==Lt))&&Wb(t,t.output,t.next_out,b-t.avail_out),u-=t.avail_in,b-=t.avail_out,t.total_in+=u,t.total_out+=b,r.total+=b,r.wrap&&b&&(t.adler=r.check=r.flags?jt(r.check,i,b,t.next_out-b):as(r.check,i,b,t.next_out-b)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Jn?128:0)+(r.mode===dc||r.mode===Gd?256:0),(u===0&&b===0||e===Lt)&&J===xt&&(J=J0),J}function j7(t){if(!t||!t.state)return It;let e=t.state;return e.window&&(e.window=null),t.state=null,xt}function $7(t,e){let r;return!t||!t.state||(r=t.state,(r.wrap&2)==0)?It:(r.head=e,e.done=!1,xt)}function Yb(t,e){let r=e.length,n,i;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==fc)?It:n.mode===fc&&(i=1,i=as(i,e,r,0),i!==n.check)?Rd:(Wb(t,e,r,r),n.havedict=1,xt)}var Gb=class{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},Jd=class{constructor(e){this.options={chunkSize:16384,windowBits:0,...e||{}};let r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)==0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hd,this.strm.avail_out=0;let n=N7(this.strm,r.windowBits);if(n!==xt)throw new Error(ss[n]);if(this.header=new Gb,$7(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=$d(r.dictionary):r.dictionary instanceof ArrayBuffer&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=Yb(this.strm,r.dictionary),n!==xt)))throw new Error(ss[n])}push(e,r){let{strm:n,options:{chunkSize:i,dictionary:a}}=this,s,o,f=!1;if(this.ended)return!1;o=r===~~r?r:r===!0?Lt:wn,typeof e=="string"?n.input=E7(e):e instanceof ArrayBuffer?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new gn(i),n.next_out=0,n.avail_out=i),s=L7(n,wn),s===N2&&a&&(s=Yb(this.strm,a)),s===J0&&f===!0&&(s=xt,f=!1),s!==Zn&&s!==xt)return this.onEnd(s),this.ended=!0,!1;n.next_out&&(n.avail_out===0||s===Zn||n.avail_in===0&&(o===Lt||o===X0))&&this.onData(U2(n.output,n.next_out)),n.avail_in===0&&n.avail_out===0&&(f=!0)}while((n.avail_in>0||n.avail_out===0)&&s!==Zn);return s===Zn&&(o=Lt),o===Lt?(s=j7(this.strm),this.onEnd(s),this.ended=!0,s===xt):(o===X0&&(this.onEnd(xt),n.avail_out=0),!0)}onData(e){this.chunks.push(e)}onEnd(e){e===xt&&(this.result=O2(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}},Vb=[0,1,3,7,15,31,63,127,255],ls=function(t){this.stream=t,this.bitOffset=0,this.curByte=0,this.hasByte=!1};ls.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)};ls.prototype.read=function(t){for(var e=0;t>0;){this._ensureByte();var r=8-this.bitOffset;if(t>=r)e<<=r,e|=Vb[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,t-=r;else{e<<=t;var n=r-t;e|=(this.curByte&Vb[t]<<n)>>n,this.bitOffset+=t,t=0}}return e};ls.prototype.seek=function(t){var e=t%8,r=(t-e)/8;this.bitOffset=e,this.stream.seek(r),this.hasByte=!1};ls.prototype.pi=function(){var t=new Uint8Array(6),e;for(e=0;e<t.length;e++)t[e]=this.read(8);return H7(t)};function H7(t){return Array.prototype.map.call(t,e=>("00"+e.toString(16)).slice(-2)).join("")}var W7=ls,va=function(){};va.prototype.readByte=function(){throw new Error("abstract method readByte() not implemented")};va.prototype.read=function(t,e,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return n===0?-1:n;t[e++]=i,n++}return n};va.prototype.seek=function(t){throw new Error("abstract method seek() not implemented")};va.prototype.writeByte=function(t){throw new Error("abstract method readByte() not implemented")};va.prototype.write=function(t,e,r){var n;for(n=0;n<r;n++)this.writeByte(t[e++]);return r};va.prototype.flush=function(){};var hs=va,Zb=function(){var t=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),e=function(){var r=4294967295;this.getCRC=function(){return~r>>>0},this.updateCRC=function(n){r=r<<8^t[(r>>>24^n)&255]},this.updateCRCRun=function(n,i){for(;i-- >0;)r=r<<8^t[(r>>>24^n)&255]}};return e}(),lc=20,Xb=258,Jb=0,Y7=1,G7=2,V7=6,Z7=50,X7="314159265359",J7="177245385090",Qb=function(t,e){var r=t[e],n;for(n=e;n>0;n--)t[n]=t[n-1];return t[0]=r,r},Mt={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},Ti={};Ti[Mt.LAST_BLOCK]="Bad file checksum";Ti[Mt.NOT_BZIP_DATA]="Not bzip data";Ti[Mt.UNEXPECTED_INPUT_EOF]="Unexpected input EOF";Ti[Mt.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF";Ti[Mt.DATA_ERROR]="Data error";Ti[Mt.OUT_OF_MEMORY]="Out of memory";Ti[Mt.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var Jt=function(t,e){var r=Ti[t]||"unknown error";e&&(r+=": "+e);var n=new TypeError(r);throw n.errorCode=t,n},Ii=function(t,e){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(t,e)};Ii.prototype._init_block=function(){var t=this._get_next_block();return t?(this.blockCRC=new Zb,!0):(this.writeCount=-1,!1)};Ii.prototype._start_bunzip=function(t,e){var r=new Uint8Array(4);(t.read(r,0,4)!==4||String.fromCharCode(r[0],r[1],r[2])!=="BZh")&&Jt(Mt.NOT_BZIP_DATA,"bad magic");var n=r[3]-48;(n<1||n>9)&&Jt(Mt.NOT_BZIP_DATA,"level out of range"),this.reader=new W7(t),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=e,this.streamCRC=0};Ii.prototype._get_next_block=function(){var t,e,r,n=this.reader,i=n.pi();if(i===J7)return!1;i!==X7&&Jt(Mt.NOT_BZIP_DATA),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&Jt(Mt.OBSOLETE_INPUT);var a=n.read(24);a>this.dbufSize&&Jt(Mt.DATA_ERROR,"initial position out of bounds");var s=n.read(16),o=new Uint8Array(256),f=0;for(t=0;t<16;t++)if(s&1<<15-t){var c=t*16;for(r=n.read(16),e=0;e<16;e++)r&1<<15-e&&(o[f++]=c+e)}var d=n.read(3);(d<G7||d>V7)&&Jt(Mt.DATA_ERROR);var u=n.read(15);u===0&&Jt(Mt.DATA_ERROR);var b=new Uint8Array(256);for(t=0;t<d;t++)b[t]=t;var x=new Uint8Array(u);for(t=0;t<u;t++){for(e=0;n.read(1);e++)e>=d&&Jt(Mt.DATA_ERROR);x[t]=Qb(b,e)}var A=f+2,S=[],O;for(e=0;e<d;e++){var T=new Uint8Array(A),Q=new Uint16Array(lc+1);for(s=n.read(5),t=0;t<A;t++){for(;(s<1||s>lc)&&Jt(Mt.DATA_ERROR),!!n.read(1);)n.read(1)?s--:s++;T[t]=s}var ne,F;for(ne=F=T[0],t=1;t<A;t++)T[t]>F?F=T[t]:T[t]<ne&&(ne=T[t]);O={},S.push(O),O.permute=new Uint16Array(Xb),O.limit=new Uint32Array(lc+2),O.base=new Uint32Array(lc+1),O.minLen=ne,O.maxLen=F;var X=0;for(t=ne;t<=F;t++)for(Q[t]=O.limit[t]=0,s=0;s<A;s++)T[s]===t&&(O.permute[X++]=s);for(t=0;t<A;t++)Q[T[t]]++;for(X=s=0,t=ne;t<F;t++)X+=Q[t],O.limit[t]=X-1,X<<=1,s+=Q[t],O.base[t+1]=X-s;O.limit[F+1]=Number.MAX_VALUE,O.limit[F]=X+Q[F]-1,O.base[ne]=0}var te=new Uint32Array(256);for(t=0;t<256;t++)b[t]=t;var re=0,J=0,se=0,C,l=this.dbuf=new Uint32Array(this.dbufSize);for(A=0;;){for(A--||(A=Z7-1,se>=u&&Jt(Mt.DATA_ERROR),O=S[x[se++]]),t=O.minLen,e=n.read(t);t>O.maxLen&&Jt(Mt.DATA_ERROR),!(e<=O.limit[t]);t++)e=e<<1|n.read(1);e-=O.base[t],(e<0||e>=Xb)&&Jt(Mt.DATA_ERROR);var m=O.permute[e];if(m===Jb||m===Y7){re||(re=1,s=0),m===Jb?s+=re:s+=2*re,re<<=1;continue}if(re)for(re=0,J+s>this.dbufSize&&Jt(Mt.DATA_ERROR),C=o[b[0]],te[C]+=s;s--;)l[J++]=C;if(m>f)break;J>=this.dbufSize&&Jt(Mt.DATA_ERROR),t=m-1,C=Qb(b,t),C=o[C],te[C]++,l[J++]=C}for((a<0||a>=J)&&Jt(Mt.DATA_ERROR),e=0,t=0;t<256;t++)r=e+te[t],te[t]=e,e=r;for(t=0;t<J;t++)C=l[t]&255,l[te[C]]|=t<<8,te[C]++;var y=0,I=0,N=0;return J&&(y=l[a],I=y&255,y>>=8,N=-1),this.writePos=y,this.writeCurrent=I,this.writeCount=J,this.writeRun=N,!0};Ii.prototype._read_bunzip=function(t,e){var r,n,i;if(this.writeCount<0)return 0;var a=this.dbuf,s=this.writePos,o=this.writeCurrent,f=this.writeCount;this.outputsize;for(var c=this.writeRun;f;){for(f--,n=o,s=a[s],o=s&255,s>>=8,c++==3?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(c=0)}return this.writeCount=f,this.blockCRC.getCRC()!==this.targetBlockCRC&&Jt(Mt.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var Qd=function(t){if("readByte"in t)return t;var e=new hs;return e.pos=0,e.readByte=function(){return t[this.pos++]},e.seek=function(r){this.pos=r},e.eof=function(){return this.pos>=t.length},e},ep=function(t){var e=new hs,r=!0;if(t)if(typeof t=="number")e.buffer=new Uint8Array(t),r=!1;else{if("writeByte"in t)return t;e.buffer=t,r=!1}else e.buffer=new Uint8Array(16384);return e.pos=0,e.writeByte=function(n){if(r&&this.pos>=this.buffer.length){var i=new Uint8Array(this.buffer.length*2);i.set(this.buffer),this.buffer=i}this.buffer[this.pos++]=n},e.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var n=new Uint8Array(this.pos);n.set(this.buffer.subarray(0,this.pos)),this.buffer=n}return this.buffer},e._coerced=!0,e},Q7=function(t,e,r){for(var n=Qd(t),i=ep(e),a=new Ii(n,i);!("eof"in n&&n.eof());)if(a._init_block())a._read_bunzip();else{var s=a.reader.read(32)>>>0;if(s!==a.streamCRC&&Jt(Mt.DATA_ERROR,"Bad stream CRC (got "+a.streamCRC.toString(16)+" expected "+s.toString(16)+")"),r&&"eof"in n&&!n.eof())a._start_bunzip(n,i);else break}if("getBuffer"in i)return i.getBuffer()},e9=function(t,e,r){var n=Qd(t),i=ep(r),a=new Ii(n,i);a.reader.seek(e);var s=a._get_next_block();if(s&&(a.blockCRC=new Zb,a.writeCopies=0,a._read_bunzip()),"getBuffer"in i)return i.getBuffer()},t9=function(t,e,r){var n=new hs;n.delegate=Qd(t),n.pos=0,n.readByte=function(){return this.pos++,this.delegate.readByte()},n.delegate.eof&&(n.eof=n.delegate.eof.bind(n.delegate));var i=new hs;i.pos=0,i.writeByte=function(){this.pos++};for(var a=new Ii(n,i),s=a.dbufSize;!("eof"in n&&n.eof());){var o=n.pos*8+a.reader.bitOffset;if(a.reader.hasByte&&(o-=8),a._init_block()){var f=i.pos;a._read_bunzip(),e(o,i.pos-f)}else if(a.reader.read(32),r&&"eof"in n&&!n.eof())a._start_bunzip(n,i),console.assert(a.dbufSize===s,"shouldn't change block size within multistream file");else break}},r9={Bunzip:Ii,Stream:hs,Err:Mt,decode:Q7,decodeBlock:e9,table:t9},tp=r9.decode,i0=class{constructor(e=Ce){this.tag=g.packet.compressedData,this.packets=null,this.algorithm=g.read(g.compression,e.compression),this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,r,n){await pe.parse(e,async i=>{this.algorithm=g.read(g.compression,await i.readByte()),this.compressed=i.remainder(),await this.decompress(n)})}write(){return this.compressed===null&&this.compress(),R.concat([new Uint8Array([g.write(g.compression,this.algorithm)]),this.compressed])}async decompress(e){if(!np[this.algorithm])throw new Error(this.algorithm+" decompression not supported");await this.packets.read(np[this.algorithm](this.compressed),{LiteralDataPacket:Di,OnePassSignaturePacket:Gr,SignaturePacket:$t},e)}compress(){if(!rp[this.algorithm])throw new Error(this.algorithm+" compression not supported");this.compressed=rp[this.algorithm](this.packets.write(),this.deflateLevel)}},a0=R.getNodeZlib();function ip(t){return t}function hc(t,e={}){return function(r){return pe.nodeToWeb(pe.webToNode(r).pipe(t(e)))}}function bc(t,e={}){return function(r){let n=new t(e);return pe.transform(r,i=>{if(i.length)return n.push(i,X0),n.result},()=>{if(t===oc)return n.push([],Lt),n.result})}}function ap(t){return function(e){return pe.fromAsync(async()=>t(await pe.readToEnd(e)))}}var rp=a0?{zip:(t,e)=>hc(a0.createDeflateRaw,{level:e})(t),zlib:(t,e)=>hc(a0.createDeflate,{level:e})(t)}:{zip:(t,e)=>bc(oc,{raw:!0,level:e})(t),zlib:(t,e)=>bc(oc,{level:e})(t)},np=a0?{uncompressed:ip,zip:hc(a0.createInflateRaw),zlib:hc(a0.createInflate),bzip2:ap(tp)}:{uncompressed:ip,zip:bc(Jd,{raw:!0}),zlib:bc(Jd),bzip2:ap(tp)},eu=1,tu=class{constructor(){this.tag=g.packet.symEncryptedIntegrityProtectedData,this.version=eu,this.encrypted=null,this.modification=!1,this.packets=null}async read(e){await pe.parse(e,async r=>{if(await r.readByte()!==eu)throw new Error("Invalid packet version.");this.encrypted=r.remainder()})}write(){return R.concat([new Uint8Array([eu]),this.encrypted])}async encrypt(e,r,n,i=Ce){let a=this.packets.write();n||(a=await pe.readToEnd(a));let s=await Re.getPrefixRandom(e),o=new Uint8Array([211,20]),f=R.concat([s,a,o]),c=await Re.hash.sha1(pe.passiveClone(f)),d=R.concat([f,c]);return this.encrypted=await Re.cfb.encrypt(e,r,d,new Uint8Array(Re.cipher[e].blockSize),i),!0}async decrypt(e,r,n,i=Ce){let a=pe.clone(this.encrypted);n||(a=await pe.readToEnd(a));let s=await Re.cfb.decrypt(e,r,a,new Uint8Array(Re.cipher[e].blockSize)),o=pe.slice(pe.passiveClone(s),-20),f=pe.slice(s,0,-20),c=Promise.all([pe.readToEnd(await Re.hash.sha1(pe.passiveClone(f))),pe.readToEnd(o)]).then(([b,x])=>{if(!R.equalsUint8Array(b,x))throw new Error("Modification detected.");return new Uint8Array}),d=pe.slice(f,Re.cipher[e].blockSize+2),u=pe.slice(d,0,-2);return u=pe.concat([u,pe.fromAsync(()=>c)]),(!R.isStream(a)||!i.allowUnauthenticatedStream)&&(u=await pe.readToEnd(u)),await this.packets.read(u,{LiteralDataPacket:Di,CompressedDataPacket:i0,OnePassSignaturePacket:Gr,SignaturePacket:$t},n),!0}},sp=1,ru=class{constructor(){this.tag=g.packet.AEADEncryptedData,this.version=sp,this.cipherAlgo=null,this.aeadAlgorithm="eax",this.aeadAlgo=null,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await pe.parse(e,async r=>{if(await r.readByte()!==sp)throw new Error("Invalid packet version.");this.cipherAlgo=await r.readByte(),this.aeadAlgo=await r.readByte(),this.chunkSizeByte=await r.readByte();let n=Re[g.read(g.aead,this.aeadAlgo)];this.iv=await r.readBytes(n.ivLength),this.encrypted=r.remainder()})}write(){return R.concat([new Uint8Array([this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,r,n){await this.packets.read(await this.crypt("decrypt",r,pe.clone(this.encrypted),n),{LiteralDataPacket:Di,CompressedDataPacket:i0,OnePassSignaturePacket:Gr,SignaturePacket:$t},n)}async encrypt(e,r,n,i=Ce){this.cipherAlgo=g.write(g.symmetric,e),this.aeadAlgo=g.write(g.aead,this.aeadAlgorithm);let a=Re[g.read(g.aead,this.aeadAlgo)];this.iv=await Re.random.getRandomBytes(a.ivLength),this.chunkSizeByte=i.aeadChunkSizeByte;let s=this.packets.write();this.encrypted=await this.crypt("encrypt",r,s,n)}async crypt(e,r,n,i){let a=g.read(g.symmetric,this.cipherAlgo),s=Re[g.read(g.aead,this.aeadAlgo)],o=await s(a,r),f=e==="decrypt"?s.tagLength:0,c=e==="encrypt"?s.tagLength:0,d=2**(this.chunkSizeByte+6)+f,u=new ArrayBuffer(21),b=new Uint8Array(u,0,13),x=new Uint8Array(u),A=new DataView(u),S=new Uint8Array(u,5,8);b.set([192|this.tag,this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte],0);let O=0,T=Promise.resolve(),Q=0,ne=0,F=this.iv;return pe.transformPair(n,async(X,te)=>{let re=pe.getReader(X),J=new pe.TransformStream({},{highWaterMark:i?R.getHardwareConcurrency()*2**(this.chunkSizeByte+6):Infinity,size:C=>C.length});pe.pipe(J.readable,te);let se=pe.getWriter(J.writable);try{for(;;){let C=await re.readBytes(d+f)||new Uint8Array,l=C.subarray(C.length-f);C=C.subarray(0,C.length-f);let m,y;if(!O||C.length?(re.unshift(l),m=o[e](C,s.getNonce(F,S),b),ne+=C.length-f+c):(A.setInt32(13+4,Q),m=o[e](l,s.getNonce(F,S),x),ne+=c,y=!0),Q+=C.length-f,T=T.then(()=>m).then(async I=>{await se.ready,await se.write(I),ne-=I.length}).catch(I=>se.abort(I)),(y||ne>se.desiredSize)&&await T,!y)A.setInt32(5+4,++O);else{await se.close();break}}}catch(C){await se.abort(C)}})}},nu=class{constructor(){this.tag=g.packet.publicKeyEncryptedSessionKey,this.version=3,this.publicKeyId=new Fn,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(e){this.version=e[0],this.publicKeyId.read(e.subarray(1,e.length)),this.publicKeyAlgorithm=g.read(g.publicKey,e[9]);let r=g.write(g.publicKey,this.publicKeyAlgorithm);this.encrypted=Re.parseEncSessionKeyParams(r,e.subarray(10))}write(){let e=g.write(g.publicKey,this.publicKeyAlgorithm),r=[new Uint8Array([this.version]),this.publicKeyId.write(),new Uint8Array([g.write(g.publicKey,this.publicKeyAlgorithm)]),Re.serializeParams(e,this.encrypted)];return R.concatUint8Array(r)}async encrypt(e){let r=R.concatUint8Array([new Uint8Array([g.write(g.symmetric,this.sessionKeyAlgorithm)]),this.sessionKey,R.writeChecksum(this.sessionKey)]),n=g.write(g.publicKey,this.publicKeyAlgorithm);return this.encrypted=await Re.publicKeyEncrypt(n,e.publicParams,r,e.getFingerprintBytes()),!0}async decrypt(e){let r=g.write(g.publicKey,this.publicKeyAlgorithm),n=g.write(g.publicKey,e.algorithm);if(r!==n)throw new Error("Decryption error");let i=await Re.publicKeyDecrypt(r,e.publicParams,e.privateParams,this.encrypted,e.getFingerprintBytes()),a=i.subarray(i.length-2),s=i.subarray(1,i.length-2);if(R.equalsUint8Array(a,R.writeChecksum(s)))this.sessionKey=s,this.sessionKeyAlgorithm=g.read(g.symmetric,i[0]);else throw new Error("Decryption error");return!0}},s0=class{constructor(e=Ce){this.algorithm="sha256",this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}get_count(){let e=6;return 16+(this.c&15)<<(this.c>>4)+e}read(e){let r=0;switch(this.type=g.read(g.s2k,e[r++]),this.algorithm=e[r++],this.type!=="gnu"&&(this.algorithm=g.read(g.hash,this.algorithm)),this.type){case"simple":break;case"salted":this.salt=e.subarray(r,r+8),r+=8;break;case"iterated":this.salt=e.subarray(r,r+8),r+=8,this.c=e[r++];break;case"gnu":if(R.uint8ArrayToStr(e.subarray(r,r+3))==="GNU")if(r+=3,1e3+e[r++]===1001)this.type="gnu-dummy";else throw new Error("Unknown s2k gnu protection mode.");else throw new Error("Unknown s2k type.");break;default:throw new Error("Unknown s2k type.")}return r}write(){if(this.type==="gnu-dummy")return new Uint8Array([101,0,...R.strToUint8Array("GNU"),1]);let e=[new Uint8Array([g.write(g.s2k,this.type),g.write(g.hash,this.algorithm)])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}return R.concatUint8Array(e)}async produce_key(e,r){e=R.encodeUtf8(e);let n=g.write(g.hash,this.algorithm),i=[],a=0,s=0;for(;a<r;){let o;switch(this.type){case"simple":o=R.concatUint8Array([new Uint8Array(s),e]);break;case"salted":o=R.concatUint8Array([new Uint8Array(s),this.salt,e]);break;case"iterated":{let c=R.concatUint8Array([this.salt,e]),d=c.length,u=Math.max(this.get_count(),d);o=new Uint8Array(s+u),o.set(c,s);for(let b=s+d;b<u;b+=d,d*=2)o.copyWithin(b,s,b);break}case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}let f=await Re.hash.digest(n,o);i.push(f),a+=f.length,s++}return R.concatUint8Array(i).subarray(0,r)}},pc=class{constructor(e=Ce){this.tag=g.packet.symEncryptedSessionKey,this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm="aes256",this.aeadAlgorithm=g.read(g.aead,e.aeadMode),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let r=0;this.version=e[r++];let n=g.read(g.symmetric,e[r++]);if(this.version===5&&(this.aeadAlgorithm=g.read(g.aead,e[r++])),this.s2k=new s0,r+=this.s2k.read(e.subarray(r,e.length)),this.version===5){let i=Re[this.aeadAlgorithm];this.iv=e.subarray(r,r+=i.ivLength)}this.version===5||r<e.length?(this.encrypted=e.subarray(r,e.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n}write(){let e=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm,r;return this.version===5?r=R.concatUint8Array([new Uint8Array([this.version,g.write(g.symmetric,e),g.write(g.aead,this.aeadAlgorithm)]),this.s2k.write(),this.iv,this.encrypted]):(r=R.concatUint8Array([new Uint8Array([this.version,g.write(g.symmetric,e)]),this.s2k.write()]),this.encrypted!==null&&(r=R.concatUint8Array([r,this.encrypted]))),r}async decrypt(e){let r=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,n=Re.cipher[r].keySize,i=await this.s2k.produce_key(e,n);if(this.version===5){let a=Re[this.aeadAlgorithm],s=new Uint8Array([192|this.tag,this.version,g.write(g.symmetric,this.sessionKeyEncryptionAlgorithm),g.write(g.aead,this.aeadAlgorithm)]),o=await a(r,i);this.sessionKey=await o.decrypt(this.encrypted,this.iv,s)}else if(this.encrypted!==null){let a=await Re.cfb.decrypt(r,i,this.encrypted,new Uint8Array(Re.cipher[r].blockSize));this.sessionKeyAlgorithm=g.read(g.symmetric,a[0]),this.sessionKey=a.subarray(1,a.length)}else this.sessionKey=i}async encrypt(e,r=Ce){let n=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=n,this.s2k=new s0(r),this.s2k.salt=await Re.random.getRandomBytes(8);let i=Re.cipher[n].keySize,a=await this.s2k.produce_key(e,i);if(this.sessionKey===null&&(this.sessionKey=await Re.generateSessionKey(this.sessionKeyAlgorithm)),this.version===5){let s=Re[this.aeadAlgorithm];this.iv=await Re.random.getRandomBytes(s.ivLength);let o=new Uint8Array([192|this.tag,this.version,g.write(g.symmetric,this.sessionKeyEncryptionAlgorithm),g.write(g.aead,this.aeadAlgorithm)]),f=await s(n,a);this.encrypted=await f.encrypt(this.sessionKey,this.iv,o)}else{let s=new Uint8Array([g.write(g.symmetric,this.sessionKeyAlgorithm)]),o=R.concatUint8Array([s,this.sessionKey]);this.encrypted=await Re.cfb.encrypt(n,a,o,new Uint8Array(Re.cipher[n].blockSize),r)}}},Di=class{constructor(e=new Date){this.tag=g.packet.literalData,this.format="utf8",this.date=R.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,r="utf8"){this.format=r,this.text=e,this.data=null}getText(e=!1){return(this.text===null||R.isStream(this.text))&&(this.text=R.decodeUtf8(R.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,r){this.format=r,this.data=e,this.text=null}getBytes(e=!1){return this.data===null&&(this.data=R.canonicalizeEOL(R.encodeUtf8(this.text))),e?pe.passiveClone(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await pe.parse(e,async r=>{let n=g.read(g.literal,await r.readByte()),i=await r.readByte();this.filename=R.decodeUtf8(await r.readBytes(i)),this.date=R.readDate(await r.readBytes(4));let a=r.remainder();this.setBytes(a,n)})}writeHeader(){let e=R.encodeUtf8(this.filename),r=new Uint8Array([e.length]),n=new Uint8Array([g.write(g.literal,this.format)]),i=R.writeDate(this.date);return R.concatUint8Array([n,r,e,i])}write(){let e=this.writeHeader(),r=this.getBytes();return R.concat([e,r])}},An=class{constructor(e=new Date,r=Ce){this.tag=g.packet.publicKey,this.version=r.v5Keys?5:4,this.created=R.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyid=null}read(e){let r=0;if(this.version=e[r++],this.version===4||this.version===5){this.created=R.readDate(e.subarray(r,r+4)),r+=4,this.algorithm=g.read(g.publicKey,e[r++]);let n=g.write(g.publicKey,this.algorithm);this.version===5&&(r+=4);try{let{read:i,publicParams:a}=Re.parsePublicKeyParams(n,e.subarray(r));this.publicParams=a,r+=i}catch(i){throw new Error("Error reading MPIs")}return r}throw new Error("Version "+this.version+" of the key packet is unsupported.")}write(){let e=[];e.push(new Uint8Array([this.version])),e.push(R.writeDate(this.created));let r=g.write(g.publicKey,this.algorithm);e.push(new Uint8Array([r]));let n=Re.serializeParams(r,this.publicParams);return this.version===5&&e.push(R.writeNumber(n.length,4)),e.push(n),R.concatUint8Array(e)}writeForHash(e){let r=this.writePublicKey();return e===5?R.concatUint8Array([new Uint8Array([154]),R.writeNumber(r.length,4),r]):R.concatUint8Array([new Uint8Array([153]),R.writeNumber(r.length,2),r])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyId(){return this.keyid?this.keyid:(this.keyid=new Fn,this.version===5?this.keyid.read(R.hexToUint8Array(this.getFingerprint()).subarray(0,8)):this.version===4&&this.keyid.read(R.hexToUint8Array(this.getFingerprint()).subarray(12,20)),this.keyid)}getFingerprintBytes(){if(this.fingerprint)return this.fingerprint;let e=this.writeForHash(this.version);return this.version===5?this.fingerprint=Ha.bytes(e):this.version===4&&(this.fingerprint=Nn.bytes(e)),this.fingerprint}getFingerprint(){return R.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&R.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){let e={};e.algorithm=this.algorithm;let r=this.publicParams.n||this.publicParams.p;return r?e.bits=r.length*8:e.curve=this.publicParams.oid.getName(),e}};An.prototype.readPublicKey=An.prototype.read;An.prototype.writePublicKey=An.prototype.write;var op=class{constructor(){this.tag=g.packet.symmetricallyEncryptedData,this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,r,n,i=Ce){if(!i.allowUnauthenticatedMessages)throw new Error("Message is not authenticated.");let a=await pe.readToEnd(pe.clone(this.encrypted)),s=await Re.cfb.decrypt(e,r,a.subarray(Re.cipher[e].blockSize+2),a.subarray(2,Re.cipher[e].blockSize+2));await this.packets.read(s,{LiteralDataPacket:Di,CompressedDataPacket:i0,OnePassSignaturePacket:Gr,SignaturePacket:$t},n)}async encrypt(e,r,n,i=Ce){let a=this.packets.write(),s=await Re.getPrefixRandom(e),o=await Re.cfb.encrypt(e,r,s,new Uint8Array(Re.cipher[e].blockSize),i),f=await Re.cfb.encrypt(e,r,a,o.subarray(2),i);this.encrypted=R.concat([o,f])}};var xc=class extends An{constructor(e,r){super(e,r);this.tag=g.packet.publicSubkey}};function cp(t){let e=0,r,n=t[0];return n<192?([e]=t,r=1):n<255?(e=(t[0]-192<<8)+t[1]+192,r=2):n===255&&(e=R.readNumber(t.subarray(1,1+4)),r=5),{len:e,offset:r}}function bs(t){return t<192?new Uint8Array([t]):t>191&&t<8384?new Uint8Array([(t-192>>8)+192,t-192&255]):R.concatUint8Array([new Uint8Array([255]),R.writeNumber(t,4)])}function n9(t){if(t<0||t>30)throw new Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+t])}function fp(t){return new Uint8Array([192|t])}function dp(t,e){return R.concatUint8Array([fp(t),bs(e)])}function yc(t){return[g.packet.literalData,g.packet.compressedData,g.packet.symmetricallyEncryptedData,g.packet.symEncryptedIntegrityProtectedData,g.packet.AEADEncryptedData].includes(t)}async function i9(t,e,r){let n=pe.getReader(t),i,a;try{let s=await n.peekBytes(2);if(!s||s.length<2||(s[0]&128)==0)throw new Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");let o=await n.readByte(),f=-1,c=-1,d;c=0,(o&64)!=0&&(c=1);let u;c?f=o&63:(f=(o&63)>>2,u=o&3);let b=yc(f),x=null;if(e&&b){let O=new pe.TransformStream;i=pe.getWriter(O.writable),x=O.readable,a=r({tag:f,packet:x})}else x=[];let A;do{if(c){let O=await n.readByte();if(A=!1,O<192)d=O;else if(O>=192&&O<224)d=(O-192<<8)+await n.readByte()+192;else if(O>223&&O<255){if(d=1<<(O&31),A=!0,!b)throw new TypeError("This packet type does not support partial lengths.")}else d=await n.readByte()<<24|await n.readByte()<<16|await n.readByte()<<8|await n.readByte()}else switch(u){case 0:d=await n.readByte();break;case 1:d=await n.readByte()<<8|await n.readByte();break;case 2:d=await n.readByte()<<24|await n.readByte()<<16|await n.readByte()<<8|await n.readByte();break;default:d=Infinity;break}if(d>0){let O=0;for(;;){i&&await i.ready;let{done:T,value:Q}=await n.read();if(T){if(d===Infinity)break;throw new Error("Unexpected end of packet")}let ne=d===Infinity?Q:Q.subarray(0,d-O);if(i?await i.write(ne):x.push(ne),O+=Q.length,O>=d){n.unshift(Q.subarray(d-O+Q.length));break}}}}while(A);let S=await n.peekBytes(b?Infinity:2);return i?(await i.ready,await i.close()):(x=R.concatUint8Array(x),await r({tag:f,packet:x})),!S||!S.length}catch(s){if(i)return await i.abort(s),!0;throw s}finally{i&&await a,n.releaseLock()}}var mc=class{constructor(){this.tag=g.packet.userAttribute,this.attributes=[]}read(e){let r=0;for(;r<e.length;){let n=cp(e.subarray(r,e.length));r+=n.offset,this.attributes.push(R.uint8ArrayToStr(e.subarray(r,r+n.len))),r+=n.len}}write(){let e=[];for(let r=0;r<this.attributes.length;r++)e.push(bs(this.attributes[r].length)),e.push(R.strToUint8Array(this.attributes[r]));return R.concatUint8Array(e)}equals(e){return!e||!(e instanceof mc)?!1:this.attributes.every(function(r,n){return r===e.attributes[n]})}},$t=class{constructor(e=new Date){this.tag=g.packet.signature,this.version=4,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=R.normalizeDate(e),this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyId=new Fn,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserId=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAeadAlgorithms=null,this.verified=null,this.revoked=null}read(e){let r=0;if(this.version=e[r++],this.version!==4&&this.version!==5)throw new Error("Version "+this.version+" of the signature is unsupported.");this.signatureType=e[r++],this.publicKeyAlgorithm=e[r++],this.hashAlgorithm=e[r++],r+=this.read_sub_packets(e.subarray(r,e.length),!0),this.signatureData=e.subarray(0,r),r+=this.read_sub_packets(e.subarray(r,e.length),!1),this.signedHashValue=e.subarray(r,r+2),r+=2,this.params=Re.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(r,e.length))}write_params(){return this.params instanceof Promise?pe.fromAsync(async()=>Re.serializeParams(this.publicKeyAlgorithm,await this.params)):Re.serializeParams(this.publicKeyAlgorithm,this.params)}write(){let e=[];return e.push(this.signatureData),e.push(this.write_unhashed_sub_packets()),e.push(this.signedHashValue),e.push(this.write_params()),R.concat(e)}async sign(e,r,n=!1,i=!1){let a=g.write(g.signature,this.signatureType),s=g.write(g.publicKey,this.publicKeyAlgorithm),o=g.write(g.hash,this.hashAlgorithm);e.version===5&&(this.version=5);let f=[new Uint8Array([this.version,a,s,o])];this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyId=e.getKeyId(),f.push(this.write_hashed_sub_packets()),this.signatureData=R.concat(f);let c=this.toHash(a,r,n),d=await this.hash(a,r,c,n);this.signedHashValue=pe.slice(pe.clone(d),0,2);let u=async()=>Re.signature.sign(s,o,e.publicParams,e.privateParams,c,await pe.readToEnd(d));i?this.params=u():(this.params=await u(),this.verified=!0)}write_hashed_sub_packets(){let e=g.signatureSubpacket,r=[],n;this.created!==null&&r.push(Bt(e.signatureCreationTime,R.writeDate(this.created))),this.signatureExpirationTime!==null&&r.push(Bt(e.signatureExpirationTime,R.writeNumber(this.signatureExpirationTime,4))),this.exportable!==null&&r.push(Bt(e.exportableCertification,new Uint8Array([this.exportable?1:0]))),this.trustLevel!==null&&(n=new Uint8Array([this.trustLevel,this.trustAmount]),r.push(Bt(e.trustSignature,n))),this.regularExpression!==null&&r.push(Bt(e.regularExpression,this.regularExpression)),this.revocable!==null&&r.push(Bt(e.revocable,new Uint8Array([this.revocable?1:0]))),this.keyExpirationTime!==null&&r.push(Bt(e.keyExpirationTime,R.writeNumber(this.keyExpirationTime,4))),this.preferredSymmetricAlgorithms!==null&&(n=R.strToUint8Array(R.uint8ArrayToStr(this.preferredSymmetricAlgorithms)),r.push(Bt(e.preferredSymmetricAlgorithms,n))),this.revocationKeyClass!==null&&(n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),n=R.concat([n,this.revocationKeyFingerprint]),r.push(Bt(e.revocationKey,n))),this.rawNotations.forEach(([{name:s,value:o,humanReadable:f}])=>{n=[new Uint8Array([f?128:0,0,0,0])],n.push(R.writeNumber(s.length,2)),n.push(R.writeNumber(o.length,2)),n.push(R.strToUint8Array(s)),n.push(o),n=R.concat(n),r.push(Bt(e.notationData,n))}),this.preferredHashAlgorithms!==null&&(n=R.strToUint8Array(R.uint8ArrayToStr(this.preferredHashAlgorithms)),r.push(Bt(e.preferredHashAlgorithms,n))),this.preferredCompressionAlgorithms!==null&&(n=R.strToUint8Array(R.uint8ArrayToStr(this.preferredCompressionAlgorithms)),r.push(Bt(e.preferredCompressionAlgorithms,n))),this.keyServerPreferences!==null&&(n=R.strToUint8Array(R.uint8ArrayToStr(this.keyServerPreferences)),r.push(Bt(e.keyServerPreferences,n))),this.preferredKeyServer!==null&&r.push(Bt(e.preferredKeyServer,R.strToUint8Array(this.preferredKeyServer))),this.isPrimaryUserID!==null&&r.push(Bt(e.primaryUserId,new Uint8Array([this.isPrimaryUserID?1:0]))),this.policyURI!==null&&r.push(Bt(e.policyUri,R.strToUint8Array(this.policyURI))),this.keyFlags!==null&&(n=R.strToUint8Array(R.uint8ArrayToStr(this.keyFlags)),r.push(Bt(e.keyFlags,n))),this.signersUserId!==null&&r.push(Bt(e.signersUserId,R.strToUint8Array(this.signersUserId))),this.reasonForRevocationFlag!==null&&(n=R.strToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),r.push(Bt(e.reasonForRevocation,n))),this.features!==null&&(n=R.strToUint8Array(R.uint8ArrayToStr(this.features)),r.push(Bt(e.features,n))),this.signatureTargetPublicKeyAlgorithm!==null&&(n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],n.push(R.strToUint8Array(this.signatureTargetHash)),n=R.concat(n),r.push(Bt(e.signatureTarget,n))),this.preferredAeadAlgorithms!==null&&(n=R.strToUint8Array(R.uint8ArrayToStr(this.preferredAeadAlgorithms)),r.push(Bt(e.preferredAeadAlgorithms,n)));let i=R.concat(r),a=R.writeNumber(i.length,2);return R.concat([a,i])}write_unhashed_sub_packets(){let e=g.signatureSubpacket,r=[],n;!this.issuerKeyId.isNull()&&this.issuerKeyVersion!==5&&r.push(Bt(e.issuer,this.issuerKeyId.write())),this.embeddedSignature!==null&&r.push(Bt(e.embeddedSignature,this.embeddedSignature.write())),this.issuerFingerprint!==null&&(n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],n=R.concat(n),r.push(Bt(e.issuerFingerprint,n))),this.unhashedSubpackets.forEach(s=>{r.push(bs(s.length)),r.push(s)});let i=R.concat(r),a=R.writeNumber(i.length,2);return R.concat([a,i])}read_sub_packet(e,r=!0){let n=0,i=(o,f)=>{this[o]=[];for(let c=0;c<f.length;c++)this[o].push(f[c])},a=e[n]&128,s=e[n]&127;if(!r&&![g.signatureSubpacket.issuer,g.signatureSubpacket.issuerFingerprint,g.signatureSubpacket.embeddedSignature].includes(s)){this.unhashedSubpackets.push(e.subarray(n,e.length));return}switch(n++,s){case 2:this.created=R.readDate(e.subarray(n,e.length));break;case 3:{let o=R.readNumber(e.subarray(n,e.length));this.signatureNeverExpires=o===0,this.signatureExpirationTime=o;break}case 4:this.exportable=e[n++]===1;break;case 5:this.trustLevel=e[n++],this.trustAmount=e[n++];break;case 6:this.regularExpression=e[n];break;case 7:this.revocable=e[n++]===1;break;case 9:{let o=R.readNumber(e.subarray(n,e.length));this.keyExpirationTime=o,this.keyNeverExpires=o===0;break}case 11:i("preferredSymmetricAlgorithms",e.subarray(n,e.length));break;case 12:this.revocationKeyClass=e[n++],this.revocationKeyAlgorithm=e[n++],this.revocationKeyFingerprint=e.subarray(n,n+20);break;case 16:this.issuerKeyId.read(e.subarray(n,e.length));break;case 20:{let o=!!(e[n]&128);n+=4;let f=R.readNumber(e.subarray(n,n+2));n+=2;let c=R.readNumber(e.subarray(n,n+2));n+=2;let d=R.uint8ArrayToStr(e.subarray(n,n+f)),u=e.subarray(n+f,n+f+c);this.rawNotations.push({name:d,humanReadable:o,value:u,critical:a}),o&&(this.notations[d]=R.uint8ArrayToStr(u));break}case 21:i("preferredHashAlgorithms",e.subarray(n,e.length));break;case 22:i("preferredCompressionAlgorithms",e.subarray(n,e.length));break;case 23:i("keyServerPreferences",e.subarray(n,e.length));break;case 24:this.preferredKeyServer=R.uint8ArrayToStr(e.subarray(n,e.length));break;case 25:this.isPrimaryUserID=e[n++]!==0;break;case 26:this.policyURI=R.uint8ArrayToStr(e.subarray(n,e.length));break;case 27:i("keyFlags",e.subarray(n,e.length));break;case 28:this.signersUserId=R.uint8ArrayToStr(e.subarray(n,e.length));break;case 29:this.reasonForRevocationFlag=e[n++],this.reasonForRevocationString=R.uint8ArrayToStr(e.subarray(n,e.length));break;case 30:i("features",e.subarray(n,e.length));break;case 31:{this.signatureTargetPublicKeyAlgorithm=e[n++],this.signatureTargetHashAlgorithm=e[n++];let o=Re.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=R.uint8ArrayToStr(e.subarray(n,n+o));break}case 32:this.embeddedSignature=new $t,this.embeddedSignature.read(e.subarray(n,e.length));break;case 33:this.issuerKeyVersion=e[n++],this.issuerFingerprint=e.subarray(n,e.length),this.issuerKeyVersion===5?this.issuerKeyId.read(this.issuerFingerprint):this.issuerKeyId.read(this.issuerFingerprint.subarray(-8));break;case 34:i.call(this,"preferredAeadAlgorithms",e.subarray(n,e.length));break;default:{let o=new Error("Unknown signature subpacket type "+s+" @:"+n);if(a)throw o;R.printDebug(o)}}}read_sub_packets(e,r=!0,n){let i=R.readNumber(e.subarray(0,2)),a=2;for(;a<2+i;){let s=cp(e.subarray(a,e.length));a+=s.offset,this.read_sub_packet(e.subarray(a,a+s.len),r,n),a+=s.len}return a}toSign(e,r){let n=g.signature;switch(e){case n.binary:return r.text!==null?R.encodeUtf8(r.getText(!0)):r.getBytes(!0);case n.text:{let i=r.getBytes(!0);return R.canonicalizeEOL(i)}case n.standalone:return new Uint8Array(0);case n.certGeneric:case n.certPersona:case n.certCasual:case n.certPositive:case n.certRevocation:{let i,a;if(r.userId)a=180,i=r.userId;else if(r.userAttribute)a=209,i=r.userAttribute;else throw new Error("Either a userId or userAttribute packet needs to be supplied for certification.");let s=i.write();return R.concat([this.toSign(n.key,r),new Uint8Array([a]),R.writeNumber(s.length,4),s])}case n.subkeyBinding:case n.subkeyRevocation:case n.keyBinding:return R.concat([this.toSign(n.key,r),this.toSign(n.key,{key:r.bind})]);case n.key:if(r.key===void 0)throw new Error("Key packet is required for this signature.");return r.key.writeForHash(this.version);case n.keyRevocation:return this.toSign(n.key,r);case n.timestamp:return new Uint8Array(0);case n.thirdParty:throw new Error("Not implemented");default:throw new Error("Unknown signature type.")}}calculateTrailer(e,r){let n=0;return pe.transform(pe.clone(this.signatureData),i=>{n+=i.length},()=>{let i=[];return this.version===5&&(this.signatureType===g.signature.binary||this.signatureType===g.signature.text)&&(r?i.push(new Uint8Array(6)):i.push(e.writeHeader())),i.push(new Uint8Array([this.version,255])),this.version===5&&i.push(new Uint8Array(4)),i.push(R.writeNumber(n,4)),R.concat(i)})}toHash(e,r,n=!1){let i=this.toSign(e,r);return R.concat([i,this.signatureData,this.calculateTrailer(r,n)])}async hash(e,r,n,i=!1,a=!0){let s=g.write(g.hash,this.hashAlgorithm);return n||(n=this.toHash(e,r,i)),!a&&R.isStream(n)?pe.fromAsync(async()=>this.hash(e,r,await pe.readToEnd(n),i)):Re.hash.digest(s,n)}async verify(e,r,n,i=!1,a=!1,s=Ce){let o=g.write(g.publicKey,this.publicKeyAlgorithm),f=g.write(g.hash,this.hashAlgorithm);if(o!==g.write(g.publicKey,e.algorithm))throw new Error("Public key algorithm used to sign signature does not match issuer key algorithm.");let c,d;if(this.hashed?d=await this.hashed:(c=this.toHash(r,n,i),a||(c=await pe.readToEnd(c)),d=await this.hash(r,n,c)),d=await pe.readToEnd(d),this.signedHashValue[0]!==d[0]||this.signedHashValue[1]!==d[1])throw new Error("Message digest did not match");if(this.params=await this.params,!await Re.signature.verify(o,f,this.params,e.publicParams,c,d))throw new Error("Signature verification failed");if(s.rejectHashAlgorithms.has(f))throw new Error("Insecure hash algorithm: "+g.read(g.hash,f).toUpperCase());if(s.rejectMessageHashAlgorithms.has(f)&&[g.signature.binary,g.signature.text].includes(this.signatureType))throw new Error("Insecure message hash algorithm: "+g.read(g.hash,f).toUpperCase());if(this.rawNotations.forEach(({name:b,critical:x})=>{if(x&&s.knownNotations.indexOf(b)<0)throw new Error(`Unknown critical notation: ${b}`)}),this.revocationKeyClass!==null)throw new Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.");this.verified=!0}isExpired(e=new Date){let r=R.normalizeDate(e);if(r!==null){let n=this.getExpirationTime();return!(this.created<=r&&r<=n)}return!1}getExpirationTime(){return this.signatureNeverExpires?Infinity:new Date(this.created.getTime()+this.signatureExpirationTime*1e3)}};function Bt(t,e){let r=[];return r.push(bs(e.length+1)),r.push(new Uint8Array([t])),r.push(e),R.concat(r)}var Gr=class{constructor(){this.tag=g.packet.onePassSignature,this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyId=null,this.flags=null}read(e){let r=0;return this.version=e[r++],this.signatureType=e[r++],this.hashAlgorithm=e[r++],this.publicKeyAlgorithm=e[r++],this.issuerKeyId=new Fn,this.issuerKeyId.read(e.subarray(r,r+8)),r+=8,this.flags=e[r++],this}write(){let e=new Uint8Array([3,g.write(g.signature,this.signatureType),g.write(g.hash,this.hashAlgorithm),g.write(g.publicKey,this.publicKeyAlgorithm)]),r=new Uint8Array([this.flags]);return R.concatUint8Array([e,this.issuerKeyId.write(),r])}calculateTrailer(...e){return pe.fromAsync(async()=>$t.prototype.calculateTrailer.apply(await this.correspondingSig,e))}async verify(){let e=await this.correspondingSig;if(!e||e.tag!==g.packet.signature)throw new Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyId.equals(this.issuerKeyId))throw new Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}};Gr.prototype.hash=$t.prototype.hash;Gr.prototype.toHash=$t.prototype.toHash;Gr.prototype.toSign=$t.prototype.toSign;var ps=class extends An{constructor(e=new Date,r=Ce){super(e,r);this.tag=g.packet.secretKey,this.keyMaterial=null,this.isEncrypted=null,this.s2k_usage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}read(e){let r=this.readPublicKey(e);if(this.s2k_usage=e[r++],this.version===5&&r++,this.s2k_usage===255||this.s2k_usage===254||this.s2k_usage===253){if(this.symmetric=e[r++],this.symmetric=g.read(g.symmetric,this.symmetric),this.s2k_usage===253&&(this.aead=e[r++],this.aead=g.read(g.aead,this.aead)),this.s2k=new s0,r+=this.s2k.read(e.subarray(r,e.length)),this.s2k.type==="gnu-dummy")return}else this.s2k_usage&&(this.symmetric=this.s2k_usage,this.symmetric=g.read(g.symmetric,this.symmetric));if(this.s2k_usage&&(this.iv=e.subarray(r,r+Re.cipher[this.symmetric].blockSize),r+=this.iv.length),this.version===5&&(r+=4),this.keyMaterial=e.subarray(r),this.isEncrypted=!!this.s2k_usage,!this.isEncrypted){let n=this.keyMaterial.subarray(0,-2);if(!R.equalsUint8Array(R.writeChecksum(n),this.keyMaterial.subarray(-2)))throw new Error("Key checksum mismatch");try{let i=g.write(g.publicKey,this.algorithm),{privateParams:a}=Re.parsePrivateKeyParams(i,n,this.publicParams);this.privateParams=a}catch(i){throw new Error("Error reading MPIs")}}}write(){let e=[this.writePublicKey()];e.push(new Uint8Array([this.s2k_usage]));let r=[];if((this.s2k_usage===255||this.s2k_usage===254||this.s2k_usage===253)&&(r.push(g.write(g.symmetric,this.symmetric)),this.s2k_usage===253&&r.push(g.write(g.aead,this.aead)),r.push(...this.s2k.write())),this.s2k_usage&&this.s2k.type!=="gnu-dummy"&&r.push(...this.iv),this.version===5&&e.push(new Uint8Array([r.length])),e.push(new Uint8Array(r)),!this.isDummy()){if(!this.s2k_usage){let n=g.write(g.publicKey,this.algorithm),i=Re.serializeParams(n,this.privateParams);this.keyMaterial=R.concatUint8Array([i,R.writeChecksum(i)])}this.version===5&&e.push(R.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial)}return R.concatUint8Array(e)}isDecrypted(){return this.isEncrypted===!1}isDummy(){return!!(this.s2k&&this.s2k.type==="gnu-dummy")}makeDummy(e=Ce){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new s0(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2k_usage=254,this.symmetric="aes256")}async encrypt(e,r=Ce){if(this.isDummy())return;if(!this.isDecrypted())throw new Error("Key packet is already encrypted");if(this.isDecrypted()&&!e){this.s2k_usage=0;return}else if(!e)throw new Error("The key must be decrypted before removing passphrase protection.");this.s2k=new s0(r),this.s2k.salt=await Re.random.getRandomBytes(8);let n=g.write(g.publicKey,this.algorithm),i=Re.serializeParams(n,this.privateParams);this.symmetric="aes256";let a=await up(this.s2k,e,this.symmetric),s=Re.cipher[this.symmetric].blockSize;if(this.iv=await Re.random.getRandomBytes(s),r.aeadProtect){this.s2k_usage=253,this.aead="eax";let o=Re[this.aead],f=await o(this.symmetric,a);this.keyMaterial=await f.encrypt(i,this.iv.subarray(0,o.ivLength),new Uint8Array)}else this.s2k_usage=254,this.keyMaterial=await Re.cfb.encrypt(this.symmetric,a,R.concatUint8Array([i,await Re.hash.sha1(i,r)]),this.iv,r)}async decrypt(e){if(this.isDummy())return!1;if(this.isDecrypted())throw new Error("Key packet is already decrypted.");let r;if(this.s2k_usage===254||this.s2k_usage===253)r=await up(this.s2k,e,this.symmetric);else throw this.s2k_usage===255?new Error("Encrypted private key is authenticated using an insecure two-byte hash"):new Error("Private key is encrypted using an insecure S2K function: unsalted MD5");let n;if(this.s2k_usage===253){let i=Re[this.aead];try{n=await(await i(this.symmetric,r)).decrypt(this.keyMaterial,this.iv.subarray(0,i.ivLength),new Uint8Array)}catch(a){throw a.message==="Authentication tag mismatch"?new Error("Incorrect key passphrase: "+a.message):a}}else{let i=await Re.cfb.decrypt(this.symmetric,r,this.keyMaterial,this.iv);n=i.subarray(0,-20);let a=await Re.hash.sha1(n);if(!R.equalsUint8Array(a,i.subarray(-20)))throw new Error("Incorrect key passphrase")}try{let i=g.write(g.publicKey,this.algorithm),{privateParams:a}=Re.parsePrivateKeyParams(i,n,this.publicParams);this.privateParams=a}catch(i){throw new Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2k_usage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw new Error("Key is not decrypted");let e=g.write(g.publicKey,this.algorithm),r;try{r=await Re.validateParams(e,this.publicParams,this.privateParams)}catch(n){r=!1}if(!r)throw new Error("Key is invalid")}async generate(e,r){let n=g.write(g.publicKey,this.algorithm),{privateParams:i,publicParams:a}=await Re.generateParams(n,e,r);this.privateParams=i,this.publicParams=a,this.isEncrypted=!1}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach(e=>{this.privateParams[e].fill(0),delete this.privateParams[e]}),this.privateParams=null,this.isEncrypted=!0)}};async function up(t,e,r){return t.produce_key(e,Re.cipher[r].keySize)}var a9=fn(function(t){(function(e){function r(c){function d(){return qe<He}function u(){return ut[qe]}function b(){return qe}function x(he){qe=he}function A(){qe+=1}function S(){qe=0,He=ut.length}function O(he,ue){return{name:he,tokens:ue||"",semantic:ue||"",children:[]}}function T(he,ue){var xe;return ue===null?null:(xe=O(he),xe.tokens=ue.tokens,xe.semantic=ue.semantic,xe.children.push(ue),xe)}function Q(he,ue){return ue!==null&&(he.tokens+=ue.tokens,he.semantic+=ue.semantic),he.children.push(ue),he}function ne(he){var ue;return d()?(ue=u(),he(ue)?(A(),O("token",ue)):null):null}function F(he){return function(){return T("literal",ne(function(xe){return xe===he}))}}function X(){var he=arguments;return function(){var xe,Ae,Ee,Ue;for(Ue=b(),Ae=O("and"),xe=0;xe<he.length;xe+=1){if(Ee=he[xe](),Ee===null)return x(Ue),null;Q(Ae,Ee)}return Ae}}function te(){var he=arguments;return function(){var xe,Ae,Ee;for(Ee=b(),xe=0;xe<he.length;xe+=1){if(Ae=he[xe](),Ae!==null)return Ae;x(Ee)}return null}}function re(he){return function(){var xe,Ae;return Ae=b(),xe=he(),xe!==null?xe:(x(Ae),O("opt"))}}function J(he){return function(){var xe=he();return xe!==null&&(xe.semantic=""),xe}}function se(he){return function(){var xe=he();return xe!==null&&xe.semantic.length>0&&(xe.semantic=" "),xe}}function C(he,ue){return function(){var Ae,Ee,Ue,zt,Mr;for(zt=b(),Ae=O("star"),Ue=0,Mr=ue===void 0?0:ue;(Ee=he())!==null;)Ue=Ue+1,Q(Ae,Ee);return Ue>=Mr?Ae:(x(zt),null)}}function l(he){return he.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}function m(he){return he.charCodeAt(0)>=128}function y(){return T("cr",F("\r")())}function I(){return T("crlf",X(y,B)())}function N(){return T("dquote",F('"')())}function Z(){return T("htab",F("	")())}function B(){return T("lf",F(`
`)())}function P(){return T("sp",F(" ")())}function p(){return T("vchar",ne(function(ue){var xe=ue.charCodeAt(0),Ae=33<=xe&&xe<=126;return c.rfc6532&&(Ae=Ae||m(ue)),Ae}))}function L(){return T("wsp",te(P,Z)())}function be(){var he=T("quoted-pair",te(X(F("\\"),te(p,L)),de)());return he===null?null:(he.semantic=he.semantic[1],he)}function me(){return T("fws",te(Be,X(re(X(C(L),J(I))),C(L,1)))())}function _e(){return T("ctext",te(function(){return ne(function(xe){var Ae=xe.charCodeAt(0),Ee=33<=Ae&&Ae<=39||42<=Ae&&Ae<=91||93<=Ae&&Ae<=126;return c.rfc6532&&(Ee=Ee||m(xe)),Ee})},ae)())}function Se(){return T("ccontent",te(_e,be,ge)())}function ge(){return T("comment",X(F("("),C(X(re(me),Se)),re(me),F(")"))())}function j(){return T("cfws",te(X(C(X(re(me),ge),1),re(me)),me)())}function oe(){return T("atext",ne(function(ue){var xe="a"<=ue&&ue<="z"||"A"<=ue&&ue<="Z"||"0"<=ue&&ue<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(ue)>=0;return c.rfc6532&&(xe=xe||m(ue)),xe}))}function ee(){return T("atom",X(se(re(j)),C(oe,1),se(re(j)))())}function G(){var he,ue;return he=T("dot-atom-text",C(oe,1)()),he===null||(ue=C(X(F("."),C(oe,1)))(),ue!==null&&Q(he,ue)),he}function ce(){return T("dot-atom",X(J(re(j)),G,J(re(j)))())}function le(){return T("qtext",te(function(){return ne(function(xe){var Ae=xe.charCodeAt(0),Ee=Ae===33||35<=Ae&&Ae<=91||93<=Ae&&Ae<=126;return c.rfc6532&&(Ee=Ee||m(xe)),Ee})},fe)())}function ye(){return T("qcontent",te(le,be)())}function k(){return T("quoted-string",X(J(re(j)),J(N),C(X(re(se(me)),ye)),re(J(me)),J(N),J(re(j)))())}function v(){return T("word",te(ee,k)())}function M(){return T("phrase",te(Ie,C(v,1))())}function U(){return T("address",te(w,h)())}function w(){return T("mailbox",te(_,Y)())}function _(){return T("name-addr",X(re(q),E)())}function E(){return T("angle-addr",te(X(J(re(j)),F("<"),Y,F(">"),J(re(j))),Te)())}function h(){return T("group",X(q,F(":"),re(z),F(";"),J(re(j)))())}function q(){return T("display-name",function(){var ue=M();return ue!==null&&(ue.semantic=l(ue.semantic)),ue}())}function D(){return T("mailbox-list",te(X(w,C(X(F(","),w))),ze)())}function K(){return T("address-list",te(X(U,C(X(F(","),U))),ct)())}function z(){return T("group-list",te(D,J(j),je)())}function W(){return T("local-part",te(We,ce,k)())}function $(){return T("dtext",te(function(){return ne(function(xe){var Ae=xe.charCodeAt(0),Ee=33<=Ae&&Ae<=90||94<=Ae&&Ae<=126;return c.rfc6532&&(Ee=Ee||m(xe)),Ee})},tt)())}function H(){return T("domain-literal",X(J(re(j)),F("["),C(X(re(me),$)),re(me),F("]"),J(re(j)))())}function V(){return T("domain",function(){var ue=te(_t,ce,H)();return c.rejectTLD&&ue&&ue.semantic&&ue.semantic.indexOf(".")<0?null:(ue&&(ue.semantic=ue.semantic.replace(/\s+/g,"")),ue)}())}function Y(){return T("addr-spec",X(W,F("@"),V)())}function Ne(){return T("from",te(D,K)())}function at(){return T("sender",te(w,U)())}function Le(){return T("reply-to",K())}function ie(){return c.strict?null:T("obs-NO-WS-CTL",ne(function(he){var ue=he.charCodeAt(0);return 1<=ue&&ue<=8||ue===11||ue===12||14<=ue&&ue<=31||ue===127}))}function ae(){return c.strict?null:T("obs-ctext",ie())}function fe(){return c.strict?null:T("obs-qtext",ie())}function de(){return c.strict?null:T("obs-qp",X(F("\\"),te(F("\0"),ie,B,y))())}function Ie(){return c.strict?null:c.atInDisplayName?T("obs-phrase",X(v,C(te(v,F("."),F("@"),se(j))))()):T("obs-phrase",X(v,C(te(v,F("."),se(j))))())}function Be(){return c.strict?null:T("obs-FWS",C(X(J(re(I)),L),1)())}function Te(){return c.strict?null:T("obs-angle-addr",X(J(re(j)),F("<"),Ze,Y,F(">"),J(re(j)))())}function Ze(){return c.strict?null:T("obs-route",X(De,F(":"))())}function De(){return c.strict?null:T("obs-domain-list",X(C(te(J(j),F(","))),F("@"),V,C(X(F(","),J(re(j)),re(X(F("@"),V)))))())}function ze(){return c.strict?null:T("obs-mbox-list",X(C(X(J(re(j)),F(","))),w,C(X(F(","),re(X(w,J(j))))))())}function ct(){return c.strict?null:T("obs-addr-list",X(C(X(J(re(j)),F(","))),U,C(X(F(","),re(X(U,J(j))))))())}function je(){return c.strict?null:T("obs-group-list",X(C(X(J(re(j)),F(",")),1),J(re(j)))())}function We(){return c.strict?null:T("obs-local-part",X(v,C(X(F("."),v)))())}function _t(){return c.strict?null:T("obs-domain",X(ee,C(X(F("."),ee)))())}function tt(){return c.strict?null:T("obs-dtext",te(ie,be)())}function Ke(he,ue){var xe,Ae,Ee;if(ue==null)return null;for(Ae=[ue];Ae.length>0;){if(Ee=Ae.pop(),Ee.name===he)return Ee;for(xe=Ee.children.length-1;xe>=0;xe-=1)Ae.push(Ee.children[xe])}return null}function Gt(he,ue){var xe,Ae,Ee,Ue;if(ue==null)return null;for(Ae=[ue],Ue=[];Ae.length>0;)for(Ee=Ae.pop(),Ee.name===he&&Ue.push(Ee),xe=Ee.children.length-1;xe>=0;xe-=1)Ae.push(Ee.children[xe]);return Ue}function rt(he,ue){var xe,Ae,Ee,Ue,zt;if(ue==null)return null;for(Ae=[ue],Ue=[],zt={},xe=0;xe<he.length;xe+=1)zt[he[xe]]=!0;for(;Ae.length>0;)if(Ee=Ae.pop(),Ee.name in zt)Ue.push(Ee);else for(xe=Ee.children.length-1;xe>=0;xe-=1)Ae.push(Ee.children[xe]);return Ue}function st(he){var ue,xe,Ae,Ee,Ue;if(he===null)return null;for(ue=[],xe=rt(["group","mailbox"],he),Ae=0;Ae<xe.length;Ae+=1)Ee=xe[Ae],Ee.name==="group"?ue.push(ur(Ee)):Ee.name==="mailbox"&&ue.push($e(Ee));return Ue={ast:he,addresses:ue},c.simple&&(Ue=mt(Ue)),c.oneResult?Ge(Ue):c.simple?Ue&&Ue.addresses:Ue}function ur(he){var ue,xe=Ke("display-name",he),Ae=[],Ee=rt(["mailbox"],he);for(ue=0;ue<Ee.length;ue+=1)Ae.push($e(Ee[ue]));return{node:he,parts:{name:xe},type:he.name,name:Fe(xe),addresses:Ae}}function $e(he){var ue=Ke("display-name",he),xe=Ke("addr-spec",he),Ae=Gt("cfws",he),Ee=rt(["comment"],he),Ue=Ke("local-part",xe),zt=Ke("domain",xe);return{node:he,parts:{name:ue,address:xe,local:Ue,domain:zt,comments:Ae},type:he.name,name:Fe(ue),address:Fe(xe),local:Fe(Ue),domain:Fe(zt),comments:Ye(Ee),groupName:Fe(he.groupName)}}function Fe(he){return he!=null?he.semantic:null}function mt(he){var ue;if(he&&he.addresses)for(ue=0;ue<he.addresses.length;ue+=1)delete he.addresses[ue].node;return he}function Ye(he){var ue="";if(he)for(var xe=0;xe<he.length;xe+=1)ue+=Fe(he[xe]);return ue}function Ge(he){return!he||!c.partial&&he.addresses.length>1?null:he.addresses&&he.addresses[0]}var ut,qe,He,lt,bt;if(c=f(c,{}),c===null)return null;if(ut=c.input,bt={address:U,"address-list":K,"angle-addr":E,from:Ne,group:h,mailbox:w,"mailbox-list":D,"reply-to":Le,sender:at}[c.startAt]||K,!c.strict){if(S(),c.strict=!0,lt=bt(ut),c.partial||!d())return st(lt);c.strict=!1}return S(),lt=bt(ut),!c.partial&&d()?null:st(lt)}function n(c){return r(f(c,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))}function i(c){return r(f(c,{rfc6532:!0,simple:!0,startAt:"address-list"}))}function a(c){return r(f(c,{rfc6532:!0,simple:!0,startAt:"from"}))}function s(c){return r(f(c,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))}function o(c){return r(f(c,{rfc6532:!0,simple:!0,startAt:"reply-to"}))}function f(c,d){function u(O){return Object.prototype.toString.call(O)==="[object String]"}function b(O){return O===Object(O)}function x(O){return O==null}var A,S;if(u(c))c={input:c};else if(!b(c))return null;if(!u(c.input)||!d)return null;A={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1};for(S in A)x(c[S])&&(c[S]=x(d[S])?A[S]:d[S]);return c}r.parseOneAddress=n,r.parseAddressList=i,r.parseFrom=a,r.parseSender=s,r.parseReplyTo=o,t.exports=r})()}),xs=class{constructor(){this.tag=g.packet.userID,this.userid="",this.name="",this.email="",this.comment=""}static fromObject(e){if(R.isString(e)||e.name&&!R.isString(e.name)||e.email&&!R.isEmailAddress(e.email)||e.comment&&!R.isString(e.comment))throw new Error("Invalid user ID format");let r=new xs;Object.assign(r,e);let n=[];return r.name&&n.push(r.name),r.comment&&n.push(`(${r.comment})`),r.email&&n.push(`<${r.email}>`),r.userid=n.join(" "),r}read(e,r=Ce){let n=R.decodeUtf8(e);if(n.length>r.maxUseridLength)throw new Error("User ID string is too long");try{let{name:i,address:a,comments:s}=a9.parseOneAddress({input:n,atInDisplayName:!0});this.comment=s.replace(/^\(|\)$/g,""),this.name=i,this.email=a}catch(i){}this.userid=n}write(){return R.encodeUtf8(this.userid)}},gc=class extends ps{constructor(e=new Date,r=Ce){super(e,r);this.tag=g.packet.secretSubkey}};function o9(t,e){let r=s9(t);if(!e[r])throw new Error("Packet not allowed in this context: "+r);return new e[r]}function s9(t){return t.substr(0,1).toUpperCase()+t.substr(1)+"Packet"}var Et=class extends Array{async read(e,r,n,i=Ce){this.stream=pe.transformPair(e,async(s,o)=>{let f=pe.getWriter(o);try{for(;;)if(await f.ready,await i9(s,n,async d=>{try{let u=g.read(g.packet,d.tag),b=o9(u,r);b.packets=new Et,b.fromStream=R.isStream(d.packet),await b.read(d.packet,i,n),await f.write(b)}catch(u){(!i.tolerant||yc(d.tag))&&await f.abort(u),R.printDebugError(u)}})){await f.ready,await f.close();return}}catch(c){await f.abort(c)}});let a=pe.getReader(this.stream);for(;;){let{done:s,value:o}=await a.read();if(s?this.stream=null:this.push(o),s||yc(o.tag))break}a.releaseLock()}write(){let e=[];for(let r=0;r<this.length;r++){let n=this[r].write();if(R.isStream(n)&&yc(this[r].tag)){let i=[],a=0,s=512;e.push(fp(this[r].tag)),e.push(pe.transform(n,o=>{if(i.push(o),a+=o.length,a>=s){let f=Math.min(Math.log(a)/Math.LN2|0,30),c=2**f,d=R.concat([n9(f)].concat(i));return i=[d.subarray(1+c)],a=i[0].length,d.subarray(0,1+c)}},()=>R.concat([bs(a)].concat(i))))}else{if(R.isStream(n)){let i=0;e.push(pe.transform(pe.clone(n),a=>{i+=a.length},()=>dp(this[r].tag,i)))}else e.push(dp(this[r].tag,n.length));e.push(n)}}return R.concat(e)}push(e){!e||(e.packets=e.packets||new Et,super.push(e))}filterByTag(...e){let r=new Et,n=i=>a=>i===a;for(let i=0;i<this.length;i++)e.some(n(this[i].tag))&&r.push(this[i]);return r}findPacket(e){return this.find(r=>r.tag===e)}indexOfTag(...e){let r=[],n=this,i=a=>s=>a===s;for(let a=0;a<this.length;a++)e.some(i(n[a].tag))&&r.push(a);return r}concat(e){if(e)for(let r=0;r<e.length;r++)this.push(e[r]);return this}},iu=class{constructor(e){this.packets=e||new Et}write(){return this.packets.write()}armor(e=Ce){return Po(g.armor.signature,this.write(),void 0,void 0,void 0,e)}};var c9={PublicKeyPacket:An,PublicSubkeyPacket:xc,SecretKeyPacket:ps,SecretSubkeyPacket:gc,UserIDPacket:xs,UserAttributePacket:mc,SignaturePacket:$t};async function lp(t,e){let r=new gc(t.date,e);return r.packets=null,r.algorithm=g.read(g.publicKey,t.algorithm),await r.generate(t.rsaBits,t.curve),r}async function f9(t,e){let r=new ps(t.date,e);return r.packets=null,r.algorithm=g.read(g.publicKey,t.algorithm),await r.generate(t.rsaBits,t.curve,t.config),r}async function Ki(t,e,r,n,i=new Date,a){let s,o;for(let f=t.length-1;f>=0;f--)try{(!s||t[f].created>=s.created)&&!t[f].isExpired(i)&&(t[f].verified||await t[f].verify(e,r,n,void 0,void 0,a),s=t[f])}catch(c){o=c}if(!s)throw R.wrapError(`Could not find valid ${g.read(g.signature,r)} signature in key ${e.getKeyId().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(f,c,d)=>c+" "+d.toLowerCase()),o);return s}function hp(t,e,r=new Date){let n=R.normalizeDate(r);if(n!==null){let i=au(t,e);return!(t.created<=n&&n<=i)||e&&e.isExpired(r)}return!1}async function bp(t,e,r,n){let i={};i.key=e,i.bind=t;let a=new $t(r.date);return a.signatureType=g.signature.subkeyBinding,a.publicKeyAlgorithm=e.algorithm,a.hashAlgorithm=await vc(null,t,void 0,void 0,n),r.sign?(a.keyFlags=[g.keyFlags.signData],a.embeddedSignature=await o0(i,null,t,{signatureType:g.signature.keyBinding},r.date,void 0,void 0,void 0,n)):a.keyFlags=[g.keyFlags.encryptCommunication|g.keyFlags.encryptStorage],r.keyExpirationTime>0&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1),await a.sign(e,i),a}async function vc(t,e,r=new Date,n={},i){let a=i.preferHashAlgorithm,s=a;if(t){let o=await t.getPrimaryUser(r,n,i);o.selfCertification.preferredHashAlgorithms&&([s]=o.selfCertification.preferredHashAlgorithms,a=Re.hash.getHashByteLength(a)<=Re.hash.getHashByteLength(s)?s:a)}switch(Object.getPrototypeOf(e)){case ps.prototype:case An.prototype:case gc.prototype:case xc.prototype:switch(e.algorithm){case"ecdh":case"ecdsa":case"eddsa":s=Re.publicKey.elliptic.getPreferredHashAlgo(e.publicParams.oid)}}return Re.hash.getHashByteLength(a)<=Re.hash.getHashByteLength(s)?s:a}async function pp(t,e,r=new Date,n=[],i=Ce){let a=t==="symmetric"?"preferredSymmetricAlgorithms":"preferredAeadAlgorithms",s=t==="symmetric"?g.symmetric.aes128:g.aead.eax,o={};await Promise.all(e.map(async function(c,d){let u=await c.getPrimaryUser(r,n[d],i);if(!u.selfCertification[a])return s;u.selfCertification[a].forEach(function(b,x){let A=o[b]||(o[b]={prio:0,count:0,algo:b});A.prio+=64>>x,A.count++})}));let f={prio:0,algo:s};return Object.values(o).forEach(({prio:c,count:d,algo:u})=>{try{u!==g[t].plaintext&&u!==g[t].idea&&g.read(g[t],u)&&d===e.length&&c>f.prio&&(f=o[u])}catch(b){}}),f.algo}async function o0(t,e,r,n,i,a,s=!1,o=!1,f){if(r.isDummy())throw new Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw new Error("Private key is not decrypted.");let c=new $t(i);return Object.assign(c,n),c.publicKeyAlgorithm=r.algorithm,c.hashAlgorithm=await vc(e,r,i,a,f),await c.sign(r,t,s,o),c}async function wa(t,e,r,n){t=t[r],t&&(e[r].length?await Promise.all(t.map(async function(i){!i.isExpired()&&(!n||await n(i))&&!e[r].some(function(a){return R.equalsUint8Array(a.write_params(),i.write_params())})&&e[r].push(i)})):e[r]=t)}async function c0(t,e,r,n,i,a,s=new Date,o){a=a||t;let f=R.normalizeDate(s),c=[];return await Promise.all(n.map(async function(d){try{(!i||d.issuerKeyId.equals(i.issuerKeyId))&&!(o.revocationsExpire&&d.isExpired(f))&&(d.verified||await d.verify(a,e,r,void 0,void 0,o),c.push(d.issuerKeyId))}catch(u){}})),i?(i.revoked=c.some(d=>d.equals(i.issuerKeyId))?!0:i.revoked||!1,i.revoked):c.length>0}function au(t,e){let r;return e.keyNeverExpires===!1&&(r=t.created.getTime()+e.keyExpirationTime*1e3),r?new Date(r):Infinity}async function d9(t,e=new Date,r=[],n=Ce){let i=!0;return await Promise.all(t.map(async function(a,s){let o=await a.getPrimaryUser(e,r[s],n);(!o.selfCertification.features||!(o.selfCertification.features[0]&g.features.aead))&&(i=!1)})),i}function su(t,e={}){switch(t.type=t.type||e.type,t.curve=t.curve||e.curve,t.rsaBits=t.rsaBits||e.rsaBits,t.keyExpirationTime=t.keyExpirationTime!==void 0?t.keyExpirationTime:e.keyExpirationTime,t.passphrase=R.isString(t.passphrase)?t.passphrase:e.passphrase,t.date=t.date||e.date,t.sign=t.sign||!1,t.type){case"ecc":try{t.curve=g.write(g.curve,t.curve)}catch(r){throw new Error("Invalid curve")}(t.curve===g.curve.ed25519||t.curve===g.curve.curve25519)&&(t.curve=t.sign?g.curve.ed25519:g.curve.curve25519),t.sign?t.algorithm=t.curve===g.curve.ed25519?g.publicKey.eddsa:g.publicKey.ecdsa:t.algorithm=g.publicKey.ecdh;break;case"rsa":t.algorithm=g.publicKey.rsaEncryptSign;break;default:throw new Error(`Unsupported key type ${t.type}`)}return t}function xp(t,e){if(!e.verified||e.revoked!==!1)throw new Error("Signature not verified");return t.algorithm!==g.read(g.publicKey,g.publicKey.rsaEncrypt)&&t.algorithm!==g.read(g.publicKey,g.publicKey.elgamal)&&t.algorithm!==g.read(g.publicKey,g.publicKey.ecdh)&&(!e.keyFlags||(e.keyFlags[0]&g.keyFlags.signData)!=0)}function yp(t,e){if(!e.verified||e.revoked!==!1)throw new Error("Signature not verified");return t.algorithm!==g.read(g.publicKey,g.publicKey.dsa)&&t.algorithm!==g.read(g.publicKey,g.publicKey.rsaSign)&&t.algorithm!==g.read(g.publicKey,g.publicKey.ecdsa)&&t.algorithm!==g.read(g.publicKey,g.publicKey.eddsa)&&(!e.keyFlags||(e.keyFlags[0]&g.keyFlags.encryptCommunication)!=0||(e.keyFlags[0]&g.keyFlags.encryptStorage)!=0)}function mp(t,e){if(!t.verified)throw new Error("Signature not verified");return e.allowInsecureDecryptionWithSigningKeys?!0:!t.keyFlags||(t.keyFlags[0]&g.keyFlags.encryptCommunication)!=0||(t.keyFlags[0]&g.keyFlags.encryptStorage)!=0}var f0=class{constructor(e){if(!(this instanceof f0))return new f0(e);this.userId=e.tag===g.packet.userID?e:null,this.userAttribute=e.tag===g.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[]}toPacketlist(){let e=new Et;return e.push(this.userId||this.userAttribute),e.concat(this.revocationSignatures),e.concat(this.selfCertifications),e.concat(this.otherCertifications),e}async sign(e,r,n){let i={userId:this.userId,userAttribute:this.userAttribute,key:e},a=new f0(i.userId||i.userAttribute);return a.otherCertifications=await Promise.all(r.map(async function(s){if(s.isPublic())throw new Error("Need private key for signing");if(s.hasSameFingerprintAs(e))throw new Error("Not implemented for self signing");let o=await s.getSigningKey(void 0,void 0,void 0,n);return o0(i,s,o.keyPacket,{signatureType:g.signature.certGeneric,keyFlags:[g.keyFlags.certifyKeys|g.keyFlags.signData]},void 0,void 0,void 0,void 0,n)})),await a.update(this,e),a}async isRevoked(e,r,n,i=new Date,a){return c0(e,g.signature.certRevocation,{key:e,userId:this.userId,userAttribute:this.userAttribute},this.revocationSignatures,r,n,i,a)}async verifyCertificate(e,r,n,i=new Date,a){let s=this,o=r.issuerKeyId,f={userId:this.userId,userAttribute:this.userAttribute,key:e};return(await Promise.all(n.map(async function(d){if(!d.getKeyIds().some(b=>b.equals(o)))return null;let u=await d.getSigningKey(o,i,void 0,a);if(r.revoked||await s.isRevoked(e,r,u.keyPacket,i,a))throw new Error("User certificate is revoked");try{r.verified||await r.verify(u.keyPacket,g.signature.certGeneric,f,void 0,void 0,a)}catch(b){throw R.wrapError("User certificate is invalid",b)}if(r.isExpired(i))throw new Error("User certificate is expired");return!0}))).find(d=>d!==null)||null}async verifyAllCertifications(e,r,n=new Date,i){let a=this,s=this.selfCertifications.concat(this.otherCertifications);return Promise.all(s.map(async function(o){return{keyid:o.issuerKeyId,valid:await a.verifyCertificate(e,o,r,n,i).catch(()=>!1)}}))}async verify(e,r=new Date,n){if(!this.selfCertifications.length)throw new Error("No self-certifications");let i=this,a={userId:this.userId,userAttribute:this.userAttribute,key:e},s;for(let o=this.selfCertifications.length-1;o>=0;o--)try{let f=this.selfCertifications[o];if(f.revoked||await i.isRevoked(e,f,void 0,r,n))throw new Error("Self-certification is revoked");try{f.verified||await f.verify(e,g.signature.certGeneric,a,void 0,void 0,n)}catch(c){throw R.wrapError("Self-certification is invalid",c)}if(f.isExpired(r))throw new Error("Self-certification is expired");return!0}catch(f){s=f}throw s}async update(e,r,n){let i={userId:this.userId,userAttribute:this.userAttribute,key:r};await wa(e,this,"selfCertifications",async function(a){try{return a.verified||await a.verify(r,g.signature.certGeneric,i,void 0,void 0,n),!0}catch(s){return!1}}),await wa(e,this,"otherCertifications"),await wa(e,this,"revocationSignatures",function(a){return c0(r,g.signature.certRevocation,i,[a],void 0,void 0,void 0,n)})}},Ui=class{constructor(e){if(!(this instanceof Ui))return new Ui(e);this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[]}toPacketlist(){let e=new Et;return e.push(this.keyPacket),e.concat(this.revocationSignatures),e.concat(this.bindingSignatures),e}async isRevoked(e,r,n,i=new Date,a=Ce){return c0(e,g.signature.subkeyRevocation,{key:e,bind:this.keyPacket},this.revocationSignatures,r,n,i,a)}async verify(e,r=new Date,n=Ce){let i={key:e,bind:this.keyPacket},a=await Ki(this.bindingSignatures,e,g.signature.subkeyBinding,i,r,n);if(a.revoked||await this.isRevoked(e,a,null,r,n))throw new Error("Subkey is revoked");if(hp(this.keyPacket,a,r))throw new Error("Subkey is expired");return a}async getExpirationTime(e,r=new Date,n=Ce){let i={key:e,bind:this.keyPacket},a;try{a=await Ki(this.bindingSignatures,e,g.signature.subkeyBinding,i,r,n)}catch(f){return null}let s=au(this.keyPacket,a),o=a.getExpirationTime();return s<o?s:o}async update(e,r,n=Ce){if(!this.hasSameFingerprintAs(e))throw new Error("SubKey update method: fingerprints of subkeys not equal");this.keyPacket.tag===g.packet.publicSubkey&&e.keyPacket.tag===g.packet.secretSubkey&&(this.keyPacket=e.keyPacket);let i=this,a={key:r,bind:i.keyPacket};await wa(e,this,"bindingSignatures",async function(s){for(let o=0;o<i.bindingSignatures.length;o++)if(i.bindingSignatures[o].issuerKeyId.equals(s.issuerKeyId))return s.created>i.bindingSignatures[o].created&&(i.bindingSignatures[o]=s),!1;try{return s.verified||await s.verify(r,g.signature.subkeyBinding,a,void 0,void 0,n),!0}catch(o){return!1}}),await wa(e,this,"revocationSignatures",function(s){return c0(r,g.signature.subkeyRevocation,a,[s],void 0,void 0,void 0,n)})}async revoke(e,{flag:r=g.reasonForRevocation.noReason,string:n=""}={},i=new Date,a=Ce){let s={key:e,bind:this.keyPacket},o=new Ui(this.keyPacket);return o.revocationSignatures.push(await o0(s,null,e,{signatureType:g.signature.subkeyRevocation,reasonForRevocationFlag:g.write(g.reasonForRevocation,r),reasonForRevocationString:n},i,void 0,void 0,void 0,a)),await o.update(this,e),o}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}};["getKeyId","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(t=>{Ui.prototype[t]=function(){return this.keyPacket[t]()}});var kn=class{constructor(e){if(!(this instanceof kn))return new kn(e);if(this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subKeys=[],this.packetlist2structure(e),!this.keyPacket)throw new Error("Invalid key: need at least key packet")}get primaryKey(){return this.keyPacket}packetlist2structure(e){let r,n,i;for(let a=0;a<e.length;a++)switch(e[a].tag){case g.packet.publicKey:case g.packet.secretKey:if(this.keyPacket)throw new Error("Key block contains multiple keys");this.keyPacket=e[a],n=this.getKeyId();break;case g.packet.userID:case g.packet.userAttribute:r=new f0(e[a]),this.users.push(r);break;case g.packet.publicSubkey:case g.packet.secretSubkey:r=null,i=new Ui(e[a]),this.subKeys.push(i);break;case g.packet.signature:switch(e[a].signatureType){case g.signature.certGeneric:case g.signature.certPersona:case g.signature.certCasual:case g.signature.certPositive:if(!r){R.printDebug("Dropping certification signatures without preceding user packet");continue}e[a].issuerKeyId.equals(n)?r.selfCertifications.push(e[a]):r.otherCertifications.push(e[a]);break;case g.signature.certRevocation:r?r.revocationSignatures.push(e[a]):this.directSignatures.push(e[a]);break;case g.signature.key:this.directSignatures.push(e[a]);break;case g.signature.subkeyBinding:if(!i){R.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}i.bindingSignatures.push(e[a]);break;case g.signature.keyRevocation:this.revocationSignatures.push(e[a]);break;case g.signature.subkeyRevocation:if(!i){R.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}i.revocationSignatures.push(e[a]);break}break}}toPacketlist(){let e=new Et;return e.push(this.keyPacket),e.concat(this.revocationSignatures),e.concat(this.directSignatures),this.users.map(r=>e.concat(r.toPacketlist())),this.subKeys.map(r=>e.concat(r.toPacketlist())),e}async clone(){return new kn(this.toPacketlist())}getSubkeys(e=null){let r=[];return this.subKeys.forEach(n=>{(!e||n.getKeyId().equals(e,!0))&&r.push(n)}),r}getKeys(e=null){let r=[];return(!e||this.getKeyId().equals(e,!0))&&r.push(this),r.concat(this.getSubkeys(e))}getKeyIds(){return this.getKeys().map(e=>e.getKeyId())}getUserIds(){return this.users.map(e=>e.userId?e.userId.userid:null).filter(e=>e!==null)}isPublic(){return this.keyPacket.tag===g.packet.publicKey}isPrivate(){return this.keyPacket.tag===g.packet.secretKey}toPublic(){let e=new Et,r=this.toPacketlist(),n,i,a;for(let s=0;s<r.length;s++)switch(r[s].tag){case g.packet.secretKey:n=r[s].writePublicKey(),i=new An,i.read(n),e.push(i);break;case g.packet.secretSubkey:n=r[s].writePublicKey(),a=new xc,a.read(n),e.push(a);break;default:e.push(r[s])}return new kn(e)}armor(e=Ce){let r=this.isPublic()?g.armor.publicKey:g.armor.privateKey;return Po(r,this.toPacketlist().write(),void 0,void 0,void 0,e)}async getSigningKey(e=null,r=new Date,n={},i=Ce){await this.verifyPrimaryKey(r,n,i);let a=this.keyPacket,s=this.subKeys.slice().sort((c,d)=>d.keyPacket.created-c.keyPacket.created),o;for(let c=0;c<s.length;c++)if(!e||s[c].getKeyId().equals(e))try{await s[c].verify(a,r,i);let d={key:a,bind:s[c].keyPacket},u=await Ki(s[c].bindingSignatures,a,g.signature.subkeyBinding,d,r,i);if(u&&u.embeddedSignature&&xp(s[c].keyPacket,u)&&await Ki([u.embeddedSignature],s[c].keyPacket,g.signature.keyBinding,d,r,i))return s[c]}catch(d){o=d}let f=await this.getPrimaryUser(r,n,i);if((!e||a.getKeyId().equals(e))&&xp(a,f.selfCertification))return this;throw R.wrapError("Could not find valid signing key packet in key "+this.getKeyId().toHex(),o)}async getEncryptionKey(e,r=new Date,n={},i=Ce){await this.verifyPrimaryKey(r,n,i);let a=this.keyPacket,s=this.subKeys.slice().sort((c,d)=>d.keyPacket.created-c.keyPacket.created),o;for(let c=0;c<s.length;c++)if(!e||s[c].getKeyId().equals(e))try{await s[c].verify(a,r,i);let d={key:a,bind:s[c].keyPacket},u=await Ki(s[c].bindingSignatures,a,g.signature.subkeyBinding,d,r,i);if(u&&yp(s[c].keyPacket,u))return s[c]}catch(d){o=d}let f=await this.getPrimaryUser(r,n,i);if((!e||a.getKeyId().equals(e))&&yp(a,f.selfCertification))return this;throw R.wrapError("Could not find valid encryption key packet in key "+this.getKeyId().toHex(),o)}async getDecryptionKeys(e,r=new Date,n={},i=Ce){let a=this.keyPacket,s=[];for(let f=0;f<this.subKeys.length;f++)if(!e||this.subKeys[f].getKeyId().equals(e,!0))try{let c={key:a,bind:this.subKeys[f].keyPacket},d=await Ki(this.subKeys[f].bindingSignatures,a,g.signature.subkeyBinding,c,r,i);d&&mp(d,i)&&s.push(this.subKeys[f])}catch(c){}let o=await this.getPrimaryUser(r,n,i);return(!e||a.getKeyId().equals(e,!0))&&mp(o.selfCertification,i)&&s.push(this),s}async encrypt(e,r=null,n=Ce){if(!this.isPrivate())throw new Error("Nothing to encrypt in a public key");let i=this.getKeys(r);if(e=R.isArray(e)?e:new Array(i.length).fill(e),e.length!==i.length)throw new Error("Invalid number of passphrases for key");await Promise.all(i.map(async function(a,s){let{keyPacket:o}=a;await o.encrypt(e[s],n),o.clearPrivateParams()}))}async decrypt(e,r=null,n=Ce){if(!this.isPrivate())throw new Error("Nothing to decrypt in a public key");e=R.isArray(e)?e:[e],await Promise.all(this.getKeys(r).map(async function(i){let a=!1,s=null;if(await Promise.all(e.map(async function(o){try{await i.keyPacket.decrypt(o),r&&await i.keyPacket.validate(),a=!0}catch(f){s=f}})),!a)throw s})),r||await this.validate(n)}isDecrypted(){return this.getKeys().some(({keyPacket:e})=>e.isDecrypted())}async validate(e=Ce){if(!this.isPrivate())throw new Error("Cannot validate a public key");let r;if(!this.primaryKey.isDummy())r=this.primaryKey;else{let n=await this.getSigningKey(null,null,void 0,e);n&&!n.keyPacket.isDummy()&&(r=n.keyPacket)}if(r)return r.validate();{let n=this.getKeys();if(n.map(a=>a.keyPacket.isDummy()).every(Boolean))throw new Error("Cannot validate an all-gnu-dummy key");return Promise.all(n.map(async a=>a.keyPacket.validate()))}}clearPrivateParams(){if(!this.isPrivate())throw new Error("Can't clear private parameters of a public key");this.getKeys().forEach(({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()})}async isRevoked(e,r,n=new Date,i=Ce){return c0(this.keyPacket,g.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,r,n,i)}async verifyPrimaryKey(e=new Date,r={},n=Ce){let i=this.keyPacket;if(await this.isRevoked(null,null,e,n))throw new Error("Primary key is revoked");let{selfCertification:a}=await this.getPrimaryUser(e,r,n);if(hp(i,a,e))throw new Error("Primary key is expired")}async getExpirationTime(e,r,n,i=Ce){let s=(await this.getPrimaryUser(null,n,i)).selfCertification,o=au(this.keyPacket,s),f=s.getExpirationTime(),c=o<f?o:f;if(e==="encrypt"||e==="encrypt_sign"){let d=await this.getEncryptionKey(r,c,n,i).catch(()=>{})||await this.getEncryptionKey(r,null,n,i).catch(()=>{});if(!d)return null;let u=await d.getExpirationTime(this.keyPacket,void 0,i);u<c&&(c=u)}if(e==="sign"||e==="encrypt_sign"){let d=await this.getSigningKey(r,c,n,i).catch(()=>{})||await this.getSigningKey(r,null,n,i).catch(()=>{});if(!d)return null;let u=await d.getExpirationTime(this.keyPacket,void 0,i);u<c&&(c=u)}return c}async getPrimaryUser(e=new Date,r={},n=Ce){let i=this.keyPacket,a=[],s;for(let d=0;d<this.users.length;d++)try{let u=this.users[d];if(!u.userId)continue;if(r.name!==void 0&&u.userId.name!==r.name||r.email!==void 0&&u.userId.email!==r.email||r.comment!==void 0&&u.userId.comment!==r.comment)throw new Error("Could not find user that matches that user ID");let b={userId:u.userId,key:i},x=await Ki(u.selfCertifications,i,g.signature.certGeneric,b,e,n);a.push({index:d,user:u,selfCertification:x})}catch(u){s=u}if(!a.length)throw s||new Error("Could not find primary user");await Promise.all(a.map(async function(d){return d.user.revoked||d.user.isRevoked(i,d.selfCertification,null,e,n)}));let o=a.sort(function(d,u){let b=d.selfCertification,x=u.selfCertification;return x.revoked-b.revoked||b.isPrimaryUserID-x.isPrimaryUserID||b.created-x.created}).pop(),{user:f,selfCertification:c}=o;if(c.revoked||await f.isRevoked(i,c,null,e,n))throw new Error("Primary user is revoked");return o}async update(e,r=Ce){if(!this.hasSameFingerprintAs(e))throw new Error("Key update method: fingerprints of keys not equal");if(this.isPublic()&&e.isPrivate()){if(!(this.subKeys.length===e.subKeys.length&&this.subKeys.every(i=>e.subKeys.some(a=>i.hasSameFingerprintAs(a)))))throw new Error("Cannot update public key with private key if subkey mismatch");this.keyPacket=e.keyPacket}await wa(e,this,"revocationSignatures",n=>c0(this.keyPacket,g.signature.keyRevocation,this,[n],null,e.keyPacket,void 0,r)),await wa(e,this,"directSignatures"),await Promise.all(e.users.map(async n=>{let i=!1;await Promise.all(this.users.map(async a=>{(n.userId&&a.userId&&n.userId.userid===a.userId.userid||n.userAttribute&&n.userAttribute.equals(a.userAttribute))&&(await a.update(n,this.keyPacket,r),i=!0)})),i||this.users.push(n)})),await Promise.all(e.subKeys.map(async n=>{let i=!1;await Promise.all(this.subKeys.map(async a=>{a.hasSameFingerprintAs(n)&&(await a.update(n,this.keyPacket,r),i=!0)})),i||this.subKeys.push(n)}))}async revoke({flag:e=g.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=Ce){if(this.isPublic())throw new Error("Need private key for revoking");let a={key:this.keyPacket},s=await this.clone();return s.revocationSignatures.push(await o0(a,null,this.keyPacket,{signatureType:g.signature.keyRevocation,reasonForRevocationFlag:g.write(g.reasonForRevocation,e),reasonForRevocationString:r},n,void 0,void 0,void 0,i)),s}async getRevocationCertificate(e=new Date,r=Ce){let n={key:this.keyPacket},i=await Ki(this.revocationSignatures,this.keyPacket,g.signature.keyRevocation,n,e,r),a=new Et;return a.push(i),Po(g.armor.publicKey,a.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,r=Ce){let n=await Co(e,r),i=new Et;await i.read(n.data,{SignaturePacket:$t},void 0,r);let a=i.findPacket(g.packet.signature);if(!a||a.signatureType!==g.signature.keyRevocation)throw new Error("Could not find revocation signature packet");if(!a.issuerKeyId.equals(this.getKeyId()))throw new Error("Revocation signature does not match key");if(a.isExpired())throw new Error("Revocation signature is expired");try{await a.verify(this.keyPacket,g.signature.keyRevocation,{key:this.keyPacket},void 0,void 0,r)}catch(o){throw R.wrapError("Could not verify revocation signature",o)}let s=await this.clone();return s.revocationSignatures.push(a),s}async signPrimaryUser(e,r,n,i=Ce){let{index:a,user:s}=await this.getPrimaryUser(r,n,i),o=await s.sign(this.keyPacket,e,i),f=await this.clone();return f.users[a]=o,f}async signAllUsers(e,r=Ce){let n=this,i=await this.clone();return i.users=await Promise.all(this.users.map(function(a){return a.sign(n.keyPacket,e,r)})),i}async verifyPrimaryUser(e,r,n,i=Ce){let a=this.keyPacket,{user:s}=await this.getPrimaryUser(r,n,i);return e?await s.verifyAllCertifications(a,e,void 0,i):[{keyid:a.keyid,valid:await s.verify(a,void 0,i).catch(()=>!1)}]}async verifyAllUsers(e,r=Ce){let n=[],i=this.keyPacket;return await Promise.all(this.users.map(async function(a){(e?await a.verifyAllCertifications(i,e,void 0,r):[{keyid:i.keyid,valid:await a.verify(i,void 0,r).catch(()=>!1)}]).forEach(o=>{n.push({userid:a.userId.userid,keyid:o.keyid,valid:o.valid})})})),n}async addSubkey(e={}){let r={...Ce,...e.config};if(!this.isPrivate())throw new Error("Cannot add a subkey to a public key");if(e.passphrase)throw new Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<r.minRsaBits)throw new Error(`rsaBits should be at least ${r.minRsaBits}, got: ${e.rsaBits}`);let n=this.primaryKey;if(n.isDummy())throw new Error("Cannot add subkey to gnu-dummy primary key");if(!n.isDecrypted())throw new Error("Key is not decrypted");let i=n.getAlgorithmInfo();i.type=i.curve?"ecc":"rsa",i.rsaBits=i.bits||4096,i.curve=i.curve||"curve25519",e=su(e,i);let a=await lp(e),s=await bp(a,n,e,r),o=this.toPacketlist();return o.push(a),o.push(s),new kn(o)}};["getKeyId","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(t=>{kn.prototype[t]=Ui.prototype[t]});async function l9(t,e){t.sign=!0,t=su(t),t.subkeys=t.subkeys.map((n,i)=>su(t.subkeys[i],t));let r=[f9(t,e)];return r=r.concat(t.subkeys.map(n=>lp(n,e))),Promise.all(r).then(n=>u9(n[0],n.slice(1),t,e))}async function u9(t,e,r,n){r.passphrase&&await t.encrypt(r.passphrase,n),await Promise.all(e.map(async function(s,o){let f=r.subkeys[o].passphrase;f&&await s.encrypt(f,n)}));let i=new Et;i.push(t),await Promise.all(r.userIds.map(async function(s,o){function f(b,x){if(x){let A=b.indexOf(x);A>=1&&b.splice(A,1),A!==0&&b.unshift(x)}return b}let c=xs.fromObject(s),d={};d.userId=c,d.key=t;let u=new $t(r.date);return u.signatureType=g.signature.certGeneric,u.publicKeyAlgorithm=t.algorithm,u.hashAlgorithm=await vc(null,t,void 0,void 0,n),u.keyFlags=[g.keyFlags.certifyKeys|g.keyFlags.signData],u.preferredSymmetricAlgorithms=f([g.symmetric.aes256,g.symmetric.aes128,g.symmetric.aes192],n.encryptionCipher),n.aeadProtect&&(u.preferredAeadAlgorithms=f([g.aead.eax,g.aead.ocb],n.aeadMode)),u.preferredHashAlgorithms=f([g.hash.sha256,g.hash.sha512],n.preferHashAlgorithm),u.preferredCompressionAlgorithms=f([g.compression.zlib,g.compression.zip,g.compression.uncompressed],n.compression),o===0&&(u.isPrimaryUserID=!0),u.features=[0],u.features[0]|=g.features.modificationDetection,n.aeadProtect&&(u.features[0]|=g.features.aead),n.v5Keys&&(u.features[0]|=g.features.v5Keys),r.keyExpirationTime>0&&(u.keyExpirationTime=r.keyExpirationTime,u.keyNeverExpires=!1),await u.sign(t,d),{userIdPacket:c,signaturePacket:u}})).then(s=>{s.forEach(({userIdPacket:o,signaturePacket:f})=>{i.push(o),i.push(f)})}),await Promise.all(e.map(async function(s,o){let f=r.subkeys[o],c=await bp(s,t,f,n);return{secretSubkeyPacket:s,subkeySignaturePacket:c}})).then(s=>{s.forEach(({secretSubkeyPacket:o,subkeySignaturePacket:f})=>{i.push(o),i.push(f)})});let a={key:t};return i.push(await o0(a,null,t,{signatureType:g.signature.keyRevocation,reasonForRevocationFlag:g.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,void 0,n)),r.passphrase&&t.clearPrivateParams(),await Promise.all(e.map(async function(s,o){r.subkeys[o].passphrase&&s.clearPrivateParams()})),new kn(i)}async function zi({armoredKey:t,binaryKey:e,config:r}){if(r={...Ce,...r},!t&&!e)throw new Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");let n;if(t){let{type:a,data:s}=await Co(t,r);if(!(a===g.armor.publicKey||a===g.armor.privateKey))throw new Error("Armored text not of type key");n=s}else n=e;let i=new Et;return await i.read(n,c9,void 0,r),new kn(i)}var Qt=class{constructor(e){this.packets=e||new Et}getEncryptionKeyIds(){let e=[];return this.packets.filterByTag(g.packet.publicKeyEncryptedSessionKey).forEach(function(n){e.push(n.publicKeyId)}),e}getSigningKeyIds(){let e=[],r=this.unwrapCompressed();return r.packets.filterByTag(g.packet.onePassSignature).forEach(function(i){e.push(i.issuerKeyId)}),e.length||r.packets.filterByTag(g.packet.signature).forEach(function(a){e.push(a.issuerKeyId)}),e}async decrypt(e,r,n,i,a=Ce){let s=n||await this.decryptSessionKeys(e,r,a),o=this.packets.filterByTag(g.packet.symmetricallyEncryptedData,g.packet.symEncryptedIntegrityProtectedData,g.packet.AEADEncryptedData);if(o.length===0)return this;let f=o[0],c=null,d=Promise.all(s.map(async b=>{if(!b||!R.isUint8Array(b.data)||!R.isString(b.algorithm))throw new Error("Invalid session key for decryption.");try{await f.decrypt(b.algorithm,b.data,i,a)}catch(x){R.printDebugError(x),c=x}}));if(pe.cancel(f.encrypted),f.encrypted=null,await d,!f.packets||!f.packets.length)throw c||new Error("Decryption failed.");let u=new Qt(f.packets);return f.packets=new Et,u}async decryptSessionKeys(e,r,n=Ce){let i=[],a;if(r){let s=this.packets.filterByTag(g.packet.symEncryptedSessionKey);if(!s)throw new Error("No symmetrically encrypted session key packet found.");await Promise.all(r.map(async function(o,f){let c;f?(c=new Et,await c.read(s.write(),{SymEncryptedSessionKeyPacket:pc})):c=s,await Promise.all(c.map(async function(d){try{await d.decrypt(o),i.push(d)}catch(u){R.printDebugError(u)}}))}))}else if(e){let s=this.packets.filterByTag(g.packet.publicKeyEncryptedSessionKey);if(!s)throw new Error("No public key encrypted session key packet found.");await Promise.all(s.map(async function(o){await Promise.all(e.map(async function(f){let c=[g.symmetric.aes256,g.symmetric.aes128,g.symmetric.tripledes,g.symmetric.cast5];try{let u=await f.getPrimaryUser(void 0,void 0,n);u.selfCertification.preferredSymmetricAlgorithms&&(c=c.concat(u.selfCertification.preferredSymmetricAlgorithms))}catch(u){}let d=(await f.getDecryptionKeys(o.publicKeyId,null,void 0,n)).map(u=>u.keyPacket);await Promise.all(d.map(async function(u){if(!(!u||u.isDummy())){if(!u.isDecrypted())throw new Error("Private key is not decrypted.");try{if(await o.decrypt(u),!c.includes(g.write(g.symmetric,o.sessionKeyAlgorithm)))throw new Error("A non-preferred symmetric algorithm was used.");i.push(o)}catch(b){R.printDebugError(b),a=b}}}))})),pe.cancel(o.encrypted),o.encrypted=null}))}else throw new Error("No key or password specified.");if(i.length){if(i.length>1){let s={};i=i.filter(function(o){let f=o.sessionKeyAlgorithm+R.uint8ArrayToStr(o.sessionKey);return s.hasOwnProperty(f)?!1:(s[f]=!0,!0)})}return i.map(s=>({data:s.sessionKey,algorithm:s.sessionKeyAlgorithm}))}throw a||new Error("Session key decryption failed.")}getLiteralData(){let r=this.unwrapCompressed().packets.findPacket(g.packet.literalData);return r&&r.getBytes()||null}getFilename(){let r=this.unwrapCompressed().packets.findPacket(g.packet.literalData);return r&&r.getFilename()||null}getText(){let r=this.unwrapCompressed().packets.findPacket(g.packet.literalData);return r?r.getText():null}static async generateSessionKey(e=[],r=new Date,n=[],i=Ce){let a=g.read(g.symmetric,await pp("symmetric",e,r,n,i)),s=i.aeadProtect&&await d9(e,r,n,i)?g.read(g.aead,await pp("aead",e,r,n,i)):void 0;return{data:await Re.generateSessionKey(a),algorithm:a,aeadAlgorithm:s}}async encrypt(e,r,n,i=!1,a=[],s=new Date,o=[],f,c=Ce){if(n){if(!R.isUint8Array(n.data)||!R.isString(n.algorithm))throw new Error("Invalid session key for encryption.")}else if(e&&e.length)n=await Qt.generateSessionKey(e,s,o,c);else if(r&&r.length)n=await Qt.generateSessionKey(void 0,void 0,void 0,c);else throw new Error("No keys, passwords, or session key provided.");let{data:d,algorithm:u,aeadAlgorithm:b}=n,x=await Qt.encryptSessionKey(d,u,b,e,r,i,a,s,o,c),A;return b?(A=new ru,A.aeadAlgorithm=b):A=new tu,A.packets=this.packets,await A.encrypt(u,d,f,c),x.packets.push(A),A.packets=new Et,x}static async encryptSessionKey(e,r,n,i,a,s=!1,o=[],f=new Date,c=[],d=Ce){let u=new Et;if(i){let b=await Promise.all(i.map(async function(x,A){let S=await x.getEncryptionKey(o[A],f,c,d),O=new nu;return O.publicKeyId=s?Fn.wildcard():S.getKeyId(),O.publicKeyAlgorithm=S.keyPacket.algorithm,O.sessionKey=e,O.sessionKeyAlgorithm=r,await O.encrypt(S.keyPacket),delete O.sessionKey,O}));u.concat(b)}if(a){let b=async function(O,T){try{return await O.decrypt(T),1}catch(Q){return 0}},x=(O,T)=>O+T,A=async function(O,T,Q,ne){let F=new pc(d);return F.sessionKey=O,F.sessionKeyAlgorithm=T,Q&&(F.aeadAlgorithm=Q),await F.encrypt(ne,d),d.passwordCollisionCheck&&(await Promise.all(a.map(te=>b(F,te)))).reduce(x)!==1?A(O,T,ne):(delete F.sessionKey,F)},S=await Promise.all(a.map(O=>A(e,r,n,O)));u.concat(S)}return new Qt(u)}async sign(e=[],r=null,n=[],i=new Date,a=[],s=!1,o=Ce){let f=new Et,c=this.packets.findPacket(g.packet.literalData);if(!c)throw new Error("No literal data packet to sign.");let d,u,b=c.text===null?g.signature.binary:g.signature.text;if(r)for(u=r.packets.filterByTag(g.packet.signature),d=u.length-1;d>=0;d--){let x=u[d],A=new Gr;A.signatureType=x.signatureType,A.hashAlgorithm=x.hashAlgorithm,A.publicKeyAlgorithm=x.publicKeyAlgorithm,A.issuerKeyId=x.issuerKeyId,!e.length&&d===0&&(A.flags=1),f.push(A)}return await Promise.all(Array.from(e).reverse().map(async function(x,A){if(x.isPublic())throw new Error("Need private key for signing");let S=n[e.length-1-A],O=await x.getSigningKey(S,i,a,o),T=new Gr;return T.signatureType=b,T.hashAlgorithm=await vc(x,O.keyPacket,i,a,o),T.publicKeyAlgorithm=O.keyPacket.algorithm,T.issuerKeyId=O.getKeyId(),A===e.length-1&&(T.flags=1),T})).then(x=>{x.forEach(A=>f.push(A))}),f.push(c),f.concat(await gp(c,e,r,n,i,a,!1,s,o)),new Qt(f)}compress(e=Ce){if(e.compression===g.compression.uncompressed)return this;let r=new i0(e);r.packets=this.packets;let n=new Et;return n.push(r),new Qt(n)}async signDetached(e=[],r=null,n=[],i=new Date,a=[],s=!1,o=Ce){let f=this.packets.findPacket(g.packet.literalData);if(!f)throw new Error("No literal data packet to sign.");return new iu(await gp(f,e,r,n,i,a,!0,s,o))}async verify(e,r=new Date,n,i=Ce){let a=this.unwrapCompressed(),s=a.packets.filterByTag(g.packet.literalData);if(s.length!==1)throw new Error("Can only verify message with one literal data packet.");n||a.packets.concat(await pe.readToEnd(a.packets.stream,c=>c));let o=a.packets.filterByTag(g.packet.onePassSignature).reverse(),f=a.packets.filterByTag(g.packet.signature);return n&&o.length&&!f.length&&a.packets.stream?(await Promise.all(o.map(async c=>{c.correspondingSig=new Promise((d,u)=>{c.correspondingSigResolve=d,c.correspondingSigReject=u}),c.signatureData=pe.fromAsync(async()=>(await c.correspondingSig).signatureData),c.hashed=pe.readToEnd(await c.hash(c.signatureType,s[0],void 0,!1,n)),c.hashed.catch(()=>{})})),a.packets.stream=pe.transformPair(a.packets.stream,async(c,d)=>{let u=pe.getReader(c),b=pe.getWriter(d);try{for(let x=0;x<o.length;x++){let{value:A}=await u.read();o[x].correspondingSigResolve(A)}await u.readToEnd(),await b.ready,await b.close()}catch(x){o.forEach(A=>{A.correspondingSigReject(x)}),await b.abort(x)}}),ou(o,s,e,r,!1,n,i)):ou(f,s,e,r,!1,n,i)}verifyDetached(e,r,n=new Date,i,a=Ce){let o=this.unwrapCompressed().packets.filterByTag(g.packet.literalData);if(o.length!==1)throw new Error("Can only verify message with one literal data packet.");let f=e.packets;return ou(f,o,r,n,!0,void 0,a)}unwrapCompressed(){let e=this.packets.filterByTag(g.packet.compressedData);return e.length?new Qt(e[0].packets):this}async appendSignature(e){await this.packets.read(R.isUint8Array(e)?e:(await Co(e)).data,{SignaturePacket:$t})}write(){return this.packets.write()}armor(e=Ce){return Po(g.armor.message,this.write(),null,null,null,e)}static fromText(e,r,n=new Date,i="utf8"){let a=R.isStream(e);a==="node"&&(e=pe.nodeToWeb(e));let s=new Di(n);s.setText(e,i),r!==void 0&&s.setFilename(r);let o=new Et;o.push(s);let f=new Qt(o);return f.fromStream=a,f}static fromBinary(e,r,n=new Date,i="binary"){let a=R.isStream(e);if(!R.isUint8Array(e)&&!a)throw new Error("Data must be in the form of a Uint8Array or Stream");a==="node"&&(e=pe.nodeToWeb(e));let s=new Di(n);s.setBytes(e,i),r!==void 0&&s.setFilename(r);let o=new Et;o.push(s);let f=new Qt(o);return f.fromStream=a,f}};async function gp(t,e,r=null,n=[],i=new Date,a=[],s=!1,o=!1,f=Ce){let c=new Et,d=t.text===null?g.signature.binary:g.signature.text;if(await Promise.all(e.map(async(u,b)=>{let x=a[b];if(u.isPublic())throw new Error("Need private key for signing");let A=await u.getSigningKey(n[b],i,x,f);return o0(t,u,A.keyPacket,{signatureType:d},i,x,s,o,f)})).then(u=>{u.forEach(b=>c.push(b))}),r){let u=r.packets.filterByTag(g.packet.signature);c.concat(u)}return c}async function h9(t,e,r,n=new Date,i=!1,a=!1,s=Ce){let o=null,f=null;await Promise.all(r.map(async function(u){try{f=await u.getSigningKey(t.issuerKeyId,null,void 0,s),o=u}catch(b){}}));let c=t.correspondingSig||t,d={keyid:t.issuerKeyId,verified:(async()=>{if(!f)return null;await t.verify(f.keyPacket,t.signatureType,e[0],i,a,s);let u=await c;if(u.isExpired(n)||!(u.created>=f.getCreationTime()&&u.created<await(f===o?f.getExpirationTime(void 0,void 0,void 0,s):f.getExpirationTime(o,n,void 0,s))))throw new Error("Signature is expired");return!0})(),signature:(async()=>{let u=await c,b=new Et;return b.push(u),new iu(b)})()};return d.signature.catch(()=>{}),d.verified.catch(()=>{}),d}async function ou(t,e,r,n=new Date,i=!1,a=!1,s=Ce){return Promise.all(t.filter(function(o){return["text","binary"].includes(g.read(g.signature,o.signatureType))}).map(async function(o){return h9(o,e,r,n,i,a,s)}))}async function vp({armoredMessage:t,binaryMessage:e,config:r}){r={...Ce,...r};let n=t||e;if(!n)throw new Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");let i=R.isStream(n);if(i==="node"&&(n=pe.nodeToWeb(n)),t){let{type:o,data:f}=await Co(n,r);if(o!==g.armor.message)throw new Error("Armored text not of type message");n=f}let a=new Et;await a.read(n,{LiteralDataPacket:Di,CompressedDataPacket:i0,AEADEncryptedDataPacket:ru,SymEncryptedIntegrityProtectedDataPacket:tu,SymmetricallyEncryptedDataPacket:op,PublicKeyEncryptedSessionKeyPacket:nu,SymEncryptedSessionKeyPacket:pc,OnePassSignaturePacket:Gr,SignaturePacket:$t},i,r);let s=new Qt(a);return s.fromStream=i,s}var cu;if(pt.ReadableStream)try{cu=b1(pt.ReadableStream)}catch(t){}function fu({userIds:t=[],passphrase:e="",type:r="ecc",rsaBits:n=4096,curve:i="curve25519",keyExpirationTime:a=0,date:s=new Date,subkeys:o=[{}],config:f}){f={...Ce,...f},t=Sn(t);let c={userIds:t,passphrase:e,type:r,rsaBits:n,curve:i,keyExpirationTime:a,date:s,subkeys:o};if(r==="rsa"&&n<f.minRsaBits)throw new Error(`rsaBits should be at least ${f.minRsaBits}, got: ${n}`);return l9(c,f).then(async d=>{let u=await d.getRevocationCertificate(s,f);return d.revocationSignatures=[],{key:d,privateKeyArmored:d.armor(f),publicKeyArmored:d.toPublic().armor(f),revocationCertificate:u}}).catch(wc.bind(null,"Error generating keypair"))}async function du({privateKey:t,passphrase:e,config:r}){r={...Ce,...r};let n=await t.clone();n.getKeys().forEach(i=>{i.keyPacket=Object.create(Object.getPrototypeOf(i.keyPacket),Object.getOwnPropertyDescriptors(i.keyPacket))});try{return await n.decrypt(e,void 0,r),n}catch(i){return n.clearPrivateParams(),wc("Error decrypting private key",i)}}function uu({message:t,publicKeys:e,privateKeys:r,passwords:n,sessionKey:i,armor:a=!0,streaming:s=t&&t.fromStream,detached:o=!1,signature:f=null,wildcard:c=!1,signingKeyIds:d=[],encryptionKeyIds:u=[],date:b=new Date,fromUserIds:x=[],toUserIds:A=[],config:S}){if(S={...Ce,...S},wp(t),e=Sn(e),r=Sn(r),n=Sn(n),x=Sn(x),A=Sn(A),o)throw new Error("detached option has been removed from openpgp.encrypt. Separately call openpgp.sign instead. Don't forget to remove privateKeys option as well.");return Promise.resolve().then(async function(){r||(r=[]),(r.length||f)&&(t=await t.sign(r,f,d,b,x,t.fromStream,S)),t=t.compress(S),t=await t.encrypt(e,n,i,c,u,b,A,s,S);let O=a?t.armor(S):t.write();return _p(O,s,a?"utf8":"binary")}).catch(wc.bind(null,"Error encrypting message"))}function Ap({message:t,privateKeys:e,passwords:r,sessionKeys:n,publicKeys:i,format:a="utf8",streaming:s=t&&t.fromStream,signature:o=null,date:f=new Date,config:c}){return c={...Ce,...c},wp(t),i=Sn(i),e=Sn(e),r=Sn(r),n=Sn(n),t.decrypt(e,r,n,s,c).then(async function(d){i||(i=[]);let u={};return u.signatures=o?await d.verifyDetached(o,i,f,s,c):await d.verify(i,f,s,c),u.data=a==="binary"?d.getLiteralData():d.getText(),u.filename=d.getFilename(),b9(u,t),u.data=await _p(u.data,s,a),s||await p9(u.signatures),u}).catch(wc.bind(null,"Error decrypting message"))}function wp(t){if(!(t instanceof Qt))throw new Error("Parameter [message] needs to be of type Message")}function Sn(t){return t&&!R.isArray(t)&&(t=[t]),t}async function _p(t,e,r="utf8"){let n=R.isStream(t);return!e&&n?pe.readToEnd(t):(e&&!n&&(t=pe.toStream(t),n=R.isStream(t)),e==="node"?(t=pe.webToNode(t),r!=="binary"&&t.setEncoding(r),t):e==="web"&&n==="ponyfill"&&cu?cu(t):t)}function b9(t,e){t.data=pe.transformPair(e.packets.stream,async(r,n)=>{await pe.pipe(t.data,n,{preventClose:!0});let i=pe.getWriter(n);try{await pe.readToEnd(r,a=>a),await i.close()}catch(a){await i.abort(a)}})}async function p9(t){await Promise.all(t.map(async e=>{e.signature=await e.signature;try{e.valid=await e.verified}catch(r){e.valid=!1,e.error=r,R.printDebugError(r)}}))}function wc(t,e){R.printDebugError(e);try{e.message=t+": "+e.message}catch(r){}throw e}var Pe=fn(function(t){(function(e,r){function n(C,l){if(!C)throw new Error(l||"Assertion failed")}function i(C,l){C.super_=l;var m=function(){};m.prototype=l.prototype,C.prototype=new m,C.prototype.constructor=C}function a(C,l,m){if(a.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((l==="le"||l==="be")&&(m=l,l=10),this._init(C||0,l||10,m||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{s=void"buffer".Buffer}catch(C){}a.isBN=function(l){return l instanceof a?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===a.wordSize&&Array.isArray(l.words)},a.max=function(l,m){return l.cmp(m)>0?l:m},a.min=function(l,m){return l.cmp(m)<0?l:m},a.prototype._init=function(l,m,y){if(typeof l=="number")return this._initNumber(l,m,y);if(typeof l=="object")return this._initArray(l,m,y);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),l=l.toString().replace(/\s+/g,"");var I=0;l[0]==="-"&&I++,m===16?this._parseHex(l,I):this._parseBase(l,m,I),l[0]==="-"&&(this.negative=1),this.strip(),y==="le"&&this._initArray(this.toArray(),m,y)},a.prototype._initNumber=function(l,m,y){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),m,y)},a.prototype._initArray=function(l,m,y){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var N,Z,B=0;if(y==="be")for(I=l.length-1,N=0;I>=0;I-=3)Z=l[I]|l[I-1]<<8|l[I-2]<<16,this.words[N]|=Z<<B&67108863,this.words[N+1]=Z>>>26-B&67108863,B+=24,B>=26&&(B-=26,N++);else if(y==="le")for(I=0,N=0;I<l.length;I+=3)Z=l[I]|l[I+1]<<8|l[I+2]<<16,this.words[N]|=Z<<B&67108863,this.words[N+1]=Z>>>26-B&67108863,B+=24,B>=26&&(B-=26,N++);return this.strip()};function o(C,l,m){for(var y=0,I=Math.min(C.length,m),N=l;N<I;N++){var Z=C.charCodeAt(N)-48;y<<=4,Z>=49&&Z<=54?y|=Z-49+10:Z>=17&&Z<=22?y|=Z-17+10:y|=Z&15}return y}a.prototype._parseHex=function(l,m){this.length=Math.ceil((l.length-m)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var I,N,Z=0;for(y=l.length-6,I=0;y>=m;y-=6)N=o(l,y,y+6),this.words[I]|=N<<Z&67108863,this.words[I+1]|=N>>>26-Z&4194303,Z+=24,Z>=26&&(Z-=26,I++);y+6!==m&&(N=o(l,m,y+6),this.words[I]|=N<<Z&67108863,this.words[I+1]|=N>>>26-Z&4194303),this.strip()};function f(C,l,m,y){for(var I=0,N=Math.min(C.length,m),Z=l;Z<N;Z++){var B=C.charCodeAt(Z)-48;I*=y,B>=49?I+=B-49+10:B>=17?I+=B-17+10:I+=B}return I}a.prototype._parseBase=function(l,m,y){this.words=[0],this.length=1;for(var I=0,N=1;N<=67108863;N*=m)I++;I--,N=N/m|0;for(var Z=l.length-y,B=Z%I,P=Math.min(Z,Z-B)+y,p=0,L=y;L<P;L+=I)p=f(l,L,L+I,m),this.imuln(N),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(B!==0){var be=1;for(p=f(l,L,l.length,m),L=0;L<B;L++)be*=m;this.imuln(be),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}},a.prototype.copy=function(l){l.words=new Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red},a.prototype.clone=function(){var l=new a(null);return this.copy(l),l},a.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(l,m){l=l||10,m=m|0||1;var y;if(l===16||l==="hex"){y="";for(var I=0,N=0,Z=0;Z<this.length;Z++){var B=this.words[Z],P=((B<<I|N)&16777215).toString(16);N=B>>>24-I&16777215,N!==0||Z!==this.length-1?y=c[6-P.length]+P+y:y=P+y,I+=2,I>=26&&(I-=26,Z--)}for(N!==0&&(y=N.toString(16)+y);y.length%m!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(l===(l|0)&&l>=2&&l<=36){var p=d[l],L=u[l];y="";var be=this.clone();for(be.negative=0;!be.isZero();){var me=be.modn(L).toString(l);be=be.idivn(L),be.isZero()?y=me+y:y=c[p-me.length]+me+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(l,m){return n(typeof s!="undefined"),this.toArrayLike(s,l,m)},a.prototype.toArray=function(l,m){return this.toArrayLike(Array,l,m)},a.prototype.toArrayLike=function(l,m,y){var I=this.byteLength(),N=y||Math.max(1,I);n(I<=N,"byte array longer than desired length"),n(N>0,"Requested array length <= 0"),this.strip();var Z=m==="le",B=new l(N),P,p,L=this.clone();if(Z){for(p=0;!L.isZero();p++)P=L.andln(255),L.iushrn(8),B[p]=P;for(;p<N;p++)B[p]=0}else{for(p=0;p<N-I;p++)B[p]=0;for(p=0;!L.isZero();p++)P=L.andln(255),L.iushrn(8),B[N-p-1]=P}return B},Math.clz32?a.prototype._countBits=function(l){return 32-Math.clz32(l)}:a.prototype._countBits=function(l){var m=l,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},a.prototype._zeroBits=function(l){if(l===0)return 26;var m=l,y=0;return(m&8191)==0&&(y+=13,m>>>=13),(m&127)==0&&(y+=7,m>>>=7),(m&15)==0&&(y+=4,m>>>=4),(m&3)==0&&(y+=2,m>>>=2),(m&1)==0&&y++,y},a.prototype.bitLength=function(){var l=this.words[this.length-1],m=this._countBits(l);return(this.length-1)*26+m};function b(C){for(var l=new Array(C.bitLength()),m=0;m<l.length;m++){var y=m/26|0,I=m%26;l[m]=(C.words[y]&1<<I)>>>I}return l}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(l+=y,y!==26)break}return l},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},a.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this.strip()},a.prototype.ior=function(l){return n((this.negative|l.negative)==0),this.iuor(l)},a.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},a.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},a.prototype.iuand=function(l){var m;this.length>l.length?m=l:m=this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&l.words[y];return this.length=m.length,this.strip()},a.prototype.iand=function(l){return n((this.negative|l.negative)==0),this.iuand(l)},a.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},a.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},a.prototype.iuxor=function(l){var m,y;this.length>l.length?(m=this,y=l):(m=l,y=this);for(var I=0;I<y.length;I++)this.words[I]=m.words[I]^y.words[I];if(this!==m)for(;I<m.length;I++)this.words[I]=m.words[I];return this.length=m.length,this.strip()},a.prototype.ixor=function(l){return n((this.negative|l.negative)==0),this.iuxor(l)},a.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},a.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},a.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var m=Math.ceil(l/26)|0,y=l%26;this._expand(m),y>0&&m--;for(var I=0;I<m;I++)this.words[I]=~this.words[I]&67108863;return y>0&&(this.words[I]=~this.words[I]&67108863>>26-y),this.strip()},a.prototype.notn=function(l){return this.clone().inotn(l)},a.prototype.setn=function(l,m){n(typeof l=="number"&&l>=0);var y=l/26|0,I=l%26;return this._expand(y+1),m?this.words[y]=this.words[y]|1<<I:this.words[y]=this.words[y]&~(1<<I),this.strip()},a.prototype.iadd=function(l){var m;if(this.negative!==0&&l.negative===0)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();var y,I;this.length>l.length?(y=this,I=l):(y=l,I=this);for(var N=0,Z=0;Z<I.length;Z++)m=(y.words[Z]|0)+(I.words[Z]|0)+N,this.words[Z]=m&67108863,N=m>>>26;for(;N!==0&&Z<y.length;Z++)m=(y.words[Z]|0)+N,this.words[Z]=m&67108863,N=m>>>26;if(this.length=y.length,N!==0)this.words[this.length]=N,this.length++;else if(y!==this)for(;Z<y.length;Z++)this.words[Z]=y.words[Z];return this},a.prototype.add=function(l){var m;return l.negative!==0&&this.negative===0?(l.negative=0,m=this.sub(l),l.negative^=1,m):l.negative===0&&this.negative!==0?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},a.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var y=this.cmp(l);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,N;y>0?(I=this,N=l):(I=l,N=this);for(var Z=0,B=0;B<N.length;B++)m=(I.words[B]|0)-(N.words[B]|0)+Z,Z=m>>26,this.words[B]=m&67108863;for(;Z!==0&&B<I.length;B++)m=(I.words[B]|0)+Z,Z=m>>26,this.words[B]=m&67108863;if(Z===0&&B<I.length&&I!==this)for(;B<I.length;B++)this.words[B]=I.words[B];return this.length=Math.max(this.length,B),I!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(l){return this.clone().isub(l)};function x(C,l,m){m.negative=l.negative^C.negative;var y=C.length+l.length|0;m.length=y,y=y-1|0;var I=C.words[0]|0,N=l.words[0]|0,Z=I*N,B=Z&67108863,P=Z/67108864|0;m.words[0]=B;for(var p=1;p<y;p++){for(var L=P>>>26,be=P&67108863,me=Math.min(p,l.length-1),_e=Math.max(0,p-C.length+1);_e<=me;_e++){var Se=p-_e|0;I=C.words[Se]|0,N=l.words[_e]|0,Z=I*N+be,L+=Z/67108864|0,be=Z&67108863}m.words[p]=be|0,P=L|0}return P!==0?m.words[p]=P|0:m.length--,m.strip()}var A=function(l,m,y){var I=l.words,N=m.words,Z=y.words,B=0,P,p,L,be=I[0]|0,me=be&8191,_e=be>>>13,Se=I[1]|0,ge=Se&8191,j=Se>>>13,oe=I[2]|0,ee=oe&8191,G=oe>>>13,ce=I[3]|0,le=ce&8191,ye=ce>>>13,k=I[4]|0,v=k&8191,M=k>>>13,U=I[5]|0,w=U&8191,_=U>>>13,E=I[6]|0,h=E&8191,q=E>>>13,D=I[7]|0,K=D&8191,z=D>>>13,W=I[8]|0,$=W&8191,H=W>>>13,V=I[9]|0,Y=V&8191,Ne=V>>>13,at=N[0]|0,Le=at&8191,ie=at>>>13,ae=N[1]|0,fe=ae&8191,de=ae>>>13,Ie=N[2]|0,Be=Ie&8191,Te=Ie>>>13,Ze=N[3]|0,De=Ze&8191,ze=Ze>>>13,ct=N[4]|0,je=ct&8191,We=ct>>>13,_t=N[5]|0,tt=_t&8191,Ke=_t>>>13,Gt=N[6]|0,rt=Gt&8191,st=Gt>>>13,ur=N[7]|0,$e=ur&8191,Fe=ur>>>13,mt=N[8]|0,Ye=mt&8191,Ge=mt>>>13,ut=N[9]|0,qe=ut&8191,He=ut>>>13;y.negative=l.negative^m.negative,y.length=19,P=Math.imul(me,Le),p=Math.imul(me,ie),p=p+Math.imul(_e,Le)|0,L=Math.imul(_e,ie);var lt=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(lt>>>26)|0,lt&=67108863,P=Math.imul(ge,Le),p=Math.imul(ge,ie),p=p+Math.imul(j,Le)|0,L=Math.imul(j,ie),P=P+Math.imul(me,fe)|0,p=p+Math.imul(me,de)|0,p=p+Math.imul(_e,fe)|0,L=L+Math.imul(_e,de)|0;var bt=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(bt>>>26)|0,bt&=67108863,P=Math.imul(ee,Le),p=Math.imul(ee,ie),p=p+Math.imul(G,Le)|0,L=Math.imul(G,ie),P=P+Math.imul(ge,fe)|0,p=p+Math.imul(ge,de)|0,p=p+Math.imul(j,fe)|0,L=L+Math.imul(j,de)|0,P=P+Math.imul(me,Be)|0,p=p+Math.imul(me,Te)|0,p=p+Math.imul(_e,Be)|0,L=L+Math.imul(_e,Te)|0;var he=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(he>>>26)|0,he&=67108863,P=Math.imul(le,Le),p=Math.imul(le,ie),p=p+Math.imul(ye,Le)|0,L=Math.imul(ye,ie),P=P+Math.imul(ee,fe)|0,p=p+Math.imul(ee,de)|0,p=p+Math.imul(G,fe)|0,L=L+Math.imul(G,de)|0,P=P+Math.imul(ge,Be)|0,p=p+Math.imul(ge,Te)|0,p=p+Math.imul(j,Be)|0,L=L+Math.imul(j,Te)|0,P=P+Math.imul(me,De)|0,p=p+Math.imul(me,ze)|0,p=p+Math.imul(_e,De)|0,L=L+Math.imul(_e,ze)|0;var ue=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(ue>>>26)|0,ue&=67108863,P=Math.imul(v,Le),p=Math.imul(v,ie),p=p+Math.imul(M,Le)|0,L=Math.imul(M,ie),P=P+Math.imul(le,fe)|0,p=p+Math.imul(le,de)|0,p=p+Math.imul(ye,fe)|0,L=L+Math.imul(ye,de)|0,P=P+Math.imul(ee,Be)|0,p=p+Math.imul(ee,Te)|0,p=p+Math.imul(G,Be)|0,L=L+Math.imul(G,Te)|0,P=P+Math.imul(ge,De)|0,p=p+Math.imul(ge,ze)|0,p=p+Math.imul(j,De)|0,L=L+Math.imul(j,ze)|0,P=P+Math.imul(me,je)|0,p=p+Math.imul(me,We)|0,p=p+Math.imul(_e,je)|0,L=L+Math.imul(_e,We)|0;var xe=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(xe>>>26)|0,xe&=67108863,P=Math.imul(w,Le),p=Math.imul(w,ie),p=p+Math.imul(_,Le)|0,L=Math.imul(_,ie),P=P+Math.imul(v,fe)|0,p=p+Math.imul(v,de)|0,p=p+Math.imul(M,fe)|0,L=L+Math.imul(M,de)|0,P=P+Math.imul(le,Be)|0,p=p+Math.imul(le,Te)|0,p=p+Math.imul(ye,Be)|0,L=L+Math.imul(ye,Te)|0,P=P+Math.imul(ee,De)|0,p=p+Math.imul(ee,ze)|0,p=p+Math.imul(G,De)|0,L=L+Math.imul(G,ze)|0,P=P+Math.imul(ge,je)|0,p=p+Math.imul(ge,We)|0,p=p+Math.imul(j,je)|0,L=L+Math.imul(j,We)|0,P=P+Math.imul(me,tt)|0,p=p+Math.imul(me,Ke)|0,p=p+Math.imul(_e,tt)|0,L=L+Math.imul(_e,Ke)|0;var Ae=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,P=Math.imul(h,Le),p=Math.imul(h,ie),p=p+Math.imul(q,Le)|0,L=Math.imul(q,ie),P=P+Math.imul(w,fe)|0,p=p+Math.imul(w,de)|0,p=p+Math.imul(_,fe)|0,L=L+Math.imul(_,de)|0,P=P+Math.imul(v,Be)|0,p=p+Math.imul(v,Te)|0,p=p+Math.imul(M,Be)|0,L=L+Math.imul(M,Te)|0,P=P+Math.imul(le,De)|0,p=p+Math.imul(le,ze)|0,p=p+Math.imul(ye,De)|0,L=L+Math.imul(ye,ze)|0,P=P+Math.imul(ee,je)|0,p=p+Math.imul(ee,We)|0,p=p+Math.imul(G,je)|0,L=L+Math.imul(G,We)|0,P=P+Math.imul(ge,tt)|0,p=p+Math.imul(ge,Ke)|0,p=p+Math.imul(j,tt)|0,L=L+Math.imul(j,Ke)|0,P=P+Math.imul(me,rt)|0,p=p+Math.imul(me,st)|0,p=p+Math.imul(_e,rt)|0,L=L+Math.imul(_e,st)|0;var Ee=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,P=Math.imul(K,Le),p=Math.imul(K,ie),p=p+Math.imul(z,Le)|0,L=Math.imul(z,ie),P=P+Math.imul(h,fe)|0,p=p+Math.imul(h,de)|0,p=p+Math.imul(q,fe)|0,L=L+Math.imul(q,de)|0,P=P+Math.imul(w,Be)|0,p=p+Math.imul(w,Te)|0,p=p+Math.imul(_,Be)|0,L=L+Math.imul(_,Te)|0,P=P+Math.imul(v,De)|0,p=p+Math.imul(v,ze)|0,p=p+Math.imul(M,De)|0,L=L+Math.imul(M,ze)|0,P=P+Math.imul(le,je)|0,p=p+Math.imul(le,We)|0,p=p+Math.imul(ye,je)|0,L=L+Math.imul(ye,We)|0,P=P+Math.imul(ee,tt)|0,p=p+Math.imul(ee,Ke)|0,p=p+Math.imul(G,tt)|0,L=L+Math.imul(G,Ke)|0,P=P+Math.imul(ge,rt)|0,p=p+Math.imul(ge,st)|0,p=p+Math.imul(j,rt)|0,L=L+Math.imul(j,st)|0,P=P+Math.imul(me,$e)|0,p=p+Math.imul(me,Fe)|0,p=p+Math.imul(_e,$e)|0,L=L+Math.imul(_e,Fe)|0;var Ue=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,P=Math.imul($,Le),p=Math.imul($,ie),p=p+Math.imul(H,Le)|0,L=Math.imul(H,ie),P=P+Math.imul(K,fe)|0,p=p+Math.imul(K,de)|0,p=p+Math.imul(z,fe)|0,L=L+Math.imul(z,de)|0,P=P+Math.imul(h,Be)|0,p=p+Math.imul(h,Te)|0,p=p+Math.imul(q,Be)|0,L=L+Math.imul(q,Te)|0,P=P+Math.imul(w,De)|0,p=p+Math.imul(w,ze)|0,p=p+Math.imul(_,De)|0,L=L+Math.imul(_,ze)|0,P=P+Math.imul(v,je)|0,p=p+Math.imul(v,We)|0,p=p+Math.imul(M,je)|0,L=L+Math.imul(M,We)|0,P=P+Math.imul(le,tt)|0,p=p+Math.imul(le,Ke)|0,p=p+Math.imul(ye,tt)|0,L=L+Math.imul(ye,Ke)|0,P=P+Math.imul(ee,rt)|0,p=p+Math.imul(ee,st)|0,p=p+Math.imul(G,rt)|0,L=L+Math.imul(G,st)|0,P=P+Math.imul(ge,$e)|0,p=p+Math.imul(ge,Fe)|0,p=p+Math.imul(j,$e)|0,L=L+Math.imul(j,Fe)|0,P=P+Math.imul(me,Ye)|0,p=p+Math.imul(me,Ge)|0,p=p+Math.imul(_e,Ye)|0,L=L+Math.imul(_e,Ge)|0;var zt=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(zt>>>26)|0,zt&=67108863,P=Math.imul(Y,Le),p=Math.imul(Y,ie),p=p+Math.imul(Ne,Le)|0,L=Math.imul(Ne,ie),P=P+Math.imul($,fe)|0,p=p+Math.imul($,de)|0,p=p+Math.imul(H,fe)|0,L=L+Math.imul(H,de)|0,P=P+Math.imul(K,Be)|0,p=p+Math.imul(K,Te)|0,p=p+Math.imul(z,Be)|0,L=L+Math.imul(z,Te)|0,P=P+Math.imul(h,De)|0,p=p+Math.imul(h,ze)|0,p=p+Math.imul(q,De)|0,L=L+Math.imul(q,ze)|0,P=P+Math.imul(w,je)|0,p=p+Math.imul(w,We)|0,p=p+Math.imul(_,je)|0,L=L+Math.imul(_,We)|0,P=P+Math.imul(v,tt)|0,p=p+Math.imul(v,Ke)|0,p=p+Math.imul(M,tt)|0,L=L+Math.imul(M,Ke)|0,P=P+Math.imul(le,rt)|0,p=p+Math.imul(le,st)|0,p=p+Math.imul(ye,rt)|0,L=L+Math.imul(ye,st)|0,P=P+Math.imul(ee,$e)|0,p=p+Math.imul(ee,Fe)|0,p=p+Math.imul(G,$e)|0,L=L+Math.imul(G,Fe)|0,P=P+Math.imul(ge,Ye)|0,p=p+Math.imul(ge,Ge)|0,p=p+Math.imul(j,Ye)|0,L=L+Math.imul(j,Ge)|0,P=P+Math.imul(me,qe)|0,p=p+Math.imul(me,He)|0,p=p+Math.imul(_e,qe)|0,L=L+Math.imul(_e,He)|0;var Mr=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,P=Math.imul(Y,fe),p=Math.imul(Y,de),p=p+Math.imul(Ne,fe)|0,L=Math.imul(Ne,de),P=P+Math.imul($,Be)|0,p=p+Math.imul($,Te)|0,p=p+Math.imul(H,Be)|0,L=L+Math.imul(H,Te)|0,P=P+Math.imul(K,De)|0,p=p+Math.imul(K,ze)|0,p=p+Math.imul(z,De)|0,L=L+Math.imul(z,ze)|0,P=P+Math.imul(h,je)|0,p=p+Math.imul(h,We)|0,p=p+Math.imul(q,je)|0,L=L+Math.imul(q,We)|0,P=P+Math.imul(w,tt)|0,p=p+Math.imul(w,Ke)|0,p=p+Math.imul(_,tt)|0,L=L+Math.imul(_,Ke)|0,P=P+Math.imul(v,rt)|0,p=p+Math.imul(v,st)|0,p=p+Math.imul(M,rt)|0,L=L+Math.imul(M,st)|0,P=P+Math.imul(le,$e)|0,p=p+Math.imul(le,Fe)|0,p=p+Math.imul(ye,$e)|0,L=L+Math.imul(ye,Fe)|0,P=P+Math.imul(ee,Ye)|0,p=p+Math.imul(ee,Ge)|0,p=p+Math.imul(G,Ye)|0,L=L+Math.imul(G,Ge)|0,P=P+Math.imul(ge,qe)|0,p=p+Math.imul(ge,He)|0,p=p+Math.imul(j,qe)|0,L=L+Math.imul(j,He)|0;var Qn=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,P=Math.imul(Y,Be),p=Math.imul(Y,Te),p=p+Math.imul(Ne,Be)|0,L=Math.imul(Ne,Te),P=P+Math.imul($,De)|0,p=p+Math.imul($,ze)|0,p=p+Math.imul(H,De)|0,L=L+Math.imul(H,ze)|0,P=P+Math.imul(K,je)|0,p=p+Math.imul(K,We)|0,p=p+Math.imul(z,je)|0,L=L+Math.imul(z,We)|0,P=P+Math.imul(h,tt)|0,p=p+Math.imul(h,Ke)|0,p=p+Math.imul(q,tt)|0,L=L+Math.imul(q,Ke)|0,P=P+Math.imul(w,rt)|0,p=p+Math.imul(w,st)|0,p=p+Math.imul(_,rt)|0,L=L+Math.imul(_,st)|0,P=P+Math.imul(v,$e)|0,p=p+Math.imul(v,Fe)|0,p=p+Math.imul(M,$e)|0,L=L+Math.imul(M,Fe)|0,P=P+Math.imul(le,Ye)|0,p=p+Math.imul(le,Ge)|0,p=p+Math.imul(ye,Ye)|0,L=L+Math.imul(ye,Ge)|0,P=P+Math.imul(ee,qe)|0,p=p+Math.imul(ee,He)|0,p=p+Math.imul(G,qe)|0,L=L+Math.imul(G,He)|0;var ei=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(ei>>>26)|0,ei&=67108863,P=Math.imul(Y,De),p=Math.imul(Y,ze),p=p+Math.imul(Ne,De)|0,L=Math.imul(Ne,ze),P=P+Math.imul($,je)|0,p=p+Math.imul($,We)|0,p=p+Math.imul(H,je)|0,L=L+Math.imul(H,We)|0,P=P+Math.imul(K,tt)|0,p=p+Math.imul(K,Ke)|0,p=p+Math.imul(z,tt)|0,L=L+Math.imul(z,Ke)|0,P=P+Math.imul(h,rt)|0,p=p+Math.imul(h,st)|0,p=p+Math.imul(q,rt)|0,L=L+Math.imul(q,st)|0,P=P+Math.imul(w,$e)|0,p=p+Math.imul(w,Fe)|0,p=p+Math.imul(_,$e)|0,L=L+Math.imul(_,Fe)|0,P=P+Math.imul(v,Ye)|0,p=p+Math.imul(v,Ge)|0,p=p+Math.imul(M,Ye)|0,L=L+Math.imul(M,Ge)|0,P=P+Math.imul(le,qe)|0,p=p+Math.imul(le,He)|0,p=p+Math.imul(ye,qe)|0,L=L+Math.imul(ye,He)|0;var ti=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(ti>>>26)|0,ti&=67108863,P=Math.imul(Y,je),p=Math.imul(Y,We),p=p+Math.imul(Ne,je)|0,L=Math.imul(Ne,We),P=P+Math.imul($,tt)|0,p=p+Math.imul($,Ke)|0,p=p+Math.imul(H,tt)|0,L=L+Math.imul(H,Ke)|0,P=P+Math.imul(K,rt)|0,p=p+Math.imul(K,st)|0,p=p+Math.imul(z,rt)|0,L=L+Math.imul(z,st)|0,P=P+Math.imul(h,$e)|0,p=p+Math.imul(h,Fe)|0,p=p+Math.imul(q,$e)|0,L=L+Math.imul(q,Fe)|0,P=P+Math.imul(w,Ye)|0,p=p+Math.imul(w,Ge)|0,p=p+Math.imul(_,Ye)|0,L=L+Math.imul(_,Ge)|0,P=P+Math.imul(v,qe)|0,p=p+Math.imul(v,He)|0,p=p+Math.imul(M,qe)|0,L=L+Math.imul(M,He)|0;var ri=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(ri>>>26)|0,ri&=67108863,P=Math.imul(Y,tt),p=Math.imul(Y,Ke),p=p+Math.imul(Ne,tt)|0,L=Math.imul(Ne,Ke),P=P+Math.imul($,rt)|0,p=p+Math.imul($,st)|0,p=p+Math.imul(H,rt)|0,L=L+Math.imul(H,st)|0,P=P+Math.imul(K,$e)|0,p=p+Math.imul(K,Fe)|0,p=p+Math.imul(z,$e)|0,L=L+Math.imul(z,Fe)|0,P=P+Math.imul(h,Ye)|0,p=p+Math.imul(h,Ge)|0,p=p+Math.imul(q,Ye)|0,L=L+Math.imul(q,Ge)|0,P=P+Math.imul(w,qe)|0,p=p+Math.imul(w,He)|0,p=p+Math.imul(_,qe)|0,L=L+Math.imul(_,He)|0;var ni=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(ni>>>26)|0,ni&=67108863,P=Math.imul(Y,rt),p=Math.imul(Y,st),p=p+Math.imul(Ne,rt)|0,L=Math.imul(Ne,st),P=P+Math.imul($,$e)|0,p=p+Math.imul($,Fe)|0,p=p+Math.imul(H,$e)|0,L=L+Math.imul(H,Fe)|0,P=P+Math.imul(K,Ye)|0,p=p+Math.imul(K,Ge)|0,p=p+Math.imul(z,Ye)|0,L=L+Math.imul(z,Ge)|0,P=P+Math.imul(h,qe)|0,p=p+Math.imul(h,He)|0,p=p+Math.imul(q,qe)|0,L=L+Math.imul(q,He)|0;var qi=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(qi>>>26)|0,qi&=67108863,P=Math.imul(Y,$e),p=Math.imul(Y,Fe),p=p+Math.imul(Ne,$e)|0,L=Math.imul(Ne,Fe),P=P+Math.imul($,Ye)|0,p=p+Math.imul($,Ge)|0,p=p+Math.imul(H,Ye)|0,L=L+Math.imul(H,Ge)|0,P=P+Math.imul(K,qe)|0,p=p+Math.imul(K,He)|0,p=p+Math.imul(z,qe)|0,L=L+Math.imul(z,He)|0;var Li=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(Li>>>26)|0,Li&=67108863,P=Math.imul(Y,Ye),p=Math.imul(Y,Ge),p=p+Math.imul(Ne,Ye)|0,L=Math.imul(Ne,Ge),P=P+Math.imul($,qe)|0,p=p+Math.imul($,He)|0,p=p+Math.imul(H,qe)|0,L=L+Math.imul(H,He)|0;var ji=(B+P|0)+((p&8191)<<13)|0;B=(L+(p>>>13)|0)+(ji>>>26)|0,ji&=67108863,P=Math.imul(Y,qe),p=Math.imul(Y,He),p=p+Math.imul(Ne,qe)|0,L=Math.imul(Ne,He);var $i=(B+P|0)+((p&8191)<<13)|0;return B=(L+(p>>>13)|0)+($i>>>26)|0,$i&=67108863,Z[0]=lt,Z[1]=bt,Z[2]=he,Z[3]=ue,Z[4]=xe,Z[5]=Ae,Z[6]=Ee,Z[7]=Ue,Z[8]=zt,Z[9]=Mr,Z[10]=Qn,Z[11]=ei,Z[12]=ti,Z[13]=ri,Z[14]=ni,Z[15]=qi,Z[16]=Li,Z[17]=ji,Z[18]=$i,B!==0&&(Z[19]=B,y.length++),y};Math.imul||(A=x);function S(C,l,m){m.negative=l.negative^C.negative,m.length=C.length+l.length;for(var y=0,I=0,N=0;N<m.length-1;N++){var Z=I;I=0;for(var B=y&67108863,P=Math.min(N,l.length-1),p=Math.max(0,N-C.length+1);p<=P;p++){var L=N-p,be=C.words[L]|0,me=l.words[p]|0,_e=be*me,Se=_e&67108863;Z=Z+(_e/67108864|0)|0,Se=Se+B|0,B=Se&67108863,Z=Z+(Se>>>26)|0,I+=Z>>>26,Z&=67108863}m.words[N]=B,y=Z,Z=I}return y!==0?m.words[N]=y:m.length--,m.strip()}function O(C,l,m){var y=new T;return y.mulp(C,l,m)}a.prototype.mulTo=function(l,m){var y,I=this.length+l.length;return this.length===10&&l.length===10?y=A(this,l,m):I<63?y=x(this,l,m):I<1024?y=S(this,l,m):y=O(this,l,m),y};function T(C,l){this.x=C,this.y=l}T.prototype.makeRBT=function(l){for(var m=new Array(l),y=a.prototype._countBits(l)-1,I=0;I<l;I++)m[I]=this.revBin(I,y,l);return m},T.prototype.revBin=function(l,m,y){if(l===0||l===y-1)return l;for(var I=0,N=0;N<m;N++)I|=(l&1)<<m-N-1,l>>=1;return I},T.prototype.permute=function(l,m,y,I,N,Z){for(var B=0;B<Z;B++)I[B]=m[l[B]],N[B]=y[l[B]]},T.prototype.transform=function(l,m,y,I,N,Z){this.permute(Z,l,m,y,I,N);for(var B=1;B<N;B<<=1)for(var P=B<<1,p=Math.cos(2*Math.PI/P),L=Math.sin(2*Math.PI/P),be=0;be<N;be+=P)for(var me=p,_e=L,Se=0;Se<B;Se++){var ge=y[be+Se],j=I[be+Se],oe=y[be+Se+B],ee=I[be+Se+B],G=me*oe-_e*ee;ee=me*ee+_e*oe,oe=G,y[be+Se]=ge+oe,I[be+Se]=j+ee,y[be+Se+B]=ge-oe,I[be+Se+B]=j-ee,Se!==P&&(G=p*me-L*_e,_e=p*_e+L*me,me=G)}},T.prototype.guessLen13b=function(l,m){var y=Math.max(m,l)|1,I=y&1,N=0;for(y=y/2|0;y;y=y>>>1)N++;return 1<<N+1+I},T.prototype.conjugate=function(l,m,y){if(!(y<=1))for(var I=0;I<y/2;I++){var N=l[I];l[I]=l[y-I-1],l[y-I-1]=N,N=m[I],m[I]=-m[y-I-1],m[y-I-1]=-N}},T.prototype.normalize13b=function(l,m){for(var y=0,I=0;I<m/2;I++){var N=Math.round(l[2*I+1]/m)*8192+Math.round(l[2*I]/m)+y;l[I]=N&67108863,N<67108864?y=0:y=N/67108864|0}return l},T.prototype.convert13b=function(l,m,y,I){for(var N=0,Z=0;Z<m;Z++)N=N+(l[Z]|0),y[2*Z]=N&8191,N=N>>>13,y[2*Z+1]=N&8191,N=N>>>13;for(Z=2*m;Z<I;++Z)y[Z]=0;n(N===0),n((N&~8191)==0)},T.prototype.stub=function(l){for(var m=new Array(l),y=0;y<l;y++)m[y]=0;return m},T.prototype.mulp=function(l,m,y){var I=2*this.guessLen13b(l.length,m.length),N=this.makeRBT(I),Z=this.stub(I),B=new Array(I),P=new Array(I),p=new Array(I),L=new Array(I),be=new Array(I),me=new Array(I),_e=y.words;_e.length=I,this.convert13b(l.words,l.length,B,I),this.convert13b(m.words,m.length,L,I),this.transform(B,Z,P,p,I,N),this.transform(L,Z,be,me,I,N);for(var Se=0;Se<I;Se++){var ge=P[Se]*be[Se]-p[Se]*me[Se];p[Se]=P[Se]*me[Se]+p[Se]*be[Se],P[Se]=ge}return this.conjugate(P,p,I),this.transform(P,p,_e,Z,I,N),this.conjugate(_e,Z,I),this.normalize13b(_e,I),y.negative=l.negative^m.negative,y.length=l.length+m.length,y.strip()},a.prototype.mul=function(l){var m=new a(null);return m.words=new Array(this.length+l.length),this.mulTo(l,m)},a.prototype.mulf=function(l){var m=new a(null);return m.words=new Array(this.length+l.length),O(this,l,m)},a.prototype.imul=function(l){return this.clone().mulTo(l,this)},a.prototype.imuln=function(l){n(typeof l=="number"),n(l<67108864);for(var m=0,y=0;y<this.length;y++){var I=(this.words[y]|0)*l,N=(I&67108863)+(m&67108863);m>>=26,m+=I/67108864|0,m+=N>>>26,this.words[y]=N&67108863}return m!==0&&(this.words[y]=m,this.length++),this},a.prototype.muln=function(l){return this.clone().imuln(l)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(l){var m=b(l);if(m.length===0)return new a(1);for(var y=this,I=0;I<m.length&&m[I]===0;I++,y=y.sqr());if(++I<m.length)for(var N=y.sqr();I<m.length;I++,N=N.sqr())m[I]!==0&&(y=y.mul(N));return y},a.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var m=l%26,y=(l-m)/26,I=67108863>>>26-m<<26-m,N;if(m!==0){var Z=0;for(N=0;N<this.length;N++){var B=this.words[N]&I,P=(this.words[N]|0)-B<<m;this.words[N]=P|Z,Z=B>>>26-m}Z&&(this.words[N]=Z,this.length++)}if(y!==0){for(N=this.length-1;N>=0;N--)this.words[N+y]=this.words[N];for(N=0;N<y;N++)this.words[N]=0;this.length+=y}return this.strip()},a.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},a.prototype.iushrn=function(l,m,y){n(typeof l=="number"&&l>=0);var I;m?I=(m-m%26)/26:I=0;var N=l%26,Z=Math.min((l-N)/26,this.length),B=67108863^67108863>>>N<<N,P=y;if(I-=Z,I=Math.max(0,I),P){for(var p=0;p<Z;p++)P.words[p]=this.words[p];P.length=Z}if(Z!==0)if(this.length>Z)for(this.length-=Z,p=0;p<this.length;p++)this.words[p]=this.words[p+Z];else this.words[0]=0,this.length=1;var L=0;for(p=this.length-1;p>=0&&(L!==0||p>=I);p--){var be=this.words[p]|0;this.words[p]=L<<26-N|be>>>N,L=be&B}return P&&L!==0&&(P.words[P.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(l,m,y){return n(this.negative===0),this.iushrn(l,m,y)},a.prototype.shln=function(l){return this.clone().ishln(l)},a.prototype.ushln=function(l){return this.clone().iushln(l)},a.prototype.shrn=function(l){return this.clone().ishrn(l)},a.prototype.ushrn=function(l){return this.clone().iushrn(l)},a.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var m=l%26,y=(l-m)/26,I=1<<m;if(this.length<=y)return!1;var N=this.words[y];return!!(N&I)},a.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var m=l%26,y=(l-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(m!==0&&y++,this.length=Math.min(y,this.length),m!==0){var I=67108863^67108863>>>m<<m;this.words[this.length-1]&=I}return this.strip()},a.prototype.maskn=function(l){return this.clone().imaskn(l)},a.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},a.prototype._iaddn=function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},a.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},a.prototype.addn=function(l){return this.clone().iaddn(l)},a.prototype.subn=function(l){return this.clone().isubn(l)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(l,m,y){var I=l.length+y,N;this._expand(I);var Z,B=0;for(N=0;N<l.length;N++){Z=(this.words[N+y]|0)+B;var P=(l.words[N]|0)*m;Z-=P&67108863,B=(Z>>26)-(P/67108864|0),this.words[N+y]=Z&67108863}for(;N<this.length-y;N++)Z=(this.words[N+y]|0)+B,B=Z>>26,this.words[N+y]=Z&67108863;if(B===0)return this.strip();for(n(B===-1),B=0,N=0;N<this.length;N++)Z=-(this.words[N]|0)+B,B=Z>>26,this.words[N]=Z&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(l,m){var y=this.length-l.length,I=this.clone(),N=l,Z=N.words[N.length-1]|0,B=this._countBits(Z);y=26-B,y!==0&&(N=N.ushln(y),I.iushln(y),Z=N.words[N.length-1]|0);var P=I.length-N.length,p;if(m!=="mod"){p=new a(null),p.length=P+1,p.words=new Array(p.length);for(var L=0;L<p.length;L++)p.words[L]=0}var be=I.clone()._ishlnsubmul(N,1,P);be.negative===0&&(I=be,p&&(p.words[P]=1));for(var me=P-1;me>=0;me--){var _e=(I.words[N.length+me]|0)*67108864+(I.words[N.length+me-1]|0);for(_e=Math.min(_e/Z|0,67108863),I._ishlnsubmul(N,_e,me);I.negative!==0;)_e--,I.negative=0,I._ishlnsubmul(N,1,me),I.isZero()||(I.negative^=1);p&&(p.words[me]=_e)}return p&&p.strip(),I.strip(),m!=="div"&&y!==0&&I.iushrn(y),{div:p||null,mod:I}},a.prototype.divmod=function(l,m,y){if(n(!l.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var I,N,Z;return this.negative!==0&&l.negative===0?(Z=this.neg().divmod(l,m),m!=="mod"&&(I=Z.div.neg()),m!=="div"&&(N=Z.mod.neg(),y&&N.negative!==0&&N.iadd(l)),{div:I,mod:N}):this.negative===0&&l.negative!==0?(Z=this.divmod(l.neg(),m),m!=="mod"&&(I=Z.div.neg()),{div:I,mod:Z.mod}):(this.negative&l.negative)!=0?(Z=this.neg().divmod(l.neg(),m),m!=="div"&&(N=Z.mod.neg(),y&&N.negative!==0&&N.isub(l)),{div:Z.div,mod:N}):l.length>this.length||this.cmp(l)<0?{div:new a(0),mod:this}:l.length===1?m==="div"?{div:this.divn(l.words[0]),mod:null}:m==="mod"?{div:null,mod:new a(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new a(this.modn(l.words[0]))}:this._wordDiv(l,m)},a.prototype.div=function(l){return this.divmod(l,"div",!1).div},a.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},a.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},a.prototype.divRound=function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var y=m.div.negative!==0?m.mod.isub(l):m.mod,I=l.ushrn(1),N=l.andln(1),Z=y.cmp(I);return Z<0||N===1&&Z===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},a.prototype.modn=function(l){n(l<=67108863);for(var m=(1<<26)%l,y=0,I=this.length-1;I>=0;I--)y=(m*y+(this.words[I]|0))%l;return y},a.prototype.idivn=function(l){n(l<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var I=(this.words[y]|0)+m*67108864;this.words[y]=I/l|0,m=I%l}return this.strip()},a.prototype.divn=function(l){return this.clone().idivn(l)},a.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var m=this,y=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var I=new a(1),N=new a(0),Z=new a(0),B=new a(1),P=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++P;for(var p=y.clone(),L=m.clone();!m.isZero();){for(var be=0,me=1;(m.words[0]&me)==0&&be<26;++be,me<<=1);if(be>0)for(m.iushrn(be);be-- >0;)(I.isOdd()||N.isOdd())&&(I.iadd(p),N.isub(L)),I.iushrn(1),N.iushrn(1);for(var _e=0,Se=1;(y.words[0]&Se)==0&&_e<26;++_e,Se<<=1);if(_e>0)for(y.iushrn(_e);_e-- >0;)(Z.isOdd()||B.isOdd())&&(Z.iadd(p),B.isub(L)),Z.iushrn(1),B.iushrn(1);m.cmp(y)>=0?(m.isub(y),I.isub(Z),N.isub(B)):(y.isub(m),Z.isub(I),B.isub(N))}return{a:Z,b:B,gcd:y.iushln(P)}},a.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var m=this,y=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var I=new a(1),N=new a(0),Z=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var B=0,P=1;(m.words[0]&P)==0&&B<26;++B,P<<=1);if(B>0)for(m.iushrn(B);B-- >0;)I.isOdd()&&I.iadd(Z),I.iushrn(1);for(var p=0,L=1;(y.words[0]&L)==0&&p<26;++p,L<<=1);if(p>0)for(y.iushrn(p);p-- >0;)N.isOdd()&&N.iadd(Z),N.iushrn(1);m.cmp(y)>=0?(m.isub(y),I.isub(N)):(y.isub(m),N.isub(I))}var be;return m.cmpn(1)===0?be=I:be=N,be.cmpn(0)<0&&be.iadd(l),be},a.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),y=l.clone();m.negative=0,y.negative=0;for(var I=0;m.isEven()&&y.isEven();I++)m.iushrn(1),y.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var N=m.cmp(y);if(N<0){var Z=m;m=y,y=Z}else if(N===0||y.cmpn(1)===0)break;m.isub(y)}while(!0);return y.iushln(I)},a.prototype.invm=function(l){return this.egcd(l).a.umod(l)},a.prototype.isEven=function(){return(this.words[0]&1)==0},a.prototype.isOdd=function(){return(this.words[0]&1)==1},a.prototype.andln=function(l){return this.words[0]&l},a.prototype.bincn=function(l){n(typeof l=="number");var m=l%26,y=(l-m)/26,I=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=I,this;for(var N=I,Z=y;N!==0&&Z<this.length;Z++){var B=this.words[Z]|0;B+=N,N=B>>>26,B&=67108863,this.words[Z]=B}return N!==0&&(this.words[Z]=N,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(l){var m=l<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var y;if(this.length>1)y=1;else{m&&(l=-l),n(l<=67108863,"Number is too big");var I=this.words[0]|0;y=I===l?0:I<l?-1:1}return this.negative!==0?-y|0:y},a.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var m=this.ucmp(l);return this.negative!==0?-m|0:m},a.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var I=this.words[y]|0,N=l.words[y]|0;if(I!==N){I<N?m=-1:I>N&&(m=1);break}}return m},a.prototype.gtn=function(l){return this.cmpn(l)===1},a.prototype.gt=function(l){return this.cmp(l)===1},a.prototype.gten=function(l){return this.cmpn(l)>=0},a.prototype.gte=function(l){return this.cmp(l)>=0},a.prototype.ltn=function(l){return this.cmpn(l)===-1},a.prototype.lt=function(l){return this.cmp(l)===-1},a.prototype.lten=function(l){return this.cmpn(l)<=0},a.prototype.lte=function(l){return this.cmp(l)<=0},a.prototype.eqn=function(l){return this.cmpn(l)===0},a.prototype.eq=function(l){return this.cmp(l)===0},a.red=function(l){return new J(l)},a.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(l){return this.red=l,this},a.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},a.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},a.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},a.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},a.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},a.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},a.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},a.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var Q={k256:null,p224:null,p192:null,p25519:null};function ne(C,l){this.name=C,this.p=new a(l,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ne.prototype._tmp=function(){var l=new a(null);return l.words=new Array(Math.ceil(this.n/13)),l},ne.prototype.ireduce=function(l){var m=l,y;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),y=m.bitLength();while(y>this.n);var I=y<this.n?-1:m.ucmp(this.p);return I===0?(m.words[0]=0,m.length=1):I>0?m.isub(this.p):m.strip(),m},ne.prototype.split=function(l,m){l.iushrn(this.n,0,m)},ne.prototype.imulK=function(l){return l.imul(this.k)};function F(){ne.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,ne),F.prototype.split=function(l,m){for(var y=4194303,I=Math.min(l.length,9),N=0;N<I;N++)m.words[N]=l.words[N];if(m.length=I,l.length<=9){l.words[0]=0,l.length=1;return}var Z=l.words[9];for(m.words[m.length++]=Z&y,N=10;N<l.length;N++){var B=l.words[N]|0;l.words[N-10]=(B&y)<<4|Z>>>22,Z=B}Z>>>=22,l.words[N-10]=Z,Z===0&&l.length>10?l.length-=10:l.length-=9},F.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,y=0;y<l.length;y++){var I=l.words[y]|0;m+=I*977,l.words[y]=m&67108863,m=I*64+(m/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function X(){ne.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(X,ne);function te(){ne.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(te,ne);function re(){ne.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(re,ne),re.prototype.imulK=function(l){for(var m=0,y=0;y<l.length;y++){var I=(l.words[y]|0)*19+m,N=I&67108863;I>>>=26,l.words[y]=N,m=I}return m!==0&&(l.words[l.length++]=m),l},a._prime=function(l){if(Q[l])return Q[l];var m;if(l==="k256")m=new F;else if(l==="p224")m=new X;else if(l==="p192")m=new te;else if(l==="p25519")m=new re;else throw new Error("Unknown prime "+l);return Q[l]=m,m};function J(C){if(typeof C=="string"){var l=a._prime(C);this.m=l.p,this.prime=l}else n(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}J.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},J.prototype._verify2=function(l,m){n((l.negative|m.negative)==0,"red works only with positives"),n(l.red&&l.red===m.red,"red works only with red numbers")},J.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},J.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},J.prototype.add=function(l,m){this._verify2(l,m);var y=l.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},J.prototype.iadd=function(l,m){this._verify2(l,m);var y=l.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},J.prototype.sub=function(l,m){this._verify2(l,m);var y=l.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},J.prototype.isub=function(l,m){this._verify2(l,m);var y=l.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},J.prototype.shl=function(l,m){return this._verify1(l),this.imod(l.ushln(m))},J.prototype.imul=function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},J.prototype.mul=function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},J.prototype.isqr=function(l){return this.imul(l,l.clone())},J.prototype.sqr=function(l){return this.mul(l,l)},J.prototype.sqrt=function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(n(m%2==1),m===3){var y=this.m.add(new a(1)).iushrn(2);return this.pow(l,y)}for(var I=this.m.subn(1),N=0;!I.isZero()&&I.andln(1)===0;)N++,I.iushrn(1);n(!I.isZero());var Z=new a(1).toRed(this),B=Z.redNeg(),P=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new a(2*p*p).toRed(this);this.pow(p,P).cmp(B)!==0;)p.redIAdd(B);for(var L=this.pow(p,I),be=this.pow(l,I.addn(1).iushrn(1)),me=this.pow(l,I),_e=N;me.cmp(Z)!==0;){for(var Se=me,ge=0;Se.cmp(Z)!==0;ge++)Se=Se.redSqr();n(ge<_e);var j=this.pow(L,new a(1).iushln(_e-ge-1));be=be.redMul(j),L=j.redSqr(),me=me.redMul(L),_e=ge}return be},J.prototype.invm=function(l){var m=l._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},J.prototype.pow=function(l,m){if(m.isZero())return new a(1).toRed(this);if(m.cmpn(1)===0)return l.clone();var y=4,I=new Array(1<<y);I[0]=new a(1).toRed(this),I[1]=l;for(var N=2;N<I.length;N++)I[N]=this.mul(I[N-1],l);var Z=I[0],B=0,P=0,p=m.bitLength()%26;for(p===0&&(p=26),N=m.length-1;N>=0;N--){for(var L=m.words[N],be=p-1;be>=0;be--){var me=L>>be&1;if(Z!==I[0]&&(Z=this.sqr(Z)),me===0&&B===0){P=0;continue}B<<=1,B|=me,P++,!(P!==y&&(N!==0||be!==0))&&(Z=this.mul(Z,I[B]),P=0,B=0)}p=26}return Z},J.prototype.convertTo=function(l){var m=l.umod(this.m);return m===l?m.clone():m},J.prototype.convertFrom=function(l){var m=l.clone();return m.red=null,m},a.mont=function(l){return new se(l)};function se(C){J.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(se,J),se.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},se.prototype.convertFrom=function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},se.prototype.imul=function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var y=l.imul(m),I=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=y.isub(I).iushrn(this.shift),Z=N;return N.cmp(this.m)>=0?Z=N.isub(this.m):N.cmpn(0)<0&&(Z=N.iadd(this.m)),Z._forceRed(this)},se.prototype.mul=function(l,m){if(l.isZero()||m.isZero())return new a(0)._forceRed(this);var y=l.mul(m),I=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=y.isub(I).iushrn(this.shift),Z=N;return N.cmp(this.m)>=0?Z=N.isub(this.m):N.cmpn(0)<0&&(Z=N.iadd(this.m)),Z._forceRed(this)},se.prototype.invm=function(l){var m=this.imod(l._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,$8)}),V0=Object.freeze({__proto__:null,default:Pe,__moduleExports:Pe}),d0=class{constructor(e){if(e===void 0)throw new Error("Invalid BigInteger input");this.value=new Pe(e)}clone(){let e=new d0(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new Pe(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Pe(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,r){let n=r.isEven()?Pe.red(r.value):Pe.mont(r.value),i=this.clone();return i.value=i.value.toRed(n).redPow(e.value).fromRed(),i}modInv(e){if(!this.gcd(e).isOne())throw new Error("Inverse does not exist");return new d0(this.value.invm(e.value))}gcd(e){return new d0(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Pe(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){let e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",r){return this.value.toArrayLike(Uint8Array,e,r)}},g8=Object.freeze({__proto__:null,default:d0}),Vr=fn(function(t,e){var r=e;function n(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var f=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)f[c]=s[c]|0;return f}if(o==="hex"){s=s.replace(/[^a-z0-9]+/gi,""),s.length%2!=0&&(s="0"+s);for(var c=0;c<s.length;c+=2)f.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var d=s.charCodeAt(c),u=d>>8,b=d&255;u?f.push(u,b):f.push(b)}return f}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function a(s){for(var o="",f=0;f<s.length;f++)o+=i(s[f].toString(16));return o}r.toHex=a,r.encode=function(o,f){return f==="hex"?a(o):o}}),yt=fn(function(t,e){var r=e;r.assert=gi,r.toArray=Vr.toArray,r.zero2=Vr.zero2,r.toHex=Vr.toHex,r.encode=Vr.encode;function n(f,c){for(var d=[],u=1<<c+1,b=f.clone();b.cmpn(1)>=0;){var x;if(b.isOdd()){var A=b.andln(u-1);A>(u>>1)-1?x=(u>>1)-A:x=A,b.isubn(x)}else x=0;d.push(x);for(var S=b.cmpn(0)!==0&&b.andln(u-1)===0?c+1:1,O=1;O<S;O++)d.push(0);b.iushrn(S)}return d}r.getNAF=n;function i(f,c){var d=[[],[]];f=f.clone(),c=c.clone();for(var u=0,b=0;f.cmpn(-u)>0||c.cmpn(-b)>0;){var x=f.andln(3)+u&3,A=c.andln(3)+b&3;x===3&&(x=-1),A===3&&(A=-1);var S;if((x&1)==0)S=0;else{var O=f.andln(7)+u&7;(O===3||O===5)&&A===2?S=-x:S=x}d[0].push(S);var T;if((A&1)==0)T=0;else{var O=c.andln(7)+b&7;(O===3||O===5)&&x===2?T=-A:T=A}d[1].push(T),2*u===S+1&&(u=1-u),2*b===T+1&&(b=1-b),f.iushrn(1),c.iushrn(1)}return d}r.getJSF=i;function a(f,c,d){var u="_"+c;f.prototype[c]=function(){return this[u]!==void 0?this[u]:this[u]=d.call(this)}}r.cachedProperty=a;function s(f){return typeof f=="string"?r.toArray(f,"hex"):f}r.parseBytes=s;function o(f){return new Pe(f,"hex","le")}r.intFromLE=o}),lu,_c=function(e){return lu||(lu=new Fi(null)),lu.generate(e)};function Fi(t){this.rand=t}var x9=Fi;Fi.prototype.generate=function(e){return this._rand(e)};Fi.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Fi.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Fi.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Fi.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(hu=void 0,typeof hu.randomBytes!="function")throw new Error("Not supported");Fi.prototype._rand=function(e){return hu.randomBytes(e)}}catch(t){}var hu;_c.Rand=x9;var Ac=yt.getNAF,y9=yt.getJSF,kc=yt.assert;function Oi(t,e){this.type=t,this.p=new Pe(e.p,16),this.red=e.prime?Pe.red(e.prime):Pe.mont(this.p),this.zero=new Pe(0).toRed(this.red),this.one=new Pe(1).toRed(this.red),this.two=new Pe(2).toRed(this.red),this.n=e.n&&new Pe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var dr=Oi;Oi.prototype.point=function(){throw new Error("Not implemented")};Oi.prototype.validate=function(){throw new Error("Not implemented")};Oi.prototype._fixedNafMul=function(e,r){kc(e.precomputed);var n=e._getDoubles(),i=Ac(r,1),a=(1<<n.step+1)-(n.step%2==0?2:1);a/=3;for(var s=[],o=0;o<i.length;o+=n.step){for(var f=0,r=o+n.step-1;r>=o;r--)f=(f<<1)+i[r];s.push(f)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),u=a;u>0;u--){for(var o=0;o<s.length;o++){var f=s[o];f===u?d=d.mixedAdd(n.points[o]):f===-u&&(d=d.mixedAdd(n.points[o].neg()))}c=c.add(d)}return c.toP()};Oi.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Ac(r,n),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var r=0;f>=0&&s[f]===0;f--)r++;if(f>=0&&r++,o=o.dblp(r),f<0)break;var c=s[f];kc(c!==0),e.type==="affine"?c>0?o=o.mixedAdd(a[c-1>>1]):o=o.mixedAdd(a[-c-1>>1].neg()):c>0?o=o.add(a[c-1>>1]):o=o.add(a[-c-1>>1].neg())}return e.type==="affine"?o.toP():o};Oi.prototype._wnafMulAdd=function(e,r,n,i,a){for(var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,d=0;d<i;d++){var u=r[d],b=u._getNAFPoints(e);s[d]=b.wnd,o[d]=b.points}for(var d=i-1;d>=1;d-=2){var x=d-1,A=d;if(s[x]!==1||s[A]!==1){f[x]=Ac(n[x],s[x]),f[A]=Ac(n[A],s[A]),c=Math.max(f[x].length,c),c=Math.max(f[A].length,c);continue}var S=[r[x],null,null,r[A]];r[x].y.cmp(r[A].y)===0?(S[1]=r[x].add(r[A]),S[2]=r[x].toJ().mixedAdd(r[A].neg())):r[x].y.cmp(r[A].y.redNeg())===0?(S[1]=r[x].toJ().mixedAdd(r[A]),S[2]=r[x].add(r[A].neg())):(S[1]=r[x].toJ().mixedAdd(r[A]),S[2]=r[x].toJ().mixedAdd(r[A].neg()));var O=[-3,-1,-5,-7,0,7,5,1,3],T=y9(n[x],n[A]);c=Math.max(T[0].length,c),f[x]=new Array(c),f[A]=new Array(c);for(var Q=0;Q<c;Q++){var ne=T[0][Q]|0,F=T[1][Q]|0;f[x][Q]=O[(ne+1)*3+(F+1)],f[A][Q]=0,o[x]=S}}for(var X=this.jpoint(null,null,null),te=this._wnafT4,d=c;d>=0;d--){for(var re=0;d>=0;){for(var J=!0,Q=0;Q<i;Q++)te[Q]=f[Q][d]|0,te[Q]!==0&&(J=!1);if(!J)break;re++,d--}if(d>=0&&re++,X=X.dblp(re),d<0)break;for(var Q=0;Q<i;Q++){var se=te[Q],u;se!==0&&(se>0?u=o[Q][se-1>>1]:se<0&&(u=o[Q][-se-1>>1].neg()),u.type==="affine"?X=X.mixedAdd(u):X=X.add(u))}}for(var d=0;d<i;d++)o[d]=null;return a?X:X.toP()};function Pr(t,e){this.curve=t,this.type=e,this.precomputed=null}Oi.BasePoint=Pr;Pr.prototype.eq=function(){throw new Error("Not implemented")};Pr.prototype.validate=function(){return this.curve.validate(this)};Oi.prototype.decodePoint=function(e,r){e=yt.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*n){e[0]===6?kc(e[e.length-1]%2==0):e[0]===7&&kc(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Pr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Pr.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Pr.prototype.encode=function(e,r){return yt.encode(this._encode(r),e)};Pr.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Pr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Pr.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Pr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Pr.prototype._getBeta=function(){return null};Pr.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var m9=yt.assert;function Rr(t){dr.call(this,"short",t),this.a=new Pe(t.a,16).toRed(this.red),this.b=new Pe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}vi(Rr,dr);var g9=Rr;Rr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Pe(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Pe(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],m9(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Pe(o.a,16),b:new Pe(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Rr.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Pe.mont(e),n=new Pe(2).toRed(r).redInvm(),i=n.redNeg(),a=new Pe(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Rr.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Pe(1),s=new Pe(0),o=new Pe(0),f=new Pe(1),c,d,u,b,x,A,S,O=0,T,Q;n.cmpn(0)!==0;){var ne=i.div(n);T=i.sub(ne.mul(n)),Q=o.sub(ne.mul(a));var F=f.sub(ne.mul(s));if(!u&&T.cmp(r)<0)c=S.neg(),d=a,u=T.neg(),b=Q;else if(u&&++O==2)break;S=T,i=n,n=T,o=a,a=Q,f=s,s=F}x=T.neg(),A=Q;var X=u.sqr().add(b.sqr()),te=x.sqr().add(A.sqr());return te.cmp(X)>=0&&(x=c,A=d),u.negative&&(u=u.neg(),b=b.neg()),x.negative&&(x=x.neg(),A=A.neg()),[{a:u,b},{a:x,b:A}]};Rr.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),d=s.mul(i.b),u=e.sub(o).sub(f),b=c.add(d).neg();return{k1:u,k2:b}};Rr.prototype.pointFromX=function(e,r){e=new Pe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Rr.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Rr.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var d=this._wnafMulAdd(1,i,a,s*2,n),u=0;u<s*2;u++)i[u]=null,a[u]=null;return d};function Ht(t,e,r,n){dr.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Pe(e,16),this.y=new Pe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}vi(Ht,dr.BasePoint);Rr.prototype.point=function(e,r,n){return new Ht(this,e,r,n)};Rr.prototype.pointFromJSON=function(e,r){return Ht.fromJSON(this,e,r)};Ht.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Ht.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ht.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Ht.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ht.prototype.isInfinity=function(){return this.inf};Ht.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Ht.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Ht.prototype.getX=function(){return this.x.fromRed()};Ht.prototype.getY=function(){return this.y.fromRed()};Ht.prototype.mul=function(e){return e=new Pe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ht.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Ht.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Ht.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ht.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Ht.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function er(t,e,r,n){dr.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Pe(0)):(this.x=new Pe(e,16),this.y=new Pe(r,16),this.z=new Pe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}vi(er,dr.BasePoint);Rr.prototype.jpoint=function(e,r,n){return new er(this,e,r,n)};er.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};er.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};er.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=f.redSqr(),u=d.redMul(f),b=i.redMul(d),x=c.redSqr().redIAdd(u).redISub(b).redISub(b),A=c.redMul(b.redISub(x)).redISub(s.redMul(u)),S=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(x,A,S)};er.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),d=c.redMul(o),u=n.redMul(c),b=f.redSqr().redIAdd(d).redISub(u).redISub(u),x=f.redMul(u.redISub(b)).redISub(a.redMul(d)),A=this.z.redMul(o);return this.curve.jpoint(b,x,A)};er.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}for(var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),d=o.redAdd(o),n=0;n<e;n++){var u=s.redSqr(),b=d.redSqr(),x=b.redSqr(),A=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),S=s.redMul(b),O=A.redSqr().redISub(S.redAdd(S)),T=S.redISub(O),Q=A.redMul(T);Q=Q.redIAdd(Q).redISub(x);var ne=d.redMul(f);n+1<e&&(c=c.redMul(x)),s=O,f=ne,d=Q}return this.curve.jpoint(s,d.redMul(a),f)};er.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};er.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),e=c,r=f.redMul(o.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),b=this.y.redSqr(),x=b.redSqr(),A=this.x.redAdd(b).redSqr().redISub(u).redISub(x);A=A.redIAdd(A);var S=u.redAdd(u).redIAdd(u),O=S.redSqr(),T=x.redIAdd(x);T=T.redIAdd(T),T=T.redIAdd(T),e=O.redISub(A).redISub(A),r=S.redMul(A.redISub(e)).redISub(T),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};er.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);e=c;var d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),r=f.redMul(o.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),b=this.y.redSqr(),x=this.x.redMul(b),A=this.x.redSub(u).redMul(this.x.redAdd(u));A=A.redAdd(A).redIAdd(A);var S=x.redIAdd(x);S=S.redIAdd(S);var O=S.redAdd(S);e=A.redSqr().redISub(O),n=this.y.redAdd(this.z).redSqr().redISub(b).redISub(u);var T=b.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T),r=A.redMul(S.redISub(e)).redISub(T)}return this.curve.jpoint(e,r,n)};er.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var d=c.redMul(o),u=f.redSqr().redISub(d.redAdd(d)),b=d.redISub(u),x=o.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var A=f.redMul(b).redISub(x),S=n.redAdd(n).redMul(i);return this.curve.jpoint(u,A,S)};er.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),u=r.redMul(d);u=u.redIAdd(u),u=u.redIAdd(u);var b=this.x.redMul(f).redISub(u);b=b.redIAdd(b),b=b.redIAdd(b);var x=this.y.redMul(d.redMul(c.redISub(d)).redISub(o.redMul(f)));x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var A=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(b,x,A)};er.prototype.mul=function(e,r){return e=new Pe(e,r),this.curve._wnafMul(this,e)};er.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};er.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};er.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};er.prototype.isInfinity=function(){return this.z.cmpn(0)===0};function u0(t){dr.call(this,"mont",t),this.a=new Pe(t.a,16).toRed(this.red),this.b=new Pe(t.b,16).toRed(this.red),this.i4=new Pe(4).toRed(this.red).redInvm(),this.two=new Pe(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}vi(u0,dr);var v9=u0;u0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Wt(t,e,r){dr.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Pe(e,16),this.z=new Pe(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}vi(Wt,dr.BasePoint);u0.prototype.decodePoint=function(e,r){var e=yt.toArray(e,r);if(e.length===33&&e[0]===64&&(e=e.slice(1,33).reverse()),e.length!==32)throw new Error("Unknown point compression format");return this.point(e,1)};u0.prototype.point=function(e,r){return new Wt(this,e,r)};u0.prototype.pointFromJSON=function(e){return Wt.fromJSON(this,e)};Wt.prototype.precompute=function(){};Wt.prototype._encode=function(e){var r=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",r)):this.getX().toArray("be",r)};Wt.fromJSON=function(e,r){return new Wt(e,r[0],r[1]||e.one)};Wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Wt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Wt.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};Wt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Wt.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),d=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,d)};Wt.prototype.mul=function(e){e=new Pe(e,16);for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Wt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Wt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Wt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Wt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Wt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var w9=yt.assert;function En(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,dr.call(this,"edwards",t),this.a=new Pe(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Pe(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Pe(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),w9(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}vi(En,dr);var _9=En;En.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};En.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};En.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};En.prototype.pointFromX=function(e,r){e=new Pe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};En.prototype.pointFromY=function(e,r){e=new Pe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};En.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Ct(t,e,r,n,i){dr.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Pe(e,16),this.y=new Pe(r,16),this.z=n?new Pe(n,16):this.curve.one,this.t=i&&new Pe(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}vi(Ct,dr.BasePoint);En.prototype.pointFromJSON=function(e){return Ct.fromJSON(this,e)};En.prototype.point=function(e,r,n,i){return new Ct(this,e,r,n,i)};Ct.fromJSON=function(e,r){return new Ct(e,r[0],r[1],r[2])};Ct.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ct.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ct.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),d=s.redMul(f),u=a.redMul(f),b=o.redMul(s);return this.curve.point(c,d,b,u)};Ct.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s;if(this.curve.twisted){var o=this.curve._mulA(r),f=o.redAdd(n);if(this.zOne)i=e.redSub(r).redSub(n).redMul(f.redSub(this.curve.two)),a=f.redMul(o.redSub(n)),s=f.redSqr().redSub(f).redSub(f);else{var c=this.z.redSqr(),d=f.redSub(c).redISub(c);i=e.redSub(r).redISub(n).redMul(d),a=f.redMul(o.redSub(n)),s=f.redMul(d)}}else{var o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),d=o.redSub(c).redSub(c);i=this.curve._mulC(e.redISub(o)).redMul(d),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(d)}return this.curve.point(i,a,s)};Ct.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ct.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),d=s.redMul(o),u=f.redMul(c),b=s.redMul(c),x=o.redMul(f);return this.curve.point(d,u,x,b)};Ct.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),d=r.redMul(o).redMul(c),u,b;return this.curve.twisted?(u=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),b=o.redMul(f)):(u=r.redMul(f).redMul(a.redSub(i)),b=this.curve._mulC(o).redMul(f)),this.curve.point(d,u,b)};Ct.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ct.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ct.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Ct.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Ct.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ct.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ct.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ct.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ct.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ct.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ct.prototype.toP=Ct.prototype.normalize;Ct.prototype.mixedAdd=Ct.prototype.add;var Sc=fn(function(t,e){var r=e;r.base=dr,r.short=g9,r.mont=v9,r.edwards=_9}),bu=Je.rotl32,ys=Je.sum32,A9=Je.sum32_5,k9=da.ft_1,kp=L0.BlockHash,S9=[1518500249,1859775393,2400959708,3395469782];function Cn(){if(!(this instanceof Cn))return new Cn;kp.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Je.inherits(Cn,kp);var E9=Cn;Cn.blockSize=512;Cn.outSize=160;Cn.hmacStrength=80;Cn.padLength=64;Cn.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=bu(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var d=~~(i/20),u=A9(bu(a,5),k9(d,s,o,f),c,n[i],S9[d]);c=f,f=o,o=bu(s,30),s=a,a=u}this.h[0]=ys(this.h[0],a),this.h[1]=ys(this.h[1],s),this.h[2]=ys(this.h[2],o),this.h[3]=ys(this.h[3],f),this.h[4]=ys(this.h[4],c)};Cn.prototype._digest=function(e){return e==="hex"?Je.toHex32(this.h,"big"):Je.split32(this.h,"big")};var C9=E9,P9=G1,R9=ud,M9=J1,B9=j0,T9={sha1:C9,sha224:P9,sha256:R9,sha384:M9,sha512:B9};function l0(t,e,r){if(!(this instanceof l0))return new l0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Je.toArray(e,r))}var I9=l0;l0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),gi(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};l0.prototype.update=function(e,r){return this.inner.update(e,r),this};l0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var _r=fn(function(t,e){var r=e;r.utils=Je,r.common=L0,r.sha=T9,r.ripemd=Ty,r.hmac=I9,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}),D9={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},ms=fn(function(t,e){var r=e,n=yt.assert;function i(o){if(o.type==="short")this.curve=new Sc.short(o);else if(o.type==="edwards")this.curve=new Sc.edwards(o);else if(o.type==="mont")this.curve=new Sc.mont(o);else throw new Error("Unknown curve type.");this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}r.PresetCurve=i;function a(o,f){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var c=new i(f);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:c}),c}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:_r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:_r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),a("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:_r.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),a("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:_r.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),a("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:_r.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});var s;try{s=D9}catch(o){s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Ni(t){if(!(this instanceof Ni))return new Ni(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Vr.toArray(t.entropy,t.entropyEnc||"hex"),r=Vr.toArray(t.nonce,t.nonceEnc||"hex"),n=Vr.toArray(t.pers,t.persEnc||"hex");gi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var pu=Ni;Ni.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Ni.prototype._hmac=function(){return new _r.hmac(this.hash,this.K)};Ni.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ni.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Vr.toArray(e,r),n=Vr.toArray(n,i),gi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Ni.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Vr.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,Vr.encode(s,r)};var Sp=yt.assert;function sr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var xu=sr;sr.fromPublic=function(e,r,n){return r instanceof sr?r:new sr(e,{pub:r,pubEnc:n})};sr.fromPrivate=function(e,r,n){return r instanceof sr?r:new sr(e,{priv:r,privEnc:n})};sr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};sr.prototype.getPublic=function(e,r){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,r):this.pub};sr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};sr.prototype._importPrivate=function(e,r){if(this.priv=new Pe(e,r||16),this.ec.curve.type==="mont"){var n=this.ec.curve.one,i=n.ushln(255-3).sub(n).ushln(3);this.priv=this.priv.or(n.ushln(255-1)),this.priv=this.priv.and(i)}else this.priv=this.priv.umod(this.ec.curve.n)};sr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Sp(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Sp(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};sr.prototype.derive=function(e){return e.mul(this.priv).getX()};sr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};sr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};sr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var K9=yt.assert;function Ec(t,e){if(t instanceof Ec)return t;this._importDER(t,e)||(K9(t.r&&t.s,"Signature without r or s"),this.r=new Pe(t.r,16),this.s=new Pe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Cc=Ec;function U9(){this.place=0}function yu(t,e){var r=t[e.place++];if(!(r&128))return r;for(var n=r&15,i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s];return e.place=s,i}function Ep(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Ec.prototype._importDER=function(e,r){e=yt.toArray(e,r);var n=new U9;if(e[n.place++]!==48)return!1;var i=yu(e,n);if(i+n.place!==e.length||e[n.place++]!==2)return!1;var a=yu(e,n),s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=yu(e,n);if(e.length!==o+n.place)return!1;var f=e.slice(n.place,o+n.place);return s[0]===0&&s[1]&128&&(s=s.slice(1)),f[0]===0&&f[1]&128&&(f=f.slice(1)),this.r=new Pe(s),this.s=new Pe(f),this.recoveryParam=null,!0};function mu(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Ec.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Ep(r),n=Ep(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];mu(i,r.length),i=i.concat(r),i.push(2),mu(i,n.length);var a=i.concat(n),s=[48];return mu(s,a.length),s=s.concat(a),yt.encode(s,e)};var Cp=yt.assert;function yr(t){if(!(this instanceof yr))return new yr(t);typeof t=="string"&&(Cp(ms.hasOwnProperty(t),"Unknown curve "+t),t=ms[t]),t instanceof ms.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var z9=yr;yr.prototype.keyPair=function(e){return new xu(this,e)};yr.prototype.keyFromPrivate=function(e,r){return xu.fromPrivate(this,e,r)};yr.prototype.keyFromPublic=function(e,r){return xu.fromPublic(this,e,r)};yr.prototype.genKeyPair=function(e){e||(e={});var r=new pu({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||_c(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if(this.curve.type==="mont"){var n=new Pe(r.generate(32));return this.keyFromPrivate(n)}var i=this.n.byteLength(),a=this.n.sub(new Pe(2));do{var n=new Pe(r.generate(i));if(!(n.cmp(a)>0))return n.iaddn(1),this.keyFromPrivate(n)}while(!0)};yr.prototype._truncateToN=function(e,r,n){n=n||e.byteLength()*8;var i=n-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};yr.prototype.truncateMsg=function(e){var r;return e instanceof Uint8Array?(r=e.byteLength*8,e=this._truncateToN(new Pe(e,16),!1,r)):typeof e=="string"?(r=e.length*4,e=this._truncateToN(new Pe(e,16),!1,r)):e=this._truncateToN(new Pe(e,16)),e};yr.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this.truncateMsg(e);for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),f=new pu({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Pe(1)),d=0;;d++){var u=i.k?i.k(d):new Pe(f.generate(this.n.byteLength()));if(u=this._truncateToN(u,!0),!(u.cmpn(1)<=0||u.cmp(c)>=0)){var b=this.g.mul(u);if(!b.isInfinity()){var x=b.getX(),A=x.umod(this.n);if(A.cmpn(0)!==0){var S=u.invm(this.n).mul(A.mul(r.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var O=(b.getY().isOdd()?1:0)|(x.cmp(A)!==0?2:0);return i.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),O^=1),new Cc({r:A,s:S,recoveryParam:O})}}}}}};yr.prototype.verify=function(e,r,n,i){n=this.keyFromPublic(n,i),r=new Cc(r,"hex");var a=this._verify(this.truncateMsg(e),r,n)||this._verify(this._truncateToN(new Pe(e,16)),r,n);return a};yr.prototype._verify=function(e,r,n){var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),o=s.mul(e).umod(this.n),f=s.mul(i).umod(this.n);if(!this.curve._maxwellTrick){var c=this.g.mulAdd(o,n.getPublic(),f);return c.isInfinity()?!1:c.getX().umod(this.n).cmp(i)===0}var c=this.g.jmulAdd(o,n.getPublic(),f);return c.isInfinity()?!1:c.eqXToP(i)};yr.prototype.recoverPubKey=function(t,e,r,n){Cp((3&r)===r,"The recovery param is more than two bits"),e=new Cc(e,n);var i=this.n,a=new Pe(t),s=e.r,o=e.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var d=e.r.invm(i),u=i.sub(a).mul(d).umod(i),b=o.mul(d).umod(i);return this.g.mulAdd(u,s,b)};yr.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Cc(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch(s){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Pp=yt.assert,Rp=yt.parseBytes,h0=yt.cachedProperty;function Yt(t,e){if(this.eddsa=t,e.hasOwnProperty("secret")&&(this._secret=Rp(e.secret)),t.isPoint(e.pub))this._pub=e.pub;else if(this._pubBytes=Rp(e.pub),this._pubBytes&&this._pubBytes.length===33&&this._pubBytes[0]===64&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&this._pubBytes.length!==32)throw new Error("Unknown point compression format")}Yt.fromPublic=function(e,r){return r instanceof Yt?r:new Yt(e,{pub:r})};Yt.fromSecret=function(e,r){return r instanceof Yt?r:new Yt(e,{secret:r})};Yt.prototype.secret=function(){return this._secret};h0(Yt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});h0(Yt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});h0(Yt,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});h0(Yt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});h0(Yt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});h0(Yt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Yt.prototype.sign=function(e){return Pp(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Yt.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Yt.prototype.getSecret=function(e){return Pp(this._secret,"KeyPair is public only"),yt.encode(this.secret(),e)};Yt.prototype.getPublic=function(e,r){return yt.encode((r?[64]:[]).concat(this.pubBytes()),e)};var gu=Yt,F9=yt.assert,Pc=yt.cachedProperty,O9=yt.parseBytes;function _a(t,e){this.eddsa=t,typeof e!="object"&&(e=O9(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),F9(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Pe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Pc(_a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Pc(_a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Pc(_a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Pc(_a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});_a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};_a.prototype.toHex=function(){return yt.encode(this.toBytes(),"hex").toUpperCase()};var Mp=_a,N9=yt.assert,Bp=yt.parseBytes;function or(t){if(N9(t==="ed25519","only tested with ed25519 so far"),!(this instanceof or))return new or(t);var t=ms[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=_r.sha512}var q9=or;or.prototype.sign=function(e,r){e=Bp(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};or.prototype.verify=function(e,r,n){e=Bp(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};or.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return yt.intFromLE(e.digest()).umod(this.curve.n)};or.prototype.keyPair=function(e){return new gu(this,e)};or.prototype.keyFromPublic=function(e){return gu.fromPublic(this,e)};or.prototype.keyFromSecret=function(e){return gu.fromSecret(this,e)};or.prototype.genKeyPair=function(e){e||(e={});var r=new pu({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||_c(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(r.generate(32))};or.prototype.makeSignature=function(e){return e instanceof Mp?e:new Mp(this,e)};or.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};or.prototype.decodePoint=function(e){e=yt.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&~128),i=(e[r]&128)!=0,a=yt.intFromLE(n);return this.curve.pointFromY(a,i)};or.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};or.prototype.decodeInt=function(e){return yt.intFromLE(e)};or.prototype.isPoint=function(e){return e instanceof this.pointClass};var Tp=fn(function(t,e){var r=e;r.utils=yt,r.rand=_c,r.curve=Sc,r.curves=ms,r.ec=z9,r.eddsa=q9}),Km=Object.freeze({__proto__:null,default:Tp,__moduleExports:Tp});function L9(t){let e,r,n,i,a=t[0].password+"",s,o,f,c,d,u,b,x,A,S,O,T,Q,ne,F;return r=new Pn({props:{buttonName:"Generate new keys"}}),r.$on("click",t[1]),{c(){e=Me("main"),wt(r.$$.fragment),n=nt(),i=Me("p"),s=Ft(a),o=nt(),f=Me("input"),c=nt(),d=Me("div"),u=Me("div"),u.innerHTML=`<img class="icon svelte-g2v0et" src="icons/copy.svg" alt="copy-to-clipboard icon"/> 
      <label class="text-center select-none w-full" for="publicKey">Public Key</label>`,b=nt(),x=Me("textarea"),A=nt(),S=Me("div"),S.innerHTML=`<img class="icon svelte-g2v0et" src="icons/copy.svg" alt="copy-to-clipboard icon"/> 
      <label class="text-center select-none w-full" for="privateKey">Private Key</label>`,O=nt(),T=Me("textarea"),ve(f,"type","password"),ve(f,"class","w-80 mx-auto px-1 mt-2 text-center border rounded focus:border-blue-600 focus:outline-none"),ve(f,"placeholder","Password"),ve(u,"class","flex text-center justify-center __copyControl w-5/12 svelte-g2v0et"),ve(x,"class","w-full my-2 h-32 max-h-30 rounded mb-5 outline-none border focus:border-blue-500 transition-colors p-1 max-h-36"),ve(x,"name","Public key"),ve(x,"id","publicKey"),ve(x,"autocomplete","off"),ve(S,"class","flex text-center justify-center __copyControl w-5/12 svelte-g2v0et"),ve(T,"class","w-full my-2 h-32 max-h-30 rounded outline-none border focus:border-blue-500 transition-colors p-1 max-h-36"),ve(T,"name","Private key"),ve(T,"id","privateKey"),ve(T,"autocomplete","off"),ve(d,"class","mx-auto flex flex-col items-center w-full mt-4"),ve(e,"class"," mx-auto flex flex-col w-full")},m(X,te){dt(X,e,te),gt(r,e,null),ke(e,n),ke(e,i),ke(i,s),ke(e,o),ke(e,f),Zt(f,t[0].password),ke(e,c),ke(e,d),ke(d,u),ke(d,b),ke(d,x),Zt(x,t[0].publicKey),ke(d,A),ke(d,S),ke(d,O),ke(d,T),Zt(T,t[0].privateKey),Q=!0,ne||(F=[kt(f,"input",t[3]),kt(u,"click",t[4]),kt(x,"input",t[5]),kt(S,"click",t[6]),kt(T,"input",t[7])],ne=!0)},p(X,[te]){(!Q||te&1)&&a!==(a=X[0].password+"")&&mr(s,a),te&1&&f.value!==X[0].password&&Zt(f,X[0].password),te&1&&Zt(x,X[0].publicKey),te&1&&Zt(T,X[0].privateKey)},i(X){Q||(Ve(r.$$.fragment,X),Q=!0)},o(X){Qe(r.$$.fragment,X),Q=!1},d(X){X&&ot(e),vt(r),ne=!1,Vt(F)}}}function j9(t,e,r){let n;Tr(t,Tn,u=>r(0,n=u));async function i(){if(n.password)var u=await fu({type:"rsa",userIds:{name:"test",email:"test@test.test"},passphrase:n.password});else var u=await fu({type:"rsa",userIds:{name:"test",email:"test@test.test"}});vs(Tn,n.publicKey=u.publicKeyArmored,n),vs(Tn,n.privateKey=u.privateKeyArmored,n)}function a(u){let b=document.getElementById(u);b.value,navigator.clipboard.writeText(b.value),Kr.push("Key copied to clipboard",{theme:{"--toastBackground":"#48BB78","--toastProgressBackground":"#2F855A"}})}function s(){n.password=this.value,Tn.set(n)}let o=()=>a("publicKey");function f(){n.publicKey=this.value,Tn.set(n)}let c=()=>a("privateKey");function d(){n.privateKey=this.value,Tn.set(n)}return[n,i,a,s,o,f,c,d]}var Ip=class extends Pt{constructor(e){super();Tt(this,e,j9,L9,At,{})}},Dp=Ip;function $9(t){let e,r,n,i,a,s;return{c(){e=Me("div"),r=Me("h1"),r.textContent="Paste recipient's public key",n=nt(),i=Me("textarea"),ve(r,"class","text-lg text-white rounded bg-yellow-500 mb-2 px-9"),ve(i,"class","w-full my-2 h-5/6 rounded outline-none border focus:border-blue-500 transition-colors p-1 max-h-full"),ve(i,"name","recipient public key"),ve(i,"id","recipientPublicKey"),ve(i,"autocomplete","off"),ve(e,"class","h-full text-center w-full")},m(o,f){dt(o,e,f),ke(e,r),ke(e,n),ke(e,i),Zt(i,t[0].public),a||(s=kt(i,"input",t[1]),a=!0)},p(o,[f]){f&1&&Zt(i,o[0].public)},i:ft,o:ft,d(o){o&&ot(e),a=!1,s()}}}function H9(t,e,r){let n;Tr(t,_0,a=>r(0,n=a));function i(){n.public=this.value,_0.set(n)}return[n,i]}var Kp=class extends Pt{constructor(e){super();Tt(this,e,H9,$9,At,{})}},Up=Kp;async function zp({message:t,publicKey:e,privateKey:r,password:n}){if(n){let i=Qt.fromText(t),a=await zi({armoredKey:e}),s=await zi({armoredKey:r}),o=await du({privateKey:s,passphrase:n});return await uu({message:i,publicKeys:a,privateKeys:o})}else{let i=Qt.fromText(t),a=await zi({armoredKey:e}),s=await zi({armoredKey:r});return await uu({message:i,publicKeys:a,privateKeys:s})}}async function vu({message:t,username:e,encrypted:r,room:n,id:i,event:a},{publicKey:s,privateKey:o,password:f}){let c;if(f){let b=await zi({armoredKey:o});c=await du({privateKey:b,passphrase:f})}else c=await zi({armoredKey:o});let d=await vp({armoredMessage:t});return{message:(await Ap({message:d,privateKeys:c})).data,username:e,encrypted:!1,room:n,id:i,event:a}}function Fp(t,e,r){let n=t.slice();return n[23]=e[r],n}function W9(t){let e,r,n,i;return{c(){e=Me("img"),ve(e,"slot","icon"),ve(e,"class",r=""+(lr(`lock-icon select-none hidden sm:inline ${t[2]?"bg-green-400":"bg-yellow-600"} transition-colors`)+" svelte-1lc3uxu")),e.src!==(n=t[2]?"icons/secure.svg":"icons/insecure.svg")&&ve(e,"src",n),ve(e,"alt",i=t[2]?"locked icon":"unlocked icon")},m(a,s){dt(a,e,s)},p(a,s){s&4&&r!==(r=""+(lr(`lock-icon select-none hidden sm:inline ${a[2]?"bg-green-400":"bg-yellow-600"} transition-colors`)+" svelte-1lc3uxu"))&&ve(e,"class",r),s&4&&e.src!==(n=a[2]?"icons/secure.svg":"icons/insecure.svg")&&ve(e,"src",n),s&4&&i!==(i=a[2]?"locked icon":"unlocked icon")&&ve(e,"alt",i)},d(a){a&&ot(e)}}}function Y9(t){let e,r,n,i=(t[2]?"ON":"OFF")+"",a,s;return{c(){e=Me("p"),r=Ft("Encrypt: "),n=Me("span"),a=Ft(i),ve(n,"class",s=""+(lr(`${t[2]?"text-green-400":"text-red-400"}`)+" svelte-1lc3uxu")),ve(e,"class","text-white select-none"),ve(e,"slot","text")},m(o,f){dt(o,e,f),ke(e,r),ke(e,n),ke(n,a)},p(o,f){f&4&&i!==(i=(o[2]?"ON":"OFF")+"")&&mr(a,i),f&4&&s!==(s=""+(lr(`${o[2]?"text-green-400":"text-red-400"}`)+" svelte-1lc3uxu"))&&ve(n,"class",s)},d(o){o&&ot(e)}}}function G9(t){let e,r,n,i=(t[5]?"ON":"OFF")+"",a,s;return{c(){e=Me("p"),r=Ft("Decrypt: "),n=Me("span"),a=Ft(i),ve(n,"class",s=""+(lr(`${t[5]?"text-green-400":"text-red-400"}`)+" svelte-1lc3uxu")),ve(e,"class","text-white select-none"),ve(e,"slot","text")},m(o,f){dt(o,e,f),ke(e,r),ke(e,n),ke(n,a)},p(o,f){f&32&&i!==(i=(o[5]?"ON":"OFF")+"")&&mr(a,i),f&32&&s!==(s=""+(lr(`${o[5]?"text-green-400":"text-red-400"}`)+" svelte-1lc3uxu"))&&ve(n,"class",s)},d(o){o&&ot(e)}}}function Op(t){let e,r;function n(){return t[15](t[23])}return e=new rh({props:{message:t[23],user:t[7],decryptFunction:n}}),{c(){wt(e.$$.fragment)},m(i,a){gt(e,i,a),r=!0},p(i,a){t=i;let s={};a&1&&(s.message=t[23]),a&1&&(s.decryptFunction=n),e.$set(s)},i(i){r||(Ve(e.$$.fragment,i),r=!0)},o(i){Qe(e.$$.fragment,i),r=!1},d(i){vt(e,i)}}}function Np(t){let e,r,n;function i(s){t[17](s)}let a={$$slots:{content:[V9]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.toggle=t[3]),e=new Vc({props:a}),ai.push(()=>Sa(e,"toggle",i)),{c(){wt(e.$$.fragment)},m(s,o){gt(e,s,o),n=!0},p(s,o){let f={};o&67108864&&(f.$$scope={dirty:o,ctx:s}),!r&&o&8&&(r=!0,f.toggle=s[3],ka(()=>r=!1)),e.$set(f)},i(s){n||(Ve(e.$$.fragment,s),n=!0)},o(s){Qe(e.$$.fragment,s),n=!1},d(s){vt(e,s)}}}function V9(t){let e,r,n;return r=new Dp({}),{c(){e=Me("span"),wt(r.$$.fragment),ve(e,"slot","content")},m(i,a){dt(i,e,a),gt(r,e,null),n=!0},i(i){n||(Ve(r.$$.fragment,i),n=!0)},o(i){Qe(r.$$.fragment,i),n=!1},d(i){i&&ot(e),vt(r)}}}function qp(t){let e,r,n;function i(s){t[18](s)}let a={$$slots:{content:[Z9]},$$scope:{ctx:t}};return t[4]!==void 0&&(a.toggle=t[4]),e=new Vc({props:a}),ai.push(()=>Sa(e,"toggle",i)),{c(){wt(e.$$.fragment)},m(s,o){gt(e,s,o),n=!0},p(s,o){let f={};o&67108864&&(f.$$scope={dirty:o,ctx:s}),!r&&o&16&&(r=!0,f.toggle=s[4],ka(()=>r=!1)),e.$set(f)},i(s){n||(Ve(e.$$.fragment,s),n=!0)},o(s){Qe(e.$$.fragment,s),n=!1},d(s){vt(e,s)}}}function Z9(t){let e,r,n;return r=new Up({}),{c(){e=Me("span"),wt(r.$$.fragment),ve(e,"slot","content"),ve(e,"class","h-full")},m(i,a){dt(i,e,a),gt(r,e,null),n=!0},i(i){n||(Ve(r.$$.fragment,i),n=!0)},o(i){Qe(r.$$.fragment,i),n=!1},d(i){i&&ot(e),vt(r)}}}function X9(t){let e,r,n,i,a,s,o,f,c,d,u,b,x,A,S,O,T,Q,ne,F,X,te,re,J,se,C,l,m,y,I,N,Z,B,P,p;function L(G){t[11](G)}let be={$$slots:{text:[Y9],icon:[W9]},$$scope:{ctx:t}};t[2]!==void 0&&(be.checked=t[2]),a=new Gc({props:be}),ai.push(()=>Sa(a,"checked",L));function me(G){t[12](G)}let _e={$$slots:{text:[G9]},$$scope:{ctx:t}};t[5]!==void 0&&(_e.checked=t[5]),f=new Gc({props:_e}),ai.push(()=>Sa(f,"checked",me)),b=new Pn({props:{buttonName:"Recepient key",backgroundColor:"bg-yellow-600",backgroundHoverColor:"bg-yellow-500"}}),b.$on("click",t[13]),A=new Pn({props:{buttonName:"Personal Keys",backgroundColor:"bg-green-600",backgroundHoverColor:"bg-green-500"}}),A.$on("click",t[14]);let Se=t[0],ge=[];for(let G=0;G<Se.length;G+=1)ge[G]=Op(Fp(t,Se,G));let j=G=>Qe(ge[G],1,1,()=>{ge[G]=null}),oe=t[3]&&Np(t),ee=t[4]&&qp(t);return Z=new Xc({}),{c(){e=Me("div"),r=Me("div"),n=Me("section"),i=Me("div"),wt(a.$$.fragment),o=nt(),wt(f.$$.fragment),d=nt(),u=Me("section"),wt(b.$$.fragment),x=nt(),wt(A.$$.fragment),S=nt(),O=Me("main"),T=Me("section");for(let G=0;G<ge.length;G+=1)ge[G].c();Q=nt(),ne=Me("form"),F=Me("p"),X=Ft(t[6]),te=Ft("/2"),re=nt(),J=Me("input"),se=nt(),C=Me("button"),l=Ft("Send"),y=nt(),oe&&oe.c(),I=nt(),ee&&ee.c(),N=nt(),wt(Z.$$.fragment),ve(i,"class","flex justify-evenly w-full"),ve(n,"class","flex justify-between w-5/12 min-w-min mx-2"),ve(u,"class","w-3/6 flex flex-col h-full justify-evenly sm:flex-row"),ve(r,"class","flex justify-evenly w-11/12 rounded items-center mb-2 mt-2 bg-indigo-600 pt-1 md:w-11/12 lg:w-6/12"),ve(T,"class","__text-container mx-auto inline-flex flex-col overflow-y-auto w-full svelte-1lc3uxu"),ve(F,"class","opacity-50"),ve(J,"type","text"),ve(J,"name",""),ve(J,"id","message"),ve(J,"autocomplete","off"),ve(J,"class","bg-gray-200 rounded h-8 outline-none border-2 w-5/6 focus:border-blue-600 focus:bg-gray-50 px-2 py-3 mx-2"),ve(C,"type","submit"),ve(C,"class","bg-blue-500 text-white text-center min-w-min px-1 w-1/6 py-1 rounded hover:bg-blue-600"),C.disabled=m=!t[1],ve(ne,"class","flex justify-center items-center object-bottom min-w-0 w-5/6 mx-auto mt-4"),ve(O,"class","container w-11/12 h-5/6 mx-auto bg-blue-50 rounded-md p-4 flex-col justify-between pb-14"),ve(e,"class","bg-indigo-300 w-screen h-screen flex flex-col justify-center items-center pb-2")},m(G,ce){dt(G,e,ce),ke(e,r),ke(r,n),ke(n,i),gt(a,i,null),ke(i,o),gt(f,i,null),ke(r,d),ke(r,u),gt(b,u,null),ke(u,x),gt(A,u,null),ke(e,S),ke(e,O),ke(O,T);for(let le=0;le<ge.length;le+=1)ge[le].m(T,null);ke(O,Q),ke(O,ne),ke(ne,F),ke(F,X),ke(F,te),ke(ne,re),ke(ne,J),Zt(J,t[1]),ke(ne,se),ke(ne,C),ke(C,l),ke(e,y),oe&&oe.m(e,null),ke(e,I),ee&&ee.m(e,null),ke(e,N),gt(Z,e,null),B=!0,P||(p=[kt(J,"input",t[16]),kt(ne,"submit",Dc(t[8]))],P=!0)},p(G,[ce]){let le={};ce&67108868&&(le.$$scope={dirty:ce,ctx:G}),!s&&ce&4&&(s=!0,le.checked=G[2],ka(()=>s=!1)),a.$set(le);let ye={};if(ce&67108896&&(ye.$$scope={dirty:ce,ctx:G}),!c&&ce&32&&(c=!0,ye.checked=G[5],ka(()=>c=!1)),f.$set(ye),ce&641){Se=G[0];let k;for(k=0;k<Se.length;k+=1){let v=Fp(G,Se,k);ge[k]?(ge[k].p(v,ce),Ve(ge[k],1)):(ge[k]=Op(v),ge[k].c(),Ve(ge[k],1),ge[k].m(T,null))}for(Ir(),k=Se.length;k<ge.length;k+=1)j(k);Dr()}(!B||ce&64)&&mr(X,G[6]),ce&2&&J.value!==G[1]&&Zt(J,G[1]),(!B||ce&2&&m!==(m=!G[1]))&&(C.disabled=m),G[3]?oe?(oe.p(G,ce),ce&8&&Ve(oe,1)):(oe=Np(G),oe.c(),Ve(oe,1),oe.m(e,I)):oe&&(Ir(),Qe(oe,1,1,()=>{oe=null}),Dr()),G[4]?ee?(ee.p(G,ce),ce&16&&Ve(ee,1)):(ee=qp(G),ee.c(),Ve(ee,1),ee.m(e,N)):ee&&(Ir(),Qe(ee,1,1,()=>{ee=null}),Dr())},i(G){if(!B){Ve(a.$$.fragment,G),Ve(f.$$.fragment,G),Ve(b.$$.fragment,G),Ve(A.$$.fragment,G);for(let ce=0;ce<Se.length;ce+=1)Ve(ge[ce]);Ve(oe),Ve(ee),Ve(Z.$$.fragment,G),B=!0}},o(G){Qe(a.$$.fragment,G),Qe(f.$$.fragment,G),Qe(b.$$.fragment,G),Qe(A.$$.fragment,G),ge=ge.filter(Boolean);for(let ce=0;ce<ge.length;ce+=1)Qe(ge[ce]);Qe(oe),Qe(ee),Qe(Z.$$.fragment,G),B=!1},d(G){G&&ot(e),vt(a),vt(f),vt(b),vt(A),Ic(ge,G),oe&&oe.d(),ee&&ee.d(),vt(Z),P=!1,Vt(p)}}}function J9(t,e,r){let n,i;Tr(t,Tn,C=>r(20,n=C)),Tr(t,_0,C=>r(21,i=C));let{params:a}=e,s=a.roomid,o=[],f=tn(),c="",d=!1,u=!1,b=!1,x=!1,A=0,S=yf();S.emit("create_room",{username:f,room_ID:s}),S.on("roomFullRedirect",()=>{s=tn.slug(),window.location.hash=`#/${s}`,window.location.reload()}),S.on("message",async C=>{if(C.encrypted&&x){if(C.username===f)return;let l=await vu(C,{publicKey:n.publicKey,privateKey:n.privateKey,password:n.password});r(0,o=[...o,l]);return}C.username!==f&&r(0,o=[...o,C])}),S.on("changeCount",C=>{r(6,A=C.count)});async function O(){if(!!c){if(d){let C;try{C=await zp({message:c,publicKey:i.public,privateKey:n.privateKey,password:n.password})}catch(l){console.log(l),Kr.push("Cannot encrypt! Check keys and password!",{theme:{"--toastBackground":"#F56565","--toastProgressBackground":"#C53030"}})}S.emit("message",{message:C,username:f,encrypted:d,room:s,id:tn(),event:"message"}),r(0,o=[...o,{message:c,username:f,encrypted:!1,room:s,id:tn(),event:"message"}]),r(1,c="");return}S.emit("message",{message:c,username:f,encrypted:d,room:s,id:tn(),event:"message"}),r(0,o=[...o,{message:c,username:f,encrypted:d,room:s,id:tn(),event:"message"}]),r(1,c="")}}async function T(C,l){if(!C.encrypted)return;let m=C;try{m=await vu(C,{publicKey:n.publicKey,privateKey:n.privateKey,password:n.password})}catch(I){if(console.log(I),I.message="Mandatory blank line missing between armor headers and armor data"){Kr.push("Mandatory blank line missing between key headers and key data!",{theme:{"--toastBackground":"#F56565","--toastProgressBackground":"#C53030"}});return}Kr.push("Cannot decrypt. Check keys!",{theme:{"--toastBackground":"#F56565","--toastProgressBackground":"#C53030"}});return}let y=l.indexOf(C);l.splice(y,1,m),r(0,o=l)}function Q(C){d=C,r(2,d)}function ne(C){x=C,r(5,x)}let F=()=>r(4,b=!b),X=()=>r(3,u=!u),te=C=>T(C,o);function re(){c=this.value,r(1,c)}function J(C){u=C,r(3,u)}function se(C){b=C,r(4,b)}return t.$$set=C=>{"params"in C&&r(10,a=C.params)},[o,c,d,u,b,x,A,f,O,T,a,Q,ne,F,X,te,re,J,se]}var Lp=class extends Pt{constructor(e){super();Tt(this,e,J9,X9,At,{params:10})}},jp=Lp;function Q9(t){let e,r,n,i,a,s,o,f,c,d,u,b,x,A,S;return b=new Pn({props:{buttonName:"Open chat",backgroundColor:"bg-blue-500",backgroundHoverColor:"bg-blue-600",width:"w-full"}}),b.$on("click",t[4]),{c(){e=Me("main"),r=Me("section"),n=Me("div"),i=Me("input"),o=nt(),f=Me("img"),d=nt(),u=Me("div"),wt(b.$$.fragment),ve(i,"class","bg-green-500 text-center p-2 rounded text-white outline-none"),ve(i,"type","text"),ve(i,"minlength",a=21),ve(i,"maxlength",s=30),f.src!==(c="icons/dice.svg")&&ve(f,"src",c),ve(f,"alt","randomize icon"),ve(f,"class","__icon svelte-tlg3x2"),ve(n,"class","flex items-center justify-center"),ve(u,"class","__button flex justify-center items-center mt-2 svelte-tlg3x2"),ve(r,"class","__container rounded svelte-tlg3x2"),ve(e,"class","w-screen h-screen bg-purple-500 flex items-center justify-center")},m(O,T){dt(O,e,T),ke(e,r),ke(r,n),ke(n,i),Zt(i,t[1]),ke(n,o),ke(n,f),ke(r,d),ke(r,u),gt(b,u,null),x=!0,A||(S=[kt(i,"input",t[2]),kt(f,"click",t[3])],A=!0)},p(O,[T]){T&2&&i.value!==O[1]&&Zt(i,O[1])},i(O){x||(Ve(b.$$.fragment,O),x=!0)},o(O){Qe(b.$$.fragment,O),x=!1},d(O){O&&ot(e),vt(b),A=!1,Vt(S)}}}var $p="localhost:5000/#/";function ev(t,e,r){let n,i=tn.slug();function a(){n=this.value,r(1,n),r(0,i)}let s=()=>r(0,i=tn.slug()),o=()=>window.location.hash=`#/${n.slice($p.length)}`;return t.$$.update=()=>{if(t.$$.dirty&1){e:r(1,n=$p+i)}},[i,n,a,s,o]}var Hp=class extends Pt{constructor(e){super();Tt(this,e,ev,Q9,At,{})}},Wp=Hp;function tv(t){let e,r;return e=new Yu({props:{routes:{"/":Wp,"/:roomid":jp}}}),{c(){wt(e.$$.fragment)},m(n,i){gt(e,n,i),r=!0},p:ft,i(n){r||(Ve(e.$$.fragment,n),r=!0)},o(n){Qe(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}var Yp=class extends Pt{constructor(e){super();Tt(this,e,null,tv,At,{})}},Gp=Yp;import.meta.env=Mc;var Vp=new Gp({target:document.body}),rv=Vp;import.meta?.hot&&((void 0).accept(),(void 0).dispose(()=>{Vp.$destroy()}));export{rv as default};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/*! OpenPGP.js v5.0.0-1 - 2021-03-03 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */
/**
 * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */
