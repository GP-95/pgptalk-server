var gp=Object.defineProperty;var vp=(t,e)=>{for(var r in e)gp(t,r,{get:e[r],enumerable:!0})};var vc={};vp(vc,{MODE:()=>wp,NODE_ENV:()=>_p,SSR:()=>Ap});var wp="production",_p="production",Ap=!1;function It(){}function ei(t,e){for(let r in e)t[r]=e[r];return t}function fu(t){return t()}function du(){return Object.create(null)}function Qt(t){t.forEach(fu)}function wc(t){return typeof t=="function"}function Tt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function kp(t){return Object.keys(t).length===0}function _c(t,...e){if(t==null)return It;let r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function Wr(t,e,r){t.$$.on_destroy.push(_c(e,r))}function Oi(t,e,r,n){if(t){let i=uu(t,e,r,n);return t[0](i)}}function uu(t,e,r,n){return t[1]&&n?ei(r.ctx.slice(),t[1](n(e))):r.ctx}function Sp(t,e,r,n){if(t[2]&&n){let i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],s=Math.max(e.dirty.length,i.length);for(let o=0;o<s;o+=1)a[o]=e.dirty[o]|i[o];return a}return e.dirty|i}return e.dirty}function qi(t,e,r,n,i,a,s){let o=Sp(e,n,i,a);if(o){let f=uu(e,r,n,s);t.p(f,o)}}function us(t){let e={};for(let r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function lr(t){return t??""}function ls(t,e,r=e){return t.set(r),e}function Ee(t,e){t.appendChild(e)}function yt(t,e,r){t.insertBefore(e,r||null)}function pt(t){t.parentNode.removeChild(t)}function Ac(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function Ie(t){return document.createElement(t)}function or(t){return document.createTextNode(t)}function lt(){return or(" ")}function hs(){return or("")}function _t(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function kc(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Sc(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Ae(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Ep(t){return Array.from(t.childNodes)}function $r(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Gt(t,e){t.value=e??""}function Cp(t,e){let r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!1,e),r}var bs;function ps(t){bs=t}function lu(){if(!bs)throw new Error("Function called outside component initialization");return bs}function hu(t){lu().$$.after_update.push(t)}function bu(){let t=lu();return(e,r)=>{let n=t.$$.callbacks[e];if(n){let i=Cp(e,r);n.slice().forEach(a=>{a.call(t,i)})}}}function ti(t,e){let r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n(e))}var o0=[],ri=[],xs=[],Ec=[],pu=Promise.resolve(),Cc=!1;function yu(){Cc||(Cc=!0,pu.then(xu))}function mu(){return yu(),pu}function Pc(t){xs.push(t)}function ya(t){Ec.push(t)}var Rc=!1,Mc=new Set;function xu(){if(!Rc){Rc=!0;do{for(let t=0;t<o0.length;t+=1){let e=o0[t];ps(e),Pp(e.$$)}for(ps(null),o0.length=0;ri.length;)ri.pop()();for(let t=0;t<xs.length;t+=1){let e=xs[t];Mc.has(e)||(Mc.add(e),e())}xs.length=0}while(o0.length);for(;Ec.length;)Ec.pop()();Cc=!1,Rc=!1,Mc.clear()}}function Pp(t){if(t.fragment!==null){t.update(),Qt(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Pc)}}var ys=new Set,Li;function An(){Li={r:0,c:[],p:Li}}function kn(){Li.r||Qt(Li.c),Li=Li.p}function Je(t,e){t&&t.i&&(ys.delete(t),t.i(e))}function tt(t,e,r,n){if(t&&t.o){if(ys.has(t))return;ys.add(t),Li.c.push(()=>{ys.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}function Tc(t,e){let r={},n={},i={$$scope:1},a=t.length;for(;a--;){let s=t[a],o=e[a];if(o){for(let f in s)f in o||(n[f]=1);for(let f in o)i[f]||(r[f]=o[f],i[f]=1);t[a]=o}else for(let f in s)i[f]=1}for(let s in n)s in r||(r[s]=void 0);return r}function Bc(t){return typeof t=="object"&&t!==null?t:{}}function ma(t,e,r){let n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function Pt(t){t&&t.c()}function At(t,e,r,n){let{fragment:i,on_mount:a,on_destroy:s,after_update:o}=t.$$;i&&i.m(e,r),n||Pc(()=>{let f=a.map(fu).filter(wc);s?s.push(...f):Qt(f),t.$$.on_mount=[]}),o.forEach(Pc)}function kt(t,e){let r=t.$$;r.fragment!==null&&(Qt(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Rp(t,e){t.$$.dirty[0]===-1&&(o0.push(t),yu(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Kt(t,e,r,n,i,a,s=[-1]){let o=bs;ps(t);let f=t.$$={fragment:null,ctx:null,props:a,update:It,not_equal:i,bound:du(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o?o.$$.context:[]),callbacks:du(),dirty:s,skip_bound:!1},c=!1;if(f.ctx=r?r(t,e.props||{},(d,u,...p)=>{let x=p.length?p[0]:u;return f.ctx&&i(f.ctx[d],f.ctx[d]=x)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](x),c&&Rp(t,d)),u}):[],f.update(),c=!0,Qt(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){let d=Ep(e.target);f.fragment&&f.fragment.l(d),d.forEach(pt)}else f.fragment&&f.fragment.c();e.intro&&Je(t.$$.fragment),At(t,e.target,e.anchor,e.customElement),xu()}ps(o)}var Dt=class{$destroy(){kt(this,1),this.$destroy=It}$on(e,r){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!kp(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var ga=[];function Ic(t,e){return{subscribe:c0(t,e).subscribe}}function c0(t,e=It){let r,n=[];function i(o){if(Tt(t,o)&&(t=o,r)){let f=!ga.length;for(let c=0;c<n.length;c+=1){let d=n[c];d[1](),ga.push(d,t)}if(f){for(let c=0;c<ga.length;c+=2)ga[c][0](ga[c+1]);ga.length=0}}}function a(o){i(o(t))}function s(o,f=It){let c=[o,f];return n.push(c),n.length===1&&(r=e(i)||It),o(t),()=>{let d=n.indexOf(c);d!==-1&&n.splice(d,1),n.length===0&&(r(),r=null)}}return{set:i,update:a,subscribe:s}}function Dc(t,e,r){let n=!Array.isArray(t),i=n?[t]:t,a=e.length<2;return Ic(r,s=>{let o=!1,f=[],c=0,d=It,u=()=>{if(c)return;d();let x=e(n?f[0]:f,s);a?s(x):d=wc(x)?x:It},p=i.map((x,S)=>_c(x,E=>{f[S]=E,c&=~(1<<S),o&&u()},()=>{c|=1<<S}));return o=!0,u(),function(){Qt(p),d()}})}function Mp(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,a,s=[],o="",f=t.split("/");for(f[0]||f.shift();i=f.shift();)r=i[0],r==="*"?(s.push("wild"),o+="/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),s.push(i.substring(1,~n?n:~a?a:i.length)),o+=!!~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~n?"?":"")+"\\"+i.substring(a))):o+="/"+i;return{keys:s,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function Tp(t){let e,r,n,i=[t[2]];var a=t[0];function s(o){let f={};for(let c=0;c<i.length;c+=1)f=ei(f,i[c]);return{props:f}}return a&&(e=new a(s()),e.$on("routeEvent",t[7])),{c(){e&&Pt(e.$$.fragment),r=hs()},m(o,f){e&&At(e,o,f),yt(o,r,f),n=!0},p(o,f){let c=f&4?Tc(i,[Bc(o[2])]):{};if(a!==(a=o[0])){if(e){An();let d=e;tt(d.$$.fragment,1,0,()=>{kt(d,1)}),kn()}a?(e=new a(s()),e.$on("routeEvent",o[7]),Pt(e.$$.fragment),Je(e.$$.fragment,1),At(e,r.parentNode,r)):e=null}else a&&e.$set(c)},i(o){n||(e&&Je(e.$$.fragment,o),n=!0)},o(o){e&&tt(e.$$.fragment,o),n=!1},d(o){o&&pt(r),e&&kt(e,o)}}}function Bp(t){let e,r,n,i=[{params:t[1]},t[2]];var a=t[0];function s(o){let f={};for(let c=0;c<i.length;c+=1)f=ei(f,i[c]);return{props:f}}return a&&(e=new a(s()),e.$on("routeEvent",t[6])),{c(){e&&Pt(e.$$.fragment),r=hs()},m(o,f){e&&At(e,o,f),yt(o,r,f),n=!0},p(o,f){let c=f&6?Tc(i,[f&2&&{params:o[1]},f&4&&Bc(o[2])]):{};if(a!==(a=o[0])){if(e){An();let d=e;tt(d.$$.fragment,1,0,()=>{kt(d,1)}),kn()}a?(e=new a(s()),e.$on("routeEvent",o[6]),Pt(e.$$.fragment),Je(e.$$.fragment,1),At(e,r.parentNode,r)):e=null}else a&&e.$set(c)},i(o){n||(e&&Je(e.$$.fragment,o),n=!0)},o(o){e&&tt(e.$$.fragment,o),n=!1},d(o){o&&pt(r),e&&kt(e,o)}}}function Ip(t){let e,r,n,i,a=[Bp,Tp],s=[];function o(f,c){return f[1]?0:1}return e=o(t),r=s[e]=a[e](t),{c(){r.c(),n=hs()},m(f,c){s[e].m(f,c),yt(f,n,c),i=!0},p(f,[c]){let d=e;e=o(f),e===d?s[e].p(f,c):(An(),tt(s[d],1,1,()=>{s[d]=null}),kn(),r=s[e],r?r.p(f,c):(r=s[e]=a[e](f),r.c()),Je(r,1),r.m(n.parentNode,n))},i(f){i||(Je(r),i=!0)},o(f){tt(r),i=!1},d(f){s[e].d(f),f&&pt(n)}}}function gu(){let t=window.location.href.indexOf("#/"),e=t>-1?window.location.href.substr(t+1):"/",r=e.indexOf("?"),n="";return r>-1&&(n=e.substr(r+1),e=e.substr(0,r)),{location:e,querystring:n}}var Kc=Ic(null,function(e){e(gu());let r=()=>{e(gu())};return window.addEventListener("hashchange",r,!1),function(){window.removeEventListener("hashchange",r,!1)}}),_9=Dc(Kc,t=>t.location),A9=Dc(Kc,t=>t.querystring);function Dp(t,e,r){let{routes:n={}}=e,{prefix:i=""}=e,{restoreScrollState:a=!1}=e;class s{constructor(ie,F){if(!F||typeof F!="function"&&(typeof F!="object"||F._sveltesparouter!==!0))throw Error("Invalid component object");if(!ie||typeof ie=="string"&&(ie.length<1||ie.charAt(0)!="/"&&ie.charAt(0)!="*")||typeof ie=="object"&&!(ie instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');let{pattern:V,keys:re}=Mp(ie);this.path=ie,typeof F=="object"&&F._sveltesparouter===!0?(this.component=F.component,this.conditions=F.conditions||[],this.userData=F.userData,this.props=F.props||{}):(this.component=()=>Promise.resolve(F),this.conditions=[],this.props={}),this._pattern=V,this._keys=re}match(ie){if(i){if(typeof i=="string")if(ie.startsWith(i))ie=ie.substr(i.length)||"/";else return null;else if(i instanceof RegExp){let te=ie.match(i);if(te&&te[0])ie=ie.substr(te[0].length)||"/";else return null}}let F=this._pattern.exec(ie);if(F===null)return null;if(this._keys===!1)return F;let V={},re=0;for(;re<this._keys.length;){try{V[this._keys[re]]=decodeURIComponent(F[re+1]||"")||null}catch(te){V[this._keys[re]]=null}re++}return V}async checkConditions(ie){for(let F=0;F<this.conditions.length;F++)if(!await this.conditions[F](ie))return!1;return!0}}let o=[];n instanceof Map?n.forEach((ee,ie)=>{o.push(new s(ie,ee))}):Object.keys(n).forEach(ee=>{o.push(new s(ee,n[ee]))});let f=null,c=null,d={},u=bu();async function p(ee,ie){await mu(),u(ee,ie)}let x=null;a&&(window.addEventListener("popstate",ee=>{ee.state&&ee.state.scrollY?x=ee.state:x=null}),hu(()=>{x?window.scrollTo(x.scrollX,x.scrollY):window.scrollTo(0,0)}));let S=null,E=null;Kc.subscribe(async ee=>{S=ee;let ie=0;for(;ie<o.length;){let F=o[ie].match(ee.location);if(!F){ie++;continue}let V={route:o[ie].path,location:ee.location,querystring:ee.querystring,userData:o[ie].userData};if(!await o[ie].checkConditions(V)){r(0,f=null),E=null,p("conditionsFailed",V);return}p("routeLoading",Object.assign({},V));let re=o[ie].component;if(E!=re){re.loading?(r(0,f=re.loading),E=re,r(1,c=re.loadingParams),r(2,d={}),p("routeLoaded",Object.assign({},V,{component:f,name:f.name}))):(r(0,f=null),E=null);let te=await re();if(ee!=S)return;r(0,f=te&&te.default||te),E=re}F&&typeof F=="object"&&Object.keys(F).length?r(1,c=F):r(1,c=null),r(2,d=o[ie].props),p("routeLoaded",Object.assign({},V,{component:f,name:f.name}));return}r(0,f=null),E=null});function H(ee){ti(t,ee)}function K(ee){ti(t,ee)}return t.$$set=ee=>{"routes"in ee&&r(3,n=ee.routes),"prefix"in ee&&r(4,i=ee.prefix),"restoreScrollState"in ee&&r(5,a=ee.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=a?"manual":"auto")},[f,c,d,n,i,a,H,K]}var vu=class extends Dt{constructor(e){super();Kt(this,e,Dp,Ip,Tt,{routes:3,prefix:4,restoreScrollState:5})}},wu=vu;var Kp=t=>({}),_u=t=>({}),Up=t=>({}),Au=t=>({});function zp(t){let e,r,n,i,a,s,o,f,c,d,u,p=t[3].icon,x=Oi(p,t,t[2],Au),S=t[3].text,E=Oi(S,t,t[2],_u);return{c(){e=Ie("div"),r=Ie("div"),n=Ie("label"),i=Ie("input"),a=lt(),s=Ie("span"),o=lt(),x&&x.c(),f=lt(),E&&E.c(),Ae(i,"type","checkbox"),i.disabled=t[1],Ae(i,"class","svelte-1s2rdvw"),Ae(s,"class","svelteit-slider min-w-min svelte-1s2rdvw"),Ae(n,"class","svelteit-switch min-w-min mr-1 svelte-1s2rdvw"),Ae(r,"class","flex"),Ae(e,"class","flex flex-col justify-center items-center w-7/12")},m(H,K){yt(H,e,K),Ee(e,r),Ee(r,n),Ee(n,i),i.checked=t[0],Ee(n,a),Ee(n,s),Ee(r,o),x&&x.m(r,null),Ee(e,f),E&&E.m(e,null),c=!0,d||(u=_t(i,"change",t[4]),d=!0)},p(H,[K]){(!c||K&2)&&(i.disabled=H[1]),K&1&&(i.checked=H[0]),x&&x.p&&K&4&&qi(x,p,H,H[2],K,Up,Au),E&&E.p&&K&4&&qi(E,S,H,H[2],K,Kp,_u)},i(H){c||(Je(x,H),Je(E,H),c=!0)},o(H){tt(x,H),tt(E,H),c=!1},d(H){H&&pt(e),x&&x.d(H),E&&E.d(H),d=!1,u()}}}function Fp(t,e,r){let{$$slots:n={},$$scope:i}=e,{checked:a=!1}=e,{disabled:s=!1}=e;function o(){a=this.checked,r(0,a)}return t.$$set=f=>{"checked"in f&&r(0,a=f.checked),"disabled"in f&&r(1,s=f.disabled),"$$scope"in f&&r(2,i=f.$$scope)},[a,s,i,n,o]}var ku=class extends Dt{constructor(e){super();Kt(this,e,Fp,zp,Tt,{checked:0,disabled:1})}},Uc=ku;function Np(t){let e,r,n,i,a;return{c(){e=Ie("button"),r=or(t[0]),Ae(e,"class",n=`${t[1]} rounded focus:outline-none ${t[6]} ${t[7]} ${t[4]} ${t[5]} text-${t[3]} text-center hover:${t[2]}`)},m(s,o){yt(s,e,o),Ee(e,r),i||(a=_t(e,"click",t[8]),i=!0)},p(s,[o]){o&1&&$r(r,s[0]),o&254&&n!==(n=`${s[1]} rounded focus:outline-none ${s[6]} ${s[7]} ${s[4]} ${s[5]} text-${s[3]} text-center hover:${s[2]}`)&&Ae(e,"class",n)},i:It,o:It,d(s){s&&pt(e),i=!1,a()}}}function Op(t,e,r){let{buttonName:n="Click Me"}=e,{backgroundColor:i="bg-purple-600"}=e,{backgroundHoverColor:a="bg-purple-700"}=e,{textColor:s="white"}=e,{paddingY:o="py-1"}=e,{paddingX:f="px-3"}=e,{textSize:c="text-base"}=e,{width:d=""}=e;function u(p){ti(t,p)}return t.$$set=p=>{"buttonName"in p&&r(0,n=p.buttonName),"backgroundColor"in p&&r(1,i=p.backgroundColor),"backgroundHoverColor"in p&&r(2,a=p.backgroundHoverColor),"textColor"in p&&r(3,s=p.textColor),"paddingY"in p&&r(4,o=p.paddingY),"paddingX"in p&&r(5,f=p.paddingX),"textSize"in p&&r(6,c=p.textSize),"width"in p&&r(7,d=p.width)},[n,i,a,s,o,f,c,d,u]}var Su=class extends Dt{constructor(e){super();Kt(this,e,Op,Np,Tt,{buttonName:0,backgroundColor:1,backgroundHoverColor:2,textColor:3,paddingY:4,paddingX:5,textSize:6,width:7})}},Sn=Su;var qp=t=>({}),Eu=t=>({}),Lp=t=>({}),Cu=t=>({});function jp(t){let e,r,n,i,a,s,o,f,c,d,u=t[3].content,p=Oi(u,t,t[2],Cu);a=new Sn({props:{buttonName:"Close",backgroundColor:"bg-red-600",backgroundHoverColor:"bg-red-800",textSize:"text-lg",paddingX:"px-6"}}),a.$on("click",t[5]);let x=t[3].button,S=Oi(x,t,t[2],Eu);return{c(){e=Ie("main"),r=Ie("section"),p&&p.c(),n=lt(),i=Ie("div"),Pt(a.$$.fragment),s=lt(),S&&S.c(),Ae(i,"class",o=""+(lr(`flex ${t[1].button?"justify-between":"justify-center"} w-3/5 mx-auto max-h-14 mb-3`)+" svelte-ci0ee6")),Ae(r,"class","container rounded p-5 flex flex-col justify-between svelte-ci0ee6"),Ae(e,"class","backdrop svelte-ci0ee6")},m(E,H){yt(E,e,H),Ee(e,r),p&&p.m(r,null),Ee(r,n),Ee(r,i),At(a,i,null),Ee(i,s),S&&S.m(i,null),f=!0,c||(d=[_t(r,"click",Sc(t[4])),_t(e,"click",t[6])],c=!0)},p(E,[H]){p&&p.p&&H&4&&qi(p,u,E,E[2],H,Lp,Cu),S&&S.p&&H&4&&qi(S,x,E,E[2],H,qp,Eu),(!f||H&2&&o!==(o=""+(lr(`flex ${E[1].button?"justify-between":"justify-center"} w-3/5 mx-auto max-h-14 mb-3`)+" svelte-ci0ee6")))&&Ae(i,"class",o)},i(E){f||(Je(p,E),Je(a.$$.fragment,E),Je(S,E),f=!0)},o(E){tt(p,E),tt(a.$$.fragment,E),tt(S,E),f=!1},d(E){E&&pt(e),p&&p.d(E),kt(a),S&&S.d(E),c=!1,Qt(d)}}}function Hp(t,e,r){let{$$slots:n={},$$scope:i}=e,{toggle:a=!1}=e;function s(c){ti(t,c)}let o=()=>r(0,a=!a),f=()=>r(0,a=!a);return t.$$set=c=>{r(1,e=ei(ei({},e),us(c))),"toggle"in c&&r(0,a=c.toggle),"$$scope"in c&&r(2,i=c.$$scope)},e=us(e),[a,e,i,n,s,o,f]}var Pu=class extends Dt{constructor(e){super();Kt(this,e,Hp,jp,Tt,{toggle:0})}},zc=Pu;function Wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mr(t,e,r){return r={path:e,exports:{},require:function(n,i){return $p(n,i??r.path)}},t(r,r.exports),r.exports}function $p(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Yp=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Fc=function(e){var r=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=Yp.exec(e||""),s={},o=14;o--;)s[Gp[o]]=a[o]||"";return n!=-1&&i!=-1&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Vp(s,s.path),s.queryKey=Zp(s,s.query),s};function Vp(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function Zp(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}function Ru(){throw new Error("setTimeout has not been defined")}function Mu(){throw new Error("clearTimeout has not been defined")}var ni=Ru,ii=Mu,va;typeof window!="undefined"?va=window:typeof self!="undefined"?va=self:va={};typeof va.setTimeout=="function"&&(ni=setTimeout);typeof va.clearTimeout=="function"&&(ii=clearTimeout);function Tu(t){if(ni===setTimeout)return setTimeout(t,0);if((ni===Ru||!ni)&&setTimeout)return ni=setTimeout,setTimeout(t,0);try{return ni(t,0)}catch(e){try{return ni.call(null,t,0)}catch(r){return ni.call(this,t,0)}}}function Xp(t){if(ii===clearTimeout)return clearTimeout(t);if((ii===Mu||!ii)&&clearTimeout)return ii=clearTimeout,clearTimeout(t);try{return ii(t)}catch(e){try{return ii.call(null,t)}catch(r){return ii.call(this,t)}}}var En=[],wa=!1,ji,ms=-1;function Jp(){!wa||!ji||(wa=!1,ji.length?En=ji.concat(En):ms=-1,En.length&&Bu())}function Bu(){if(!wa){var t=Tu(Jp);wa=!0;for(var e=En.length;e;){for(ji=En,En=[];++ms<e;)ji&&ji[ms].run();ms=-1,e=En.length}ji=null,wa=!1,Xp(t)}}function Qp(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];En.push(new Iu(t,e)),En.length===1&&!wa&&Tu(Bu)}function Iu(t,e){this.fun=t,this.array=e}Iu.prototype.run=function(){this.fun.apply(null,this.array)};var ex="browser",tx="browser",rx=!0,nx=[],ix="",ax={},sx={},ox={};function Hi(){}var cx=Hi,fx=Hi,dx=Hi,ux=Hi,lx=Hi,hx=Hi,bx=Hi;function px(t){throw new Error("process.binding is not supported")}function xx(){return"/"}function yx(t){throw new Error("process.chdir is not supported")}function mx(){return 0}var _a=va.performance||{},gx=_a.now||_a.mozNow||_a.msNow||_a.oNow||_a.webkitNow||function(){return new Date().getTime()};function vx(t){var e=gx.call(_a)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}var wx=new Date;function _x(){var t=new Date,e=t-wx;return e/1e3}var Nc={nextTick:Qp,title:ex,browser:rx,env:{NODE_ENV:"production"},argv:nx,version:ix,versions:ax,on:cx,addListener:fx,once:dx,off:ux,removeListener:lx,removeAllListeners:hx,emit:bx,binding:px,cwd:xx,chdir:yx,umask:mx,hrtime:vx,platform:tx,release:sx,config:ox,uptime:_x},Aa=1e3,ka=Aa*60,Sa=ka*60,Wi=Sa*24,Ax=Wi*7,kx=Wi*365.25,Px=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Sx(t);if(r==="number"&&isFinite(t))return e.long?Cx(t):Ex(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Sx(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*kx;case"weeks":case"week":case"w":return r*Ax;case"days":case"day":case"d":return r*Wi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Sa;case"minutes":case"minute":case"mins":case"min":case"m":return r*ka;case"seconds":case"second":case"secs":case"sec":case"s":return r*Aa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Ex(t){var e=Math.abs(t);return e>=Wi?Math.round(t/Wi)+"d":e>=Sa?Math.round(t/Sa)+"h":e>=ka?Math.round(t/ka)+"m":e>=Aa?Math.round(t/Aa)+"s":t+"ms"}function Cx(t){var e=Math.abs(t);return e>=Wi?gs(t,e,Wi,"day"):e>=Sa?gs(t,e,Sa,"hour"):e>=ka?gs(t,e,ka,"minute"):e>=Aa?gs(t,e,Aa,"second"):t+" ms"}function gs(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}function Rx(t){r.debug=r,r.default=r,r.coerce=f,r.disable=a,r.enable=i,r.enabled=s,r.humanize=Px,r.destroy=c,Object.keys(t).forEach(d=>{r[d]=t[d]}),r.names=[],r.skips=[],r.formatters={};function e(d){let u=0;for(let p=0;p<d.length;p++)u=(u<<5)-u+d.charCodeAt(p),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=e;function r(d){let u,p=null;function x(...S){if(!x.enabled)return;let E=x,H=Number(new Date),K=H-(u||H);E.diff=K,E.prev=u,E.curr=H,u=H,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let ee=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(F,V)=>{if(F==="%%")return"%";ee++;let re=r.formatters[V];if(typeof re=="function"){let te=S[ee];F=re.call(E,te),S.splice(ee,1),ee--}return F}),r.formatArgs.call(E,S),(E.log||r.log).apply(E,S)}return x.namespace=d,x.useColors=r.useColors(),x.color=r.selectColor(d),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>p===null?r.enabled(d):p,set:S=>{p=S}}),typeof r.init=="function"&&r.init(x),x}function n(d,u){let p=r(this.namespace+(typeof u=="undefined"?":":u)+d);return p.log=this.log,p}function i(d){r.save(d),r.names=[],r.skips=[];let u,p=(typeof d=="string"?d:"").split(/[\s,]+/),x=p.length;for(u=0;u<x;u++)!p[u]||(d=p[u].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.substr(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function a(){let d=[...r.names.map(o),...r.skips.map(o).map(u=>"-"+u)].join(",");return r.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let u,p;for(u=0,p=r.skips.length;u<p;u++)if(r.skips[u].test(d))return!1;for(u=0,p=r.names.length;u<p;u++)if(r.names[u].test(d))return!0;return!1}function o(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function f(d){return d instanceof Error?d.stack||d.message:d}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Mx=Rx,Cn=mr(function(t,e){e.formatArgs=n,e.save=i,e.load=a,e.useColors=r,e.storage=s(),e.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;f.splice(1,0,c,"color: inherit");let d=0,u=0;f[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(u=d))}),f.splice(u,0,c)}e.log=console.debug||console.log||(()=>{});function i(f){try{f?e.storage.setItem("debug",f):e.storage.removeItem("debug")}catch(c){}}function a(){let f;try{f=e.storage.getItem("debug")}catch(c){}return!f&&typeof Nc!="undefined"&&"env"in Nc&&(f=Nc.env.DEBUG),f}function s(){try{return localStorage}catch(f){}}t.exports=Mx(e);let{formatters:o}=t.exports;o.j=function(f){try{return JSON.stringify(f)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),Tx=mr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;let r=Cn("socket.io-client:url");function n(i,a="",s){let o=i;s=s||typeof location!="undefined"&&location,i==null&&(i=s.protocol+"//"+s.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=s.protocol+i:i=s.host+i),/^(https?|wss?):\/\//.test(i)||(r("protocol-less url %s",i),typeof s!="undefined"?i=s.protocol+"//"+i:i="https://"+i),r("parse %s",i),o=Fc(i)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";let c=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+c+":"+o.port+a,o.href=o.protocol+"://"+c+(s&&s.port===o.port?"":":"+o.port),o}e.url=n}),Bx=mr(function(t){try{t.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}}),Ea=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())(),Oc=function(t){let e=t.xdomain,r=t.xscheme,n=t.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!e||Bx))return new XMLHttpRequest}catch(i){}try{if(typeof XDomainRequest!="undefined"&&!r&&n)return new XDomainRequest}catch(i){}if(!e)try{return new Ea[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(i){}},Yr=Object.create(null);Yr.open="0";Yr.close="1";Yr.ping="2";Yr.pong="3";Yr.message="4";Yr.upgrade="5";Yr.noop="6";var Du=Object.create(null);Object.keys(Yr).forEach(t=>{Du[Yr[t]]=t});var Ix={type:"error",data:"parser error"},Ku={PACKET_TYPES:Yr,PACKET_TYPES_REVERSE:Du,ERROR_PACKET:Ix},{PACKET_TYPES:Dx}=Ku,Kx=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ux=typeof ArrayBuffer=="function",zx=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Fx=({type:t,data:e},r,n)=>Kx&&e instanceof Blob?r?n(e):Uu(e,n):Ux&&(e instanceof ArrayBuffer||zx(e))?r?n(e instanceof ArrayBuffer?e:e.buffer):Uu(new Blob([e]),n):n(Dx[t]+(e||"")),Uu=(t,e)=>{let r=new FileReader;return r.onload=function(){let n=r.result.split(",")[1];e("b"+n)},r.readAsDataURL(t)},zu=Fx,Nx=mr(function(t,e){(function(r){e.encode=function(n){var i=new Uint8Array(n),a,s=i.length,o="";for(a=0;a<s;a+=3)o+=r[i[a]>>2],o+=r[(i[a]&3)<<4|i[a+1]>>4],o+=r[(i[a+1]&15)<<2|i[a+2]>>6],o+=r[i[a+2]&63];return s%3==2?o=o.substring(0,o.length-1)+"=":s%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(n){var i=n.length*.75,a=n.length,s,o=0,f,c,d,u;n[n.length-1]==="="&&(i--,n[n.length-2]==="="&&i--);var p=new ArrayBuffer(i),x=new Uint8Array(p);for(s=0;s<a;s+=4)f=r.indexOf(n[s]),c=r.indexOf(n[s+1]),d=r.indexOf(n[s+2]),u=r.indexOf(n[s+3]),x[o++]=f<<2|c>>4,x[o++]=(c&15)<<4|d>>2,x[o++]=(d&3)<<6|u&63;return p}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")}),{PACKET_TYPES_REVERSE:qc,ERROR_PACKET:Ox}=Ku,qx=typeof ArrayBuffer=="function",Lc;qx&&(Lc=Nx);var jx=(t,e)=>{if(typeof t!="string")return{type:"message",data:Fu(t,e)};let r=t.charAt(0);return r==="b"?{type:"message",data:Lx(t.substring(1),e)}:qc[r]?t.length>1?{type:qc[r],data:t.substring(1)}:{type:qc[r]}:Ox},Lx=(t,e)=>{if(Lc){let r=Lc.decode(t);return Fu(r,e)}else return{base64:!0,data:t}},Fu=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},Nu=jx,Ou=String.fromCharCode(30),Hx=(t,e)=>{let r=t.length,n=new Array(r),i=0;t.forEach((a,s)=>{zu(a,!1,o=>{n[s]=o,++i===r&&e(n.join(Ou))})})},Wx=(t,e)=>{let r=t.split(Ou),n=[];for(let i=0;i<r.length;i++){let a=Nu(r[i],e);if(n.push(a),a.type==="error")break}return n},$i={protocol:4,encodePacket:zu,encodePayload:Hx,decodePacket:Nu,decodePayload:Wx},f0=mr(function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function a(){this.off(n,a),i.apply(this,arguments)}return a.fn=i,this.on(n,a),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+n];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,o=0;o<a.length;o++)if(s=a[o],s===i||s.fn===i){a.splice(o,1);break}return a.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),a=this._callbacks["$"+n],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(a){a=a.slice(0);for(var s=0,o=a.length;s<o;++s)a[s].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}),qu=class extends f0{constructor(e){super();this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,r){let n=new Error(e);return n.type="TransportError",n.description=r,this.emit("error",n),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){if(this.readyState==="open")this.write(e);else throw new Error("Transport not open")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){let r=$i.decodePacket(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}},vs=qu,$x=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},Yx=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e},jc={encode:$x,decode:Yx},Lu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ws=64,ju={},Hu=0,ai=0,Wu;function Hc(t){var e="";do e=Lu[t%ws]+e,t=Math.floor(t/ws);while(t>0);return e}function Gx(t){var e=0;for(ai=0;ai<t.length;ai++)e=e*ws+ju[t.charAt(ai)];return e}function Wc(){var t=Hc(+new Date);return t!==Wu?(Hu=0,Wu=t):t+"."+Hc(Hu++)}for(;ai<ws;ai++)ju[Lu[ai]]=ai;Wc.encode=Hc;Wc.decode=Gx;var $u=Wc,Mr=Cn("engine.io-client:polling"),Yu=class extends vs{get name(){return"polling"}doOpen(){this.poll()}pause(e){let r=this;this.readyState="pausing";function n(){Mr("paused"),r.readyState="paused",e()}if(this.polling||!this.writable){let i=0;this.polling&&(Mr("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){Mr("pre-pause polling complete"),--i||n()})),this.writable||(Mr("we are currently writing - waiting to pause"),i++,this.once("drain",function(){Mr("pre-pause writing complete"),--i||n()}))}else n()}poll(){Mr("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){let r=this;Mr("polling got data %s",e);let n=function(i,a,s){if(r.readyState==="opening"&&i.type==="open"&&r.onOpen(),i.type==="close")return r.onClose(),!1;r.onPacket(i)};$i.decodePayload(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Mr('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=this;function r(){Mr("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Mr("transport open - closing"),r()):(Mr("transport not open - deferring close"),this.once("open",r))}write(e){this.writable=!1,$i.encodePayload(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{},r=this.opts.secure?"https":"http",n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=$u()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=jc.encode(e),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},Gu=Yu,Vx=(t,...e)=>e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{}),Vu={pick:Vx},{pick:Zx}=Vu,$c=Cn("engine.io-client:polling-xhr");function Zu(){}var Xx=function(){return new Oc({xdomain:!1}).responseType!=null}(),Xu=class extends Gu{constructor(e){super(e);if(typeof location!="undefined"){let n=location.protocol==="https:",i=location.port;i||(i=n?443:80),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}let r=e&&e.forceBase64;this.supportsBinary=Xx&&!r}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new _r(this.uri(),e)}doWrite(e,r){let n=this.request({method:"POST",data:e}),i=this;n.on("success",r),n.on("error",function(a){i.onError("xhr post error",a)})}doPoll(){$c("xhr poll");let e=this.request(),r=this;e.on("data",function(n){r.onData(n)}),e.on("error",function(n){r.onError("xhr poll error",n)}),this.pollXhr=e}},_r=class extends f0{constructor(e,r){super();this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){let e=Zx(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;let r=this.xhr=new Oc(e),n=this;try{$c("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),this.hasXDR()?(r.onload=function(){n.onLoad()},r.onerror=function(){n.onError(r.responseText)}):r.onreadystatechange=function(){r.readyState===4&&(r.status===200||r.status===1223?n.onLoad():setTimeout(function(){n.onError(typeof r.status=="number"?r.status:0)},0))},$c("xhr data %s",this.data),r.send(this.data)}catch(i){setTimeout(function(){n.onError(i)},0);return}typeof document!="undefined"&&(this.index=_r.requestsCount++,_r.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Zu:this.xhr.onreadystatechange=Zu,e)try{this.xhr.abort()}catch(r){}typeof document!="undefined"&&delete _r.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&this.onData(e)}hasXDR(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}};_r.requestsCount=0;_r.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Ju);else if(typeof addEventListener=="function"){let t="onpagehide"in Ea?"pagehide":"unload";addEventListener(t,Ju,!1)}}function Ju(){for(let t in _r.requests)_r.requests.hasOwnProperty(t)&&_r.requests[t].abort()}var Qu=Xu,Jx=_r;Qu.Request=Jx;var Qx=/\n/g,e3=/\\n/g,_s,el=class extends Gu{constructor(e){super(e);this.query=this.query||{},_s||(_s=Ea.___eio=Ea.___eio||[]),this.index=_s.length;let r=this;_s.push(function(n){r.onData(n)}),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){let e=this,r=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),r.async=!0,r.src=this.uri(),r.onerror=function(a){e.onError("jsonp poll error",a)};let n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(r,n):(document.head||document.body).appendChild(r),this.script=r,typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){let a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)}doWrite(e,r){let n=this,i;if(!this.form){let o=document.createElement("form"),f=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),f.name="d",o.appendChild(f),document.body.appendChild(o),this.form=o,this.area=f}this.form.action=this.uri();function a(){s(),r()}function s(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(o){n.onError("jsonp polling iframe removal error",o)}try{let o='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(o)}catch(o){i=document.createElement("iframe"),i.name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}s(),e=e.replace(e3,`\\
`),this.area.value=e.replace(Qx,"\\n");try{this.form.submit()}catch(o){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&a()}:this.iframe.onload=a}},t3=el,As=typeof As!="undefined"?As:typeof self!="undefined"?self:typeof window!="undefined"?window:{},Gr=[],Ar=[],r3=typeof Uint8Array!="undefined"?Uint8Array:Array,Yc=!1;function tl(){Yc=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)Gr[e]=t[e],Ar[t.charCodeAt(e)]=e;Ar["-".charCodeAt(0)]=62,Ar["_".charCodeAt(0)]=63}function n3(t){Yc||tl();var e,r,n,i,a,s,o=t.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=t[o-2]==="="?2:t[o-1]==="="?1:0,s=new r3(o*3/4-a),n=a>0?o-4:o;var f=0;for(e=0,r=0;e<n;e+=4,r+=3)i=Ar[t.charCodeAt(e)]<<18|Ar[t.charCodeAt(e+1)]<<12|Ar[t.charCodeAt(e+2)]<<6|Ar[t.charCodeAt(e+3)],s[f++]=i>>16&255,s[f++]=i>>8&255,s[f++]=i&255;return a===2?(i=Ar[t.charCodeAt(e)]<<2|Ar[t.charCodeAt(e+1)]>>4,s[f++]=i&255):a===1&&(i=Ar[t.charCodeAt(e)]<<10|Ar[t.charCodeAt(e+1)]<<4|Ar[t.charCodeAt(e+2)]>>2,s[f++]=i>>8&255,s[f++]=i&255),s}function i3(t){return Gr[t>>18&63]+Gr[t>>12&63]+Gr[t>>6&63]+Gr[t&63]}function a3(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(i3(n));return i.join("")}function rl(t){Yc||tl();for(var e,r=t.length,n=r%3,i="",a=[],s=16383,o=0,f=r-n;o<f;o+=s)a.push(a3(t,o,o+s>f?f:o+s));return n===1?(e=t[r-1],i+=Gr[e>>2],i+=Gr[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=Gr[e>>10],i+=Gr[e>>4&63],i+=Gr[e<<2&63],i+="="),a.push(i),a.join("")}function ks(t,e,r,n,i){var a,s,o=i*8-n-1,f=(1<<o)-1,c=f>>1,d=-7,u=r?i-1:0,p=r?-1:1,x=t[e+u];for(u+=p,a=x&(1<<-d)-1,x>>=-d,d+=o;d>0;a=a*256+t[e+u],u+=p,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=n;d>0;s=s*256+t[e+u],u+=p,d-=8);if(a===0)a=1-c;else{if(a===f)return s?NaN:(x?-1:1)*Infinity;s=s+Math.pow(2,n),a=a-c}return(x?-1:1)*s*Math.pow(2,a-n)}function nl(t,e,r,n,i,a){var s,o,f,c=a*8-i-1,d=(1<<c)-1,u=d>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:a-1,S=n?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(o=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+u>=1?e+=p/f:e+=p*Math.pow(2,1-u),e*f>=2&&(s++,f/=2),s+u>=d?(o=0,s=d):s+u>=1?(o=(e*f-1)*Math.pow(2,i),s=s+u):(o=e*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;t[r+x]=o&255,x+=S,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;t[r+x]=s&255,x+=S,s/=256,c-=8);t[r+x-S]|=E*128}var s3={}.toString,il=Array.isArray||function(t){return s3.call(t)=="[object Array]"};var o3=50;_e.TYPED_ARRAY_SUPPORT=As.TYPED_ARRAY_SUPPORT!==void 0?As.TYPED_ARRAY_SUPPORT:!0;function Gc(){return _e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Pn(t,e){if(Gc()<e)throw new RangeError("Invalid typed array length");return _e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=_e.prototype):(t===null&&(t=new _e(e)),t.length=e),t}function _e(t,e,r){if(!_e.TYPED_ARRAY_SUPPORT&&!(this instanceof _e))return new _e(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return Vc(this,t)}return al(this,t,e,r)}_e.poolSize=8192;_e._augment=function(t){return t.__proto__=_e.prototype,t};function al(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer?f3(t,e,r,n):typeof e=="string"?c3(t,e,r):d3(t,e)}_e.from=function(t,e,r){return al(null,t,e,r)};_e.TYPED_ARRAY_SUPPORT&&(_e.prototype.__proto__=Uint8Array.prototype,_e.__proto__=Uint8Array);function sl(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u3(t,e,r,n){return sl(e),e<=0?Pn(t,e):r!==void 0?typeof n=="string"?Pn(t,e).fill(r,n):Pn(t,e).fill(r):Pn(t,e)}_e.alloc=function(t,e,r){return u3(null,t,e,r)};function Vc(t,e){if(sl(e),t=Pn(t,e<0?0:Zc(e)|0),!_e.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}_e.allocUnsafe=function(t){return Vc(null,t)};_e.allocUnsafeSlow=function(t){return Vc(null,t)};function c3(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!_e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=ol(e,r)|0;t=Pn(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function Xc(t,e){var r=e.length<0?0:Zc(e.length)|0;t=Pn(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function f3(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),_e.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=_e.prototype):t=Xc(t,e),t}function d3(t,e){if(Vr(e)){var r=Zc(e.length)|0;return t=Pn(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer!="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||l3(e.length)?Pn(t,0):Xc(t,e);if(e.type==="Buffer"&&il(e.data))return Xc(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Zc(t){if(t>=Gc())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Gc().toString(16)+" bytes");return t|0}_e.isBuffer=h3;function Vr(t){return!!(t!=null&&t._isBuffer)}_e.compare=function(e,r){if(!Vr(e)||!Vr(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,a=0,s=Math.min(n,i);a<s;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0};_e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};_e.concat=function(e,r){if(!il(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return _e.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=_e.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){var s=e[n];if(!Vr(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,a),a+=s.length}return i};function ol(t,e){if(Vr(t))return t.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Ss(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return cl(t).length;default:if(n)return Ss(t).length;e=(""+e).toLowerCase(),n=!0}}_e.byteLength=ol;function g3(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return y3(this,e,r);case"utf8":case"utf-8":return fl(this,e,r);case"ascii":return p3(this,e,r);case"latin1":case"binary":return x3(this,e,r);case"base64":return b3(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m3(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}_e.prototype._isBuffer=!0;function Yi(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}_e.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Yi(this,r,r+1);return this};_e.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Yi(this,r,r+3),Yi(this,r+1,r+2);return this};_e.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Yi(this,r,r+7),Yi(this,r+1,r+6),Yi(this,r+2,r+5),Yi(this,r+3,r+4);return this};_e.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?fl(this,0,e):g3.apply(this,arguments)};_e.prototype.equals=function(e){if(!Vr(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:_e.compare(this,e)===0};_e.prototype.inspect=function(){var e="",r=o3;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};_e.prototype.compare=function(e,r,n,i,a){if(!Vr(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;for(var s=a-i,o=n-r,f=Math.min(s,o),c=this.slice(i,a),d=e.slice(r,n),u=0;u<f;++u)if(c[u]!==d[u]){s=c[u],o=d[u];break}return s<o?-1:o<s?1:0};function ul(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=_e.from(e,n)),Vr(e))return e.length===0?-1:dl(t,e,r,n,i);if(typeof e=="number")return e=e&255,_e.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):dl(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function dl(t,e,r,n,i){var a=1,s=t.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,o/=2,r/=2}function f(x,S){return a===1?x[S]:x.readUInt16BE(S*a)}var c;if(i){var d=-1;for(c=r;c<s;c++)if(f(t,c)===f(e,d===-1?0:c-d)){if(d===-1&&(d=c),c-d+1===o)return d*a}else d!==-1&&(c-=c-d),d=-1}else for(r+o>s&&(r=s-o),c=r;c>=0;c--){for(var u=!0,p=0;p<o;p++)if(f(t,c+p)!==f(e,p)){u=!1;break}if(u)return c}return-1}_e.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};_e.prototype.indexOf=function(e,r,n){return ul(this,e,r,n,!0)};_e.prototype.lastIndexOf=function(e,r,n){return ul(this,e,r,n,!1)};function v3(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(e.substr(s*2,2),16);if(isNaN(o))return s;t[r+s]=o}return s}function w3(t,e,r,n){return Es(Ss(e,t.length-r),t,r,n)}function ll(t,e,r,n){return Es(_3(e),t,r,n)}function A3(t,e,r,n){return ll(t,e,r,n)}function k3(t,e,r,n){return Es(cl(e),t,r,n)}function E3(t,e,r,n){return Es(S3(e,t.length-r),t,r,n)}_e.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-r;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return v3(this,e,r,n);case"utf8":case"utf-8":return w3(this,e,r,n);case"ascii":return ll(this,e,r,n);case"latin1":case"binary":return A3(this,e,r,n);case"base64":return k3(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E3(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};_e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b3(t,e,r){return e===0&&r===t.length?rl(t):rl(t.slice(e,r))}function fl(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a=t[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=r){var f,c,d,u;switch(o){case 1:a<128&&(s=a);break;case 2:f=t[i+1],(f&192)==128&&(u=(a&31)<<6|f&63,u>127&&(s=u));break;case 3:f=t[i+1],c=t[i+2],(f&192)==128&&(c&192)==128&&(u=(a&15)<<12|(f&63)<<6|c&63,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:f=t[i+1],c=t[i+2],d=t[i+3],(f&192)==128&&(c&192)==128&&(d&192)==128&&(u=(a&15)<<18|(f&63)<<12|(c&63)<<6|d&63,u>65535&&u<1114112&&(s=u))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=o}return C3(n)}var hl=4096;function C3(t){var e=t.length;if(e<=hl)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=hl));return r}function p3(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function x3(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function y3(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=P3(t[a]);return i}function m3(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}_e.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(_e.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=_e.prototype;else{var a=r-e;i=new _e(a,void 0);for(var s=0;s<a;++s)i[s]=this[s+e]}return i};function Nt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}_e.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||Nt(e,r,this.length);for(var i=this[e],a=1,s=0;++s<r&&(a*=256);)i+=this[e+s]*a;return i};_e.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||Nt(e,r,this.length);for(var i=this[e+--r],a=1;r>0&&(a*=256);)i+=this[e+--r]*a;return i};_e.prototype.readUInt8=function(e,r){return r||Nt(e,1,this.length),this[e]};_e.prototype.readUInt16LE=function(e,r){return r||Nt(e,2,this.length),this[e]|this[e+1]<<8};_e.prototype.readUInt16BE=function(e,r){return r||Nt(e,2,this.length),this[e]<<8|this[e+1]};_e.prototype.readUInt32LE=function(e,r){return r||Nt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};_e.prototype.readUInt32BE=function(e,r){return r||Nt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};_e.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||Nt(e,r,this.length);for(var i=this[e],a=1,s=0;++s<r&&(a*=256);)i+=this[e+s]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};_e.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||Nt(e,r,this.length);for(var i=r,a=1,s=this[e+--i];i>0&&(a*=256);)s+=this[e+--i]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};_e.prototype.readInt8=function(e,r){return r||Nt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};_e.prototype.readInt16LE=function(e,r){r||Nt(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};_e.prototype.readInt16BE=function(e,r){r||Nt(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};_e.prototype.readInt32LE=function(e,r){return r||Nt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};_e.prototype.readInt32BE=function(e,r){return r||Nt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};_e.prototype.readFloatLE=function(e,r){return r||Nt(e,4,this.length),ks(this,e,!0,23,4)};_e.prototype.readFloatBE=function(e,r){return r||Nt(e,4,this.length),ks(this,e,!1,23,4)};_e.prototype.readDoubleLE=function(e,r){return r||Nt(e,8,this.length),ks(this,e,!0,52,8)};_e.prototype.readDoubleBE=function(e,r){return r||Nt(e,8,this.length),ks(this,e,!1,52,8)};function hr(t,e,r,n,i,a){if(!Vr(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}_e.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var a=Math.pow(2,8*n)-1;hr(this,e,r,n,a,0)}var s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};_e.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var a=Math.pow(2,8*n)-1;hr(this,e,r,n,a,0)}var s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};_e.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,1,255,0),_e.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};function Cs(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}_e.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,2,65535,0),_e.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):Cs(this,e,r,!0),r+2};_e.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,2,65535,0),_e.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):Cs(this,e,r,!1),r+2};function Ps(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>(n?i:3-i)*8&255}_e.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,4,4294967295,0),_e.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):Ps(this,e,r,!0),r+4};_e.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,4,4294967295,0),_e.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):Ps(this,e,r,!1),r+4};_e.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var a=Math.pow(2,8*n-1);hr(this,e,r,n,a-1,-a)}var s=0,o=1,f=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&f===0&&this[r+s-1]!==0&&(f=1),this[r+s]=(e/o>>0)-f&255;return r+n};_e.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var a=Math.pow(2,8*n-1);hr(this,e,r,n,a-1,-a)}var s=n-1,o=1,f=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&f===0&&this[r+s+1]!==0&&(f=1),this[r+s]=(e/o>>0)-f&255;return r+n};_e.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,1,127,-128),_e.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};_e.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,2,32767,-32768),_e.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):Cs(this,e,r,!0),r+2};_e.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,2,32767,-32768),_e.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):Cs(this,e,r,!1),r+2};_e.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,4,2147483647,-2147483648),_e.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):Ps(this,e,r,!0),r+4};_e.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||hr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),_e.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):Ps(this,e,r,!1),r+4};function bl(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function pl(t,e,r,n,i){return i||bl(t,e,r,4),nl(t,e,r,n,23,4),r+4}_e.prototype.writeFloatLE=function(e,r,n){return pl(this,e,r,!0,n)};_e.prototype.writeFloatBE=function(e,r,n){return pl(this,e,r,!1,n)};function xl(t,e,r,n,i){return i||bl(t,e,r,8),nl(t,e,r,n,52,8),r+8}_e.prototype.writeDoubleLE=function(e,r,n){return xl(this,e,r,!0,n)};_e.prototype.writeDoubleBE=function(e,r,n){return xl(this,e,r,!1,n)};_e.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var a=i-n,s;if(this===e&&n<r&&r<i)for(s=a-1;s>=0;--s)e[s+r]=this[s+n];else if(a<1e3||!_e.TYPED_ARRAY_SUPPORT)for(s=0;s<a;++s)e[s+r]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),r);return a};_e.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var a=e.charCodeAt(0);a<256&&(e=a)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!_e.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var o=Vr(e)?e:Ss(new _e(e,i).toString()),f=o.length;for(s=0;s<n-r;++s)this[s+r]=o[s%f]}return this};var R3=/[^+\/0-9A-Za-z-_]/g;function T3(t){if(t=M3(t).replace(R3,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function M3(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function P3(t){return t<16?"0"+t.toString(16):t.toString(16)}function Ss(t,e){e=e||Infinity;for(var r,n=t.length,i=null,a=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function _3(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function S3(t,e){for(var r,n,i,a=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function cl(t){return n3(T3(t))}function Es(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function l3(t){return t!==t}function h3(t){return t!=null&&(!!t._isBuffer||yl(t)||B3(t))}function yl(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function B3(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&yl(t.slice(0,0))}var I3={WebSocket:Ea.WebSocket||Ea.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"},{pick:D3}=Vu,{WebSocket:d0,usingBrowserWebSocket:Jc,defaultBinaryType:K3}=I3,U3=Cn("engine.io-client:websocket"),ml=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Rs=class extends vs{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),r=this.opts.protocols,n=ml?{}:D3(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Jc&&!ml?r?new d0(e,r):new d0(e):new d0(e,r,n)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||K3,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){let r=this;this.writable=!1;let n=e.length,i=0,a=n;for(;i<a;i++)(function(o){$i.encodePacket(o,r.supportsBinary,function(f){let c={};Jc||(o.options&&(c.compress=o.options.compress),r.opts.perMessageDeflate&&(typeof f=="string"?_e.byteLength(f):f.length)<r.opts.perMessageDeflate.threshold&&(c.compress=!1));try{Jc?r.ws.send(f):r.ws.send(f,c)}catch(d){U3("websocket closed before onclose event")}--n||s()})})(e[i]);function s(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}}onClose(){vs.prototype.onClose.call(this)}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{},r=this.opts.secure?"wss":"ws",n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=$u()),this.supportsBinary||(e.b64=1),e=jc.encode(e),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}check(){return!!d0&&!("__initialize"in d0&&this.name===Rs.prototype.name)}},z3=Rs,N3=F3,O3=z3;function F3(t){let e,r=!1,n=!1,i=t.jsonp!==!1;if(typeof location!="undefined"){let a=location.protocol==="https:",s=location.port;s||(s=a?443:80),r=t.hostname!==location.hostname||s!==t.port,n=t.secure!==a}if(t.xdomain=r,t.xscheme=n,e=new Oc(t),"open"in e&&!t.forceJSONP)return new Qu(t);if(!i)throw new Error("JSONP disabled");return new t3(t)}var gl={polling:N3,websocket:O3},Ut=Cn("engine.io-client:socket"),Zr=class extends f0{constructor(e,r={}){super();e&&typeof e=="object"&&(r=e,e=null),e?(e=Fc(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Fc(r.host).host),this.secure=r.secure!=null?r.secure:typeof location!="undefined"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=r.port||(typeof location!="undefined"&&location.port?location.port:this.secure?443:80),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=jc.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){Ut('creating transport "%s"',e);let r=q3(this.opts.query);r.EIO=$i.protocol,r.transport=e,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Ut("options: %j",n),new gl[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Zr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){let r=this;setTimeout(function(){r.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(r){Ut("error while creating transport: %s",r),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){Ut("setting transport %s",e.name);let r=this;this.transport&&(Ut("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){r.onDrain()}).on("packet",function(n){r.onPacket(n)}).on("error",function(n){r.onError(n)}).on("close",function(){r.onClose("transport close")})}probe(e){Ut('probing transport "%s"',e);let r=this.createTransport(e,{probe:1}),n=!1,i=this;Zr.priorWebsocketSuccess=!1;function a(){if(i.onlyBinaryUpgrades){let p=!this.supportsBinary&&i.transport.supportsBinary;n=n||p}n||(Ut('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(p){if(!n)if(p.type==="pong"&&p.data==="probe"){if(Ut('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",r),!r)return;Zr.priorWebsocketSuccess=r.name==="websocket",Ut('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||i.readyState!=="closed"&&(Ut("changing transport and sending upgrade packet"),u(),i.setTransport(r),r.send([{type:"upgrade"}]),i.emit("upgrade",r),r=null,i.upgrading=!1,i.flush())})}else{Ut('probe transport "%s" failed',e);let x=new Error("probe error");x.transport=r.name,i.emit("upgradeError",x)}}))}function s(){n||(n=!0,u(),r.close(),r=null)}function o(p){let x=new Error("probe error: "+p);x.transport=r.name,s(),Ut('probe transport "%s" failed because of error: %s',e,p),i.emit("upgradeError",x)}function f(){o("transport closed")}function c(){o("socket closed")}function d(p){r&&p.name!==r.name&&(Ut('"%s" works - aborting "%s"',p.name,r.name),s())}function u(){r.removeListener("open",a),r.removeListener("error",o),r.removeListener("close",f),i.removeListener("close",c),i.removeListener("upgrading",d)}r.once("open",a),r.once("error",o),r.once("close",f),this.once("close",c),this.once("upgrading",d),r.open()}onOpen(){if(Ut("socket open"),this.readyState="open",Zr.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){Ut("starting upgrade probes");let e=0,r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ut('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":let r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Ut('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ut("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let a={type:e,data:r,options:n};this.emit("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){let e=this;(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():r()}):this.upgrading?i():r());function r(){e.onClose("forced close"),Ut("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),r()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this}onError(e){Ut("socket error %j",e),Zr.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){Ut('socket close with reason: "%s"',e);let n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,r),n.writeBuffer=[],n.prevBufferLen=0}}filterUpgrades(e){let r=[],n=0,i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};Zr.priorWebsocketSuccess=!1;Zr.protocol=$i.protocol;function q3(t){let e={};for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Qc=Zr,Ca=(t,e)=>new Qc(t,e),L3=Qc,j3=Qc.protocol,H3=vs,W3=gl,$3=$i;Ca.Socket=L3;Ca.protocol=j3;Ca.Transport=H3;Ca.transports=W3;Ca.parser=$3;var ef=mr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;let r=typeof ArrayBuffer=="function",n=c=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(c):c.buffer instanceof ArrayBuffer,i=Object.prototype.toString,a=typeof Blob=="function"||typeof Blob!="undefined"&&i.call(Blob)==="[object BlobConstructor]",s=typeof File=="function"||typeof File!="undefined"&&i.call(File)==="[object FileConstructor]";function o(c){return r&&(c instanceof ArrayBuffer||n(c))||a&&c instanceof Blob||s&&c instanceof File}e.isBinary=o;function f(c,d){if(!c||typeof c!="object")return!1;if(Array.isArray(c)){for(let u=0,p=c.length;u<p;u++)if(f(c[u]))return!0;return!1}if(o(c))return!0;if(c.toJSON&&typeof c.toJSON=="function"&&arguments.length===1)return f(c.toJSON(),!0);for(let u in c)if(Object.prototype.hasOwnProperty.call(c,u)&&f(c[u]))return!0;return!1}e.hasBinary=f}),vl=mr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0;function r(s){let o=[],f=s.data,c=s;return c.data=n(f,o),c.attachments=o.length,{packet:c,buffers:o}}e.deconstructPacket=r;function n(s,o){if(!s)return s;if(ef.isBinary(s)){let f={_placeholder:!0,num:o.length};return o.push(s),f}else if(Array.isArray(s)){let f=new Array(s.length);for(let c=0;c<s.length;c++)f[c]=n(s[c],o);return f}else if(typeof s=="object"&&!(s instanceof Date)){let f={};for(let c in s)s.hasOwnProperty(c)&&(f[c]=n(s[c],o));return f}return s}function i(s,o){return s.data=a(s.data,o),s.attachments=void 0,s}e.reconstructPacket=i;function a(s,o){if(!s)return s;if(s&&s._placeholder)return o[s.num];if(Array.isArray(s))for(let f=0;f<s.length;f++)s[f]=a(s[f],o);else if(typeof s=="object")for(let f in s)s.hasOwnProperty(f)&&(s[f]=a(s[f],o));return s}}),br=mr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;let r=Cn("socket.io-parser");e.protocol=5;var n;(function(f){f[f.CONNECT=0]="CONNECT",f[f.DISCONNECT=1]="DISCONNECT",f[f.EVENT=2]="EVENT",f[f.ACK=3]="ACK",f[f.CONNECT_ERROR=4]="CONNECT_ERROR",f[f.BINARY_EVENT=5]="BINARY_EVENT",f[f.BINARY_ACK=6]="BINARY_ACK"})(n=e.PacketType||(e.PacketType={}));class i{encode(c){return r("encoding packet %j",c),(c.type===n.EVENT||c.type===n.ACK)&&ef.hasBinary(c)?(c.type=c.type===n.EVENT?n.BINARY_EVENT:n.BINARY_ACK,this.encodeAsBinary(c)):[this.encodeAsString(c)]}encodeAsString(c){let d=""+c.type;return(c.type===n.BINARY_EVENT||c.type===n.BINARY_ACK)&&(d+=c.attachments+"-"),c.nsp&&c.nsp!=="/"&&(d+=c.nsp+","),c.id!=null&&(d+=c.id),c.data!=null&&(d+=JSON.stringify(c.data)),r("encoded %j as %s",c,d),d}encodeAsBinary(c){let d=vl.deconstructPacket(c),u=this.encodeAsString(d.packet),p=d.buffers;return p.unshift(u),p}}e.Encoder=i;class a extends f0{constructor(){super()}add(c){let d;if(typeof c=="string")d=this.decodeString(c),d.type===n.BINARY_EVENT||d.type===n.BINARY_ACK?(this.reconstructor=new o(d),d.attachments===0&&super.emit("decoded",d)):super.emit("decoded",d);else if(ef.isBinary(c)||c.base64)if(this.reconstructor)d=this.reconstructor.takeBinaryData(c),d&&(this.reconstructor=null,super.emit("decoded",d));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+c)}decodeString(c){let d=0,u={type:Number(c.charAt(0))};if(n[u.type]===void 0)throw new Error("unknown packet type "+u.type);if(u.type===n.BINARY_EVENT||u.type===n.BINARY_ACK){let x=d+1;for(;c.charAt(++d)!=="-"&&d!=c.length;);let S=c.substring(x,d);if(S!=Number(S)||c.charAt(d)!=="-")throw new Error("Illegal attachments");u.attachments=Number(S)}if(c.charAt(d+1)==="/"){let x=d+1;for(;++d&&!(c.charAt(d)===","||d===c.length););u.nsp=c.substring(x,d)}else u.nsp="/";let p=c.charAt(d+1);if(p!==""&&Number(p)==p){let x=d+1;for(;++d;){let S=c.charAt(d);if(S==null||Number(S)!=S){--d;break}if(d===c.length)break}u.id=Number(c.substring(x,d+1))}if(c.charAt(++d)){let x=s(c.substr(d));if(a.isPayloadValid(u.type,x))u.data=x;else throw new Error("invalid payload")}return r("decoded %s as %j",c,u),u}static isPayloadValid(c,d){switch(c){case n.CONNECT:return typeof d=="object";case n.DISCONNECT:return d===void 0;case n.CONNECT_ERROR:return typeof d=="string"||typeof d=="object";case n.EVENT:case n.BINARY_EVENT:return Array.isArray(d)&&d.length>0;case n.ACK:case n.BINARY_ACK:return Array.isArray(d)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}e.Decoder=a;function s(f){try{return JSON.parse(f)}catch(c){return!1}}class o{constructor(c){this.packet=c,this.buffers=[],this.reconPack=c}takeBinaryData(c){if(this.buffers.push(c),this.buffers.length===this.reconPack.attachments){let d=vl.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),d}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}}),Tr=mr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0;function r(n,i,a){return n.on(i,a),function(){n.off(i,a)}}e.on=r}),wl=mr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;class r extends f0{on(i,a){return super.on(i,a),this}once(i,a){return super.once(i,a),this}emit(i,...a){return super.emit(i,...a),this}emitReserved(i,...a){return super.emit(i,...a),this}listeners(i){return super.listeners(i)}}e.StrictEventEmitter=r}),_l=mr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;let r=Cn("socket.io-client:socket"),n=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class i extends wl.StrictEventEmitter{constructor(s,o,f){super();this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=o,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},f&&f.auth&&(this.auth=f.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;let s=this.io;this.subs=[Tr.on(s,"open",this.onopen.bind(this)),Tr.on(s,"packet",this.onpacket.bind(this)),Tr.on(s,"error",this.onerror.bind(this)),Tr.on(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...o){if(n.hasOwnProperty(s))throw new Error('"'+s+'" is a reserved event name');o.unshift(s);let f={type:br.PacketType.EVENT,data:o};f.options={},f.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"&&(r("emitting packet with ack id %d",this.ids),this.acks[this.ids]=o.pop(),f.id=this.ids++);let c=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!c||!this.connected)?r("discard packet as the transport is not currently writable"):this.connected?this.packet(f):this.sendBuffer.push(f),this.flags={},this}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){r("transport is open - connecting"),typeof this.auth=="function"?this.auth(s=>{this.packet({type:br.PacketType.CONNECT,data:s})}):this.packet({type:br.PacketType.CONNECT,data:this.auth})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s){r("close (%s)",s),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",s)}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case br.PacketType.CONNECT:if(s.data&&s.data.sid){let c=s.data.sid;this.onconnect(c)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case br.PacketType.EVENT:this.onevent(s);break;case br.PacketType.BINARY_EVENT:this.onevent(s);break;case br.PacketType.ACK:this.onack(s);break;case br.PacketType.BINARY_ACK:this.onack(s);break;case br.PacketType.DISCONNECT:this.ondisconnect();break;case br.PacketType.CONNECT_ERROR:let f=new Error(s.data.message);f.data=s.data.data,this.emitReserved("connect_error",f);break}}onevent(s){let o=s.data||[];r("emitting event %j",o),s.id!=null&&(r("attaching ack callback to event"),o.push(this.ack(s.id))),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){let o=this._anyListeners.slice();for(let f of o)f.apply(this,s)}super.emit.apply(this,s)}ack(s){let o=this,f=!1;return function(...c){f||(f=!0,r("sending ack %j",c),o.packet({type:br.PacketType.ACK,id:s,data:c}))}}onack(s){let o=this.acks[s.id];typeof o=="function"?(r("calling ack %s with %j",s.id,s.data),o.apply(this,s.data),delete this.acks[s.id]):r("bad ack %s",s.id)}onconnect(s){r("socket connected with id %s",s),this.id=s,this.connected=!0,this.disconnected=!1,this.emitReserved("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>this.packet(s)),this.sendBuffer=[]}ondisconnect(){r("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(r("performing disconnect (%s)",this.nsp),this.packet({type:br.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){let o=this._anyListeners;for(let f=0;f<o.length;f++)if(s===o[f])return o.splice(f,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}e.Socket=i}),Y3=Pa;function Pa(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Pa.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Pa.prototype.reset=function(){this.attempts=0};Pa.prototype.setMin=function(t){this.ms=t};Pa.prototype.setMax=function(t){this.max=t};Pa.prototype.setJitter=function(t){this.jitter=t};var tf=mr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;let r=Cn("socket.io-client:manager");class n extends wl.StrictEventEmitter{constructor(a,s){super();this.nsps={},this.subs=[],a&&typeof a=="object"&&(s=a,a=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||Infinity),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor(s.randomizationFactor||.5),this.backoff=new Y3({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=a;let o=s.parser||br;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection}reconnectionAttempts(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}reconnectionDelay(a){var s;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(s=this.backoff)===null||s===void 0||s.setMin(a),this)}randomizationFactor(a){var s;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(s=this.backoff)===null||s===void 0||s.setJitter(a),this)}reconnectionDelayMax(a){var s;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(s=this.backoff)===null||s===void 0||s.setMax(a),this)}timeout(a){return arguments.length?(this._timeout=a,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(a){if(r("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;r("opening %s",this.uri),this.engine=Ca(this.uri,this.opts);let s=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;let f=Tr.on(s,"open",function(){o.onopen(),a&&a()}),c=Tr.on(s,"error",d=>{r("error"),o.cleanup(),o._readyState="closed",this.emitReserved("error",d),a?a(d):o.maybeReconnectOnOpen()});if(this._timeout!==!1){let d=this._timeout;r("connect attempt will timeout after %d",d),d===0&&f();let u=setTimeout(()=>{r("connect attempt timed out after %d",d),f(),s.close(),s.emit("error",new Error("timeout"))},d);this.opts.autoUnref&&u.unref(),this.subs.push(function(){clearTimeout(u)})}return this.subs.push(f),this.subs.push(c),this}connect(a){return this.open(a)}onopen(){r("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let a=this.engine;this.subs.push(Tr.on(a,"ping",this.onping.bind(this)),Tr.on(a,"data",this.ondata.bind(this)),Tr.on(a,"error",this.onerror.bind(this)),Tr.on(a,"close",this.onclose.bind(this)),Tr.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(a){this.decoder.add(a)}ondecoded(a){this.emitReserved("packet",a)}onerror(a){r("error",a),this.emitReserved("error",a)}socket(a,s){let o=this.nsps[a];return o||(o=new _l.Socket(this,a,s),this.nsps[a]=o),o}_destroy(a){let s=Object.keys(this.nsps);for(let o of s)if(this.nsps[o].active){r("socket %s is still active, skipping close",o);return}this._close()}_packet(a){r("writing packet %j",a);let s=this.encoder.encode(a);for(let o=0;o<s.length;o++)this.engine.write(s[o],a.options)}cleanup(){r("cleanup"),this.subs.forEach(a=>a()),this.subs.length=0,this.decoder.destroy()}_close(){r("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(a){r("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let a=this;if(this.backoff.attempts>=this._reconnectionAttempts)r("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let s=this.backoff.duration();r("will wait %dms before reconnect attempt",s),this._reconnecting=!0;let o=setTimeout(()=>{a.skipReconnect||(r("attempting reconnect"),this.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(f=>{f?(r("reconnect attempt error"),a._reconnecting=!1,a.reconnect(),this.emitReserved("reconnect_error",f)):(r("reconnect success"),a.onreconnect())}))},s);this.opts.autoUnref&&o.unref(),this.subs.push(function(){clearTimeout(o)})}}onreconnect(){let a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}e.Manager=n}),G3=mr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.io=e.Manager=e.protocol=void 0,Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return _l.Socket}});let r=Cn("socket.io-client");t.exports=e=i;let n=e.managers={};function i(s,o){typeof s=="object"&&(o=s,s=void 0),o=o||{};let f=Tx.url(s,o.path),c=f.source,d=f.id,u=f.path,p=n[d]&&u in n[d].nsps,x=o.forceNew||o["force new connection"]||o.multiplex===!1||p,S;return x?(r("ignoring socket cache for %s",c),S=new tf.Manager(c,o)):(n[d]||(r("new io instance for %s",c),n[d]=new tf.Manager(c,o)),S=n[d]),f.query&&!o.query&&(o.query=f.queryKey),S.socket(f.path,o)}e.io=i,Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return br.protocol}}),e.connect=i;var a=tf;Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return a.Manager}})}),rf=Wp(G3);rf.Manager;var ut=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:t=>`Symbol(${t})`;function nf(){}var Al=Number.isNaN||function(t){return t!==t},kl=nf;function kr(t){return typeof t=="object"&&t!==null||typeof t=="function"}function af(t){return t.slice()}function V3(t,e,r,n,i){new Uint8Array(t).set(new Uint8Array(r,n,i),e)}function Sl(t){return!(Z3(t)===!1||t===Infinity)}function Z3(t){return!(typeof t!="number"||Al(t)||t<0)}function El(t,e,r){if(typeof t!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,r)}function si(t,e,r,n){let i=t[e];if(i!==void 0){if(typeof i!="function")throw new TypeError(`${i} is not a method`);switch(r){case 0:return()=>sf(i,t,n);case 1:return a=>{let s=[a].concat(n);return sf(i,t,s)}}}return()=>Bt(void 0)}function Ms(t,e,r){let n=t[e];if(n!==void 0)return El(n,t,r)}function sf(t,e,r){try{return Bt(El(t,e,r))}catch(n){return Ne(n)}}function Ts(t){return t}function Bs(t){return!1}function Ra(t){if(t=Number(t),Al(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Is(t){if(t===void 0)return()=>1;if(typeof t!="function")throw new TypeError("size property of a queuing strategy must be a function");return e=>t(e)}var of=Promise,X3=Promise.prototype.then,J3=Promise.resolve.bind(of),Q3=Promise.reject.bind(of);function gr(t){return new of(t)}function Bt(t){return J3(t)}function Ne(t){return Q3(t)}function Mn(t,e,r){return X3.call(t,e,r)}function Br(t,e,r){Mn(Mn(t,e,r),void 0,kl)}function cf(t,e){Br(t,e)}function Cl(t,e){Br(t,void 0,e)}function Gi(t,e,r){return Mn(t,e,r)}function Ma(t){Mn(t,void 0,kl)}var Pl=16384,Ir=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let r=this._back,n=r;r._elements.length===Pl-1&&(n={_elements:[],_next:void 0}),r._elements.push(e),n!==r&&(this._back=n,r._next=n),++this._size}shift(){let e=this._front,r=e,n=this._cursor,i=n+1,a=e._elements,s=a[n];return i===Pl&&(r=e._next,i=0),--this._size,this._cursor=i,e!==r&&(this._front=r),a[n]=void 0,s}forEach(e){let r=this._cursor,n=this._front,i=n._elements;for(;(r!==i.length||n._next!==void 0)&&!(r===i.length&&(n=n._next,i=n._elements,r=0,i.length===0));)e(i[r]),++r}peek(){let e=this._front,r=this._cursor;return e._elements[r]}};function Dr(t,e,r){let n=null;r===!0&&(n=Object.prototype);let i=Object.create(n);return i.value=t,i.done=e,i}function Ml(t,e){t._forAuthorCode=!0,t._ownerReadableStream=e,e._reader=t,e._state==="readable"?ff(t):e._state==="closed"?e6(t):Rl(t,e._storedError)}function df(t,e){let r=t._ownerReadableStream;return Vi(r,e)}function Ta(t){t._ownerReadableStream._state==="readable"?uf(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):t6(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function Ba(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function ff(t){t._closedPromise=gr((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r})}function Rl(t,e){ff(t),uf(t,e)}function e6(t){ff(t),Tl(t)}function uf(t,e){Ma(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}function t6(t,e){Rl(t,e)}function Tl(t){t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}var lf=Rn("[[CancelSteps]]"),hf=Rn("[[PullSteps]]");function Ds(t,e=!1){let r=new Bl(t);return r._forAuthorCode=e,r}function Il(t){return gr((r,n)=>{let i={_resolve:r,_reject:n};t._reader._readRequests.push(i)})}function bf(t,e,r){let n=t._reader;n._readRequests.shift()._resolve(Dr(e,r,n._forAuthorCode))}function Ks(t){return t._reader._readRequests.length}function Dl(t){let e=t._reader;return!(e===void 0||!Zi(e))}var Bl=class{constructor(e){if(Xr(e)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(oi(e)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ml(this,e),this._readRequests=new Ir}get closed(){return Zi(this)?this._closedPromise:Ne(zs("closed"))}cancel(e){return Zi(this)?this._ownerReadableStream===void 0?Ne(Ba("cancel")):df(this,e):Ne(zs("cancel"))}read(){return Zi(this)?this._ownerReadableStream===void 0?Ne(Ba("read from")):Us(this):Ne(zs("read"))}releaseLock(){if(!Zi(this))throw zs("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Ta(this)}}};function Zi(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_readRequests"))}function Us(t){let e=t._ownerReadableStream;return e._disturbed=!0,e._state==="closed"?Bt(Dr(void 0,!0,t._forAuthorCode)):e._state==="errored"?Ne(e._storedError):e._readableStreamController[hf]()}function zs(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}var Fs;typeof Rn.asyncIterator=="symbol"&&(Fs={[Rn.asyncIterator](){return this}},Object.defineProperty(Fs,Rn.asyncIterator,{enumerable:!1}));var Ns={next(){if(Kl(this)===!1)return Ne(Ul("next"));let t=this._asyncIteratorReader;return t._ownerReadableStream===void 0?Ne(Ba("iterate")):Gi(Us(t),e=>{let r=e.done;r&&Ta(t);let n=e.value;return Dr(n,r,!0)})},return(t){if(Kl(this)===!1)return Ne(Ul("next"));let e=this._asyncIteratorReader;if(e._ownerReadableStream===void 0)return Ne(Ba("finish iterating"));if(e._readRequests.length>0)return Ne(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(this._preventCancel===!1){let r=df(e,t);return Ta(e),Gi(r,()=>Dr(t,!0,!0))}return Ta(e),Bt(Dr(t,!0,!0))}};Fs!==void 0&&Object.setPrototypeOf(Ns,Fs);Object.defineProperty(Ns,"next",{enumerable:!1});Object.defineProperty(Ns,"return",{enumerable:!1});function r6(t,e=!1){let r=Ds(t),n=Object.create(Ns);return n._asyncIteratorReader=r,n._preventCancel=Boolean(e),n}function Kl(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorReader"))}function Ul(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}function pf(t){let e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function xf(t,e,r){if(r=Number(r),!Sl(r))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:e,size:r}),t._queueTotalSize+=r}function n6(t){return t._queue.peek().value}function ci(t){t._queue=new Ir,t._queueTotalSize=0}var zl=Rn("[[AbortSteps]]"),Fl=Rn("[[ErrorSteps]]"),yf=class{constructor(e={},r={}){Ol(this);let n=r.size,i=r.highWaterMark;if(e.type!==void 0)throw new RangeError("Invalid type is specified");let s=Is(n);i===void 0&&(i=1),i=Ra(i),i6(this,e,i,s)}get locked(){if(Xi(this)===!1)throw qs("locked");return Ia(this)}abort(e){return Xi(this)===!1?Ne(qs("abort")):Ia(this)===!0?Ne(new TypeError("Cannot abort a stream that already has a writer")):Os(this,e)}close(){return Xi(this)===!1?Ne(qs("close")):Ia(this)===!0?Ne(new TypeError("Cannot close a stream that already has a writer")):Jr(this)===!0?Ne(new TypeError("Cannot close an already-closing stream")):ql(this)}getWriter(){if(Xi(this)===!1)throw qs("getWriter");return Nl(this)}};function Nl(t){return new Ll(t)}function a6(t,e,r,n,i=1,a=()=>1){let s=Object.create(yf.prototype);Ol(s);let o=Object.create(mf.prototype);return jl(s,o,t,e,r,n,i,a),s}function Ol(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new Ir,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function Xi(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_writableStreamController"))}function Ia(t){return t._writer!==void 0}function Os(t,e){let r=t._state;if(r==="closed"||r==="errored")return Bt(void 0);if(t._pendingAbortRequest!==void 0)return t._pendingAbortRequest._promise;let n=!1;r==="erroring"&&(n=!0,e=void 0);let i=gr((a,s)=>{t._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:s,_reason:e,_wasAlreadyErroring:n}});return t._pendingAbortRequest._promise=i,n===!1&&gf(t,e),i}function ql(t){let e=t._state;if(e==="closed"||e==="errored")return Ne(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));let r=gr((i,a)=>{let s={_resolve:i,_reject:a};t._closeRequest=s}),n=t._writer;return n!==void 0&&t._backpressure===!0&&e==="writable"&&vf(n),s6(t._writableStreamController),r}function o6(t){return gr((r,n)=>{let i={_resolve:r,_reject:n};t._writeRequests.push(i)})}function _f(t,e){if(t._state==="writable"){gf(t,e);return}wf(t)}function gf(t,e){let r=t._writableStreamController;t._state="erroring",t._storedError=e;let n=t._writer;n!==void 0&&Hl(n,e),c6(t)===!1&&r._started===!0&&wf(t)}function wf(t){t._state="errored",t._writableStreamController[Fl]();let e=t._storedError;if(t._writeRequests.forEach(i=>{i._reject(e)}),t._writeRequests=new Ir,t._pendingAbortRequest===void 0){Ls(t);return}let r=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,r._wasAlreadyErroring===!0){r._reject(e),Ls(t);return}let n=t._writableStreamController[zl](r._reason);Br(n,()=>{r._resolve(),Ls(t)},i=>{r._reject(i),Ls(t)})}function f6(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}function d6(t,e){t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,_f(t,e)}function u6(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,t._state==="erroring"&&(t._storedError=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";let r=t._writer;r!==void 0&&Wl(r)}function l6(t,e){t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,t._pendingAbortRequest!==void 0&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),_f(t,e)}function Jr(t){return!(t._closeRequest===void 0&&t._inFlightCloseRequest===void 0)}function c6(t){return!(t._inFlightWriteRequest===void 0&&t._inFlightCloseRequest===void 0)}function h6(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0}function b6(t){t._inFlightWriteRequest=t._writeRequests.shift()}function Ls(t){t._closeRequest!==void 0&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);let e=t._writer;e!==void 0&&Af(e,t._storedError)}function kf(t,e){let r=t._writer;r!==void 0&&e!==t._backpressure&&(e===!0?p6(r):vf(r)),t._backpressure=e}var Ll=class{constructor(e){if(Xi(e)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(Ia(e)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let r=e._state;if(r==="writable")Jr(e)===!1&&e._backpressure===!0?Hs(this):Zl(this),js(this);else if(r==="erroring")Sf(this,e._storedError),js(this);else if(r==="closed")Zl(this),m6(this);else{let n=e._storedError;Sf(this,n),Vl(this,n)}}get closed(){return Ji(this)===!1?Ne(Qi("closed")):this._closedPromise}get desiredSize(){if(Ji(this)===!1)throw Qi("desiredSize");if(this._ownerWritableStream===void 0)throw u0("desiredSize");return y6(this)}get ready(){return Ji(this)===!1?Ne(Qi("ready")):this._readyPromise}abort(e){return Ji(this)===!1?Ne(Qi("abort")):this._ownerWritableStream===void 0?Ne(u0("abort")):x6(this,e)}close(){if(Ji(this)===!1)return Ne(Qi("close"));let e=this._ownerWritableStream;return e===void 0?Ne(u0("close")):Jr(e)===!0?Ne(new TypeError("Cannot close an already-closing stream")):$l(this)}releaseLock(){if(Ji(this)===!1)throw Qi("releaseLock");this._ownerWritableStream!==void 0&&Yl(this)}write(e){return Ji(this)===!1?Ne(Qi("write")):this._ownerWritableStream===void 0?Ne(u0("write to")):Gl(this,e)}};function Ji(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream"))}function x6(t,e){let r=t._ownerWritableStream;return Os(r,e)}function $l(t){let e=t._ownerWritableStream;return ql(e)}function g6(t){let e=t._ownerWritableStream,r=e._state;return Jr(e)===!0||r==="closed"?Bt(void 0):r==="errored"?Ne(e._storedError):$l(t)}function w6(t,e){t._closedPromiseState==="pending"?Af(t,e):v6(t,e)}function Hl(t,e){t._readyPromiseState==="pending"?Xl(t,e):_6(t,e)}function y6(t){let e=t._ownerWritableStream,r=e._state;return r==="errored"||r==="erroring"?null:r==="closed"?0:Jl(e._writableStreamController)}function Yl(t){let e=t._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Hl(t,r),w6(t,r),e._writer=void 0,t._ownerWritableStream=void 0}function Gl(t,e){let r=t._ownerWritableStream,n=r._writableStreamController,i=A6(n,e);if(r!==t._ownerWritableStream)return Ne(u0("write to"));let a=r._state;if(a==="errored")return Ne(r._storedError);if(Jr(r)===!0||a==="closed")return Ne(new TypeError("The stream is closing or closed and cannot be written to"));if(a==="erroring")return Ne(r._storedError);let s=o6(r);return k6(n,e,i),s}var mf=class{constructor(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}error(e){if(S6(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&Ql(this,e)}[zl](e){let r=this._abortAlgorithm(e);return Ws(this),r}[Fl](){ci(this)}};function S6(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream"))}function jl(t,e,r,n,i,a,s,o){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,ci(e),e._started=!1,e._strategySizeAlgorithm=o,e._strategyHWM=s,e._writeAlgorithm=n,e._closeAlgorithm=i,e._abortAlgorithm=a;let f=Ef(e);kf(t,f);let c=r(),d=Bt(c);Br(d,()=>{e._started=!0,$s(e)},u=>{e._started=!0,_f(t,u)})}function i6(t,e,r,n){let i=Object.create(mf.prototype);function a(){return Ms(e,"start",[i])}let s=si(e,"write",1,[i]),o=si(e,"close",0,[]),f=si(e,"abort",1,[]);jl(t,i,a,s,o,f,r,n)}function Ws(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function s6(t){xf(t,"close",0),$s(t)}function A6(t,e){try{return t._strategySizeAlgorithm(e)}catch(r){return Cf(t,r),1}}function Jl(t){return t._strategyHWM-t._queueTotalSize}function k6(t,e,r){let n={chunk:e};try{xf(t,n,r)}catch(a){Cf(t,a);return}let i=t._controlledWritableStream;if(Jr(i)===!1&&i._state==="writable"){let a=Ef(t);kf(i,a)}$s(t)}function $s(t){let e=t._controlledWritableStream;if(t._started===!1||e._inFlightWriteRequest!==void 0)return;if(e._state==="erroring"){wf(e);return}if(t._queue.length===0)return;let n=n6(t);n==="close"?E6(t):C6(t,n.chunk)}function Cf(t,e){t._controlledWritableStream._state==="writable"&&Ql(t,e)}function E6(t){let e=t._controlledWritableStream;h6(e),pf(t);let r=t._closeAlgorithm();Ws(t),Br(r,()=>{u6(e)},n=>{l6(e,n)})}function C6(t,e){let r=t._controlledWritableStream;b6(r);let n=t._writeAlgorithm(e);Br(n,()=>{f6(r);let i=r._state;if(pf(t),Jr(r)===!1&&i==="writable"){let a=Ef(t);kf(r,a)}$s(t)},i=>{r._state==="writable"&&Ws(t),d6(r,i)})}function Ef(t){return Jl(t)<=0}function Ql(t,e){let r=t._controlledWritableStream;Ws(t),gf(r,e)}function qs(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function Qi(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function u0(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function js(t){t._closedPromise=gr((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r,t._closedPromiseState="pending"})}function Vl(t,e){js(t),Af(t,e)}function m6(t){js(t),Wl(t)}function Af(t,e){Ma(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected"}function v6(t,e){Vl(t,e)}function Wl(t){t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved"}function Hs(t){t._readyPromise=gr((e,r)=>{t._readyPromise_resolve=e,t._readyPromise_reject=r}),t._readyPromiseState="pending"}function Sf(t,e){Hs(t),Xl(t,e)}function Zl(t){Hs(t),vf(t)}function Xl(t,e){Ma(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected"}function p6(t){Hs(t)}function _6(t,e){Sf(t,e)}function vf(t){t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled"}function eh(t){if(typeof t!="object"||t===null)return!1;try{return typeof t.aborted=="boolean"}catch(e){return!1}}var th=typeof DOMException!="undefined"?DOMException:void 0;function P6(t){if(!(typeof t=="function"||typeof t=="object"))return!1;try{return new t,!0}catch(e){return!1}}function R6(){let t=function(r,n){this.message=r||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}var M6=P6(th)?th:R6();function rh(t,e,r,n,i,a){let s=Ds(t),o=Nl(e);t._disturbed=!0;let f=!1,c=Bt(void 0);return gr((d,u)=>{let p;if(a!==void 0){if(p=()=>{let V=new M6("Aborted","AbortError"),re=[];n===!1&&re.push(()=>e._state==="writable"?Os(e,V):Bt(void 0)),i===!1&&re.push(()=>t._state==="readable"?Vi(t,V):Bt(void 0)),ee(()=>Promise.all(re.map(te=>te())),!0,V)},a.aborted===!0){p();return}a.addEventListener("abort",p)}function x(){return gr((V,re)=>{function te(X){X?V():Mn(S(),te,re)}te(!1)})}function S(){return f===!0?Bt(!0):Mn(o._readyPromise,()=>Mn(Us(s),V=>V.done===!0?!0:(c=Mn(Gl(o,V.value),void 0,nf),!1)))}if(H(t,s._closedPromise,V=>{n===!1?ee(()=>Os(e,V),!0,V):ie(!0,V)}),H(e,o._closedPromise,V=>{i===!1?ee(()=>Vi(t,V),!0,V):ie(!0,V)}),K(t,s._closedPromise,()=>{r===!1?ee(()=>g6(o)):ie()}),Jr(e)===!0||e._state==="closed"){let V=new TypeError("the destination writable stream closed before all data could be piped to it");i===!1?ee(()=>Vi(t,V),!0,V):ie(!0,V)}Ma(x());function E(){let V=c;return Mn(c,()=>V!==c?E():void 0)}function H(V,re,te){V._state==="errored"?te(V._storedError):Cl(re,te)}function K(V,re,te){V._state==="closed"?te():cf(re,te)}function ee(V,re,te){if(f===!0)return;f=!0,e._state==="writable"&&Jr(e)===!1?cf(E(),X):X();function X(){Br(V(),()=>F(re,te),se=>F(!0,se))}}function ie(V,re){f!==!0&&(f=!0,e._state==="writable"&&Jr(e)===!1?cf(E(),()=>F(V,re)):F(V,re))}function F(V,re){Yl(o),Ta(s),a!==void 0&&a.removeEventListener("abort",p),V?u(re):d(void 0)}})}var Pf=class{constructor(){throw new TypeError}get desiredSize(){if(Ys(this)===!1)throw Zs("desiredSize");return Rf(this)}close(){if(Ys(this)===!1)throw Zs("close");if(Da(this)===!1)throw new TypeError("The stream is not in a state that permits close");h0(this)}enqueue(e){if(Ys(this)===!1)throw Zs("enqueue");if(Da(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return Vs(this,e)}error(e){if(Ys(this)===!1)throw Zs("error");fi(this,e)}[lf](e){ci(this);let r=this._cancelAlgorithm(e);return Gs(this),r}[hf](){let e=this._controlledReadableStream;if(this._queue.length>0){let n=pf(this);return this._closeRequested===!0&&this._queue.length===0?(Gs(this),b0(e)):l0(this),Bt(Dr(n,!1,e._reader._forAuthorCode))}let r=Il(e);return l0(this),r}};function Ys(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream"))}function l0(t){if(nh(t)===!1)return;if(t._pulling===!0){t._pullAgain=!0;return}t._pulling=!0;let r=t._pullAlgorithm();Br(r,()=>{t._pulling=!1,t._pullAgain===!0&&(t._pullAgain=!1,l0(t))},n=>{fi(t,n)})}function nh(t){let e=t._controlledReadableStream;return Da(t)===!1||t._started===!1?!1:oi(e)===!0&&Ks(e)>0||Rf(t)>0}function Gs(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function h0(t){let e=t._controlledReadableStream;t._closeRequested=!0,t._queue.length===0&&(Gs(t),b0(e))}function Vs(t,e){let r=t._controlledReadableStream;if(oi(r)===!0&&Ks(r)>0)bf(r,e,!1);else{let n;try{n=t._strategySizeAlgorithm(e)}catch(i){throw fi(t,i),i}try{xf(t,e,n)}catch(i){throw fi(t,i),i}}l0(t)}function fi(t,e){let r=t._controlledReadableStream;r._state==="readable"&&(ci(t),Gs(t),ih(r,e))}function Rf(t){let r=t._controlledReadableStream._state;return r==="errored"?null:r==="closed"?0:t._strategyHWM-t._queueTotalSize}function T6(t){return nh(t)!==!0}function Da(t){let e=t._controlledReadableStream._state;return t._closeRequested===!1&&e==="readable"}function ah(t,e,r,n,i,a,s){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,ci(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=s,e._strategyHWM=a,e._pullAlgorithm=n,e._cancelAlgorithm=i,t._readableStreamController=e;let o=r();Br(Bt(o),()=>{e._started=!0,l0(e)},f=>{fi(e,f)})}function B6(t,e,r,n){let i=Object.create(Pf.prototype);function a(){return Ms(e,"start",[i])}let s=si(e,"pull",0,[i]),o=si(e,"cancel",1,[]);ah(t,i,a,s,o,r,n)}function Zs(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function I6(t,e){let r=Ds(t),n=!1,i=!1,a=!1,s,o,f,c,d,u=gr(H=>{d=H});function p(){if(n===!0)return Bt(void 0);n=!0;let H=Gi(Us(r),K=>{if(n=!1,K.done===!0){i===!1&&h0(f._readableStreamController),a===!1&&h0(c._readableStreamController);return}let ie=K.value,F=ie,V=ie;i===!1&&Vs(f._readableStreamController,F),a===!1&&Vs(c._readableStreamController,V)});return Ma(H),Bt(void 0)}function x(H){if(i=!0,s=H,a===!0){let K=af([s,o]),ee=Vi(t,K);d(ee)}return u}function S(H){if(a=!0,o=H,i===!0){let K=af([s,o]),ee=Vi(t,K);d(ee)}return u}function E(){}return f=Mf(E,p,x),c=Mf(E,p,S),Cl(r._closedPromise,H=>{fi(f._readableStreamController,H),fi(c._readableStreamController,H)}),[f,c]}var D6=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},sh=class{constructor(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}get view(){if(Tf(this)===!1)throw Bf("view");return this._view}respond(e){if(Tf(this)===!1)throw Bf("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Bs(this._view.buffer)===!0,K6(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(Tf(this)===!1)throw Bf("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");Bs(e.buffer)===!0,U6(this._associatedReadableByteStreamController,e)}},oh=class{constructor(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}get byobRequest(){if(Ka(this)===!1)throw x0("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek(),r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(sh.prototype);N6(n,this,r),this._byobRequest=n}return this._byobRequest}get desiredSize(){if(Ka(this)===!1)throw x0("desiredSize");return fh(this)}close(){if(Ka(this)===!1)throw x0("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);z6(this)}enqueue(e){if(Ka(this)===!1)throw x0("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");let r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");Bs(e.buffer)===!0,F6(this,e)}error(e){if(Ka(this)===!1)throw x0("error");p0(this,e)}[lf](e){if(this._pendingPullIntos.length>0){let n=this._pendingPullIntos.peek();n.bytesFilled=0}ci(this);let r=this._cancelAlgorithm(e);return Xs(this),r}[hf](){let e=this._controlledReadableByteStream;if(this._queueTotalSize>0){let i=this._queue.shift();this._queueTotalSize-=i.byteLength,ch(this);let a;try{a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}catch(s){return Ne(s)}return Bt(Dr(a,!1,e._reader._forAuthorCode))}let r=this._autoAllocateChunkSize;if(r!==void 0){let i;try{i=new ArrayBuffer(r)}catch(s){return Ne(s)}let a={buffer:i,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}let n=Il(e);return ea(this),n}};function Ka(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream"))}function Tf(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController"))}function ea(t){if(O6(t)===!1)return;if(t._pulling===!0){t._pullAgain=!0;return}t._pulling=!0;let r=t._pullAlgorithm();Br(r,()=>{t._pulling=!1,t._pullAgain===!0&&(t._pullAgain=!1,ea(t))},n=>{p0(t,n)})}function q6(t){If(t),t._pendingPullIntos=new Ir}function Df(t,e){let r=!1;t._state==="closed"&&(r=!0);let n=dh(e);e.readerType==="default"?bf(t,n,r):L6(t,n,r)}function dh(t){let e=t.bytesFilled,r=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,e/r)}function Js(t,e,r,n){t._queue.push({buffer:e,byteOffset:r,byteLength:n}),t._queueTotalSize+=n}function lh(t,e){let r=e.elementSize,n=e.bytesFilled-e.bytesFilled%r,i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),a=e.bytesFilled+i,s=a-a%r,o=i,f=!1;s>n&&(o=s-e.bytesFilled,f=!0);let c=t._queue;for(;o>0;){let d=c.peek(),u=Math.min(o,d.byteLength),p=e.byteOffset+e.bytesFilled;V3(e.buffer,p,d.buffer,d.byteOffset,u),d.byteLength===u?c.shift():(d.byteOffset+=u,d.byteLength-=u),t._queueTotalSize-=u,uh(t,u,e),o-=u}return f}function uh(t,e,r){If(t),r.bytesFilled+=e}function ch(t){t._queueTotalSize===0&&t._closeRequested===!0?(Xs(t),b0(t._controlledReadableByteStream)):ea(t)}function If(t){t._byobRequest!==void 0&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=void 0,t._byobRequest=void 0)}function hh(t){for(;t._pendingPullIntos.length>0;){if(t._queueTotalSize===0)return;let e=t._pendingPullIntos.peek();lh(t,e)===!0&&(Kf(t),Df(t._controlledReadableByteStream,e))}}function j6(t,e){let r=t._controlledReadableByteStream,n=1;e.constructor!==DataView&&(n=e.constructor.BYTES_PER_ELEMENT);let i=e.constructor,s={buffer:Ts(e.buffer),byteOffset:e.byteOffset,byteLength:e.byteLength,bytesFilled:0,elementSize:n,ctor:i,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(s),bh(r);if(r._state==="closed"){let f=new i(s.buffer,s.byteOffset,0);return Bt(Dr(f,!0,r._reader._forAuthorCode))}if(t._queueTotalSize>0){if(lh(t,s)===!0){let f=dh(s);return ch(t),Bt(Dr(f,!1,r._reader._forAuthorCode))}if(t._closeRequested===!0){let f=new TypeError("Insufficient bytes to fill elements in the given buffer");return p0(t,f),Ne(f)}}t._pendingPullIntos.push(s);let o=bh(r);return ea(t),o}function H6(t,e){e.buffer=Ts(e.buffer);let r=t._controlledReadableByteStream;if(Uf(r)===!0)for(;ph(r)>0;){let n=Kf(t);Df(r,n)}}function W6(t,e,r){if(r.bytesFilled+e>r.byteLength)throw new RangeError("bytesWritten out of range");if(uh(t,e,r),r.bytesFilled<r.elementSize)return;Kf(t);let n=r.bytesFilled%r.elementSize;if(n>0){let i=r.byteOffset+r.bytesFilled,a=r.buffer.slice(i-n,i);Js(t,a,0,a.byteLength)}r.buffer=Ts(r.buffer),r.bytesFilled-=n,Df(t._controlledReadableByteStream,r),hh(t)}function xh(t,e){let r=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");H6(t,r)}else W6(t,e,r);ea(t)}function Kf(t){let e=t._pendingPullIntos.shift();return If(t),e}function O6(t){let e=t._controlledReadableByteStream;return e._state!=="readable"||t._closeRequested===!0||t._started===!1?!1:Dl(e)===!0&&Ks(e)>0||Uf(e)===!0&&ph(e)>0||fh(t)>0}function Xs(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function z6(t){let e=t._controlledReadableByteStream;if(t._queueTotalSize>0){t._closeRequested=!0;return}if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){let n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw p0(t,n),n}Xs(t),b0(e)}function F6(t,e){let r=t._controlledReadableByteStream,n=e.buffer,i=e.byteOffset,a=e.byteLength,s=Ts(n);if(Dl(r)===!0)if(Ks(r)===0)Js(t,s,i,a);else{let o=new Uint8Array(s,i,a);bf(r,o,!1)}else Uf(r)===!0?(Js(t,s,i,a),hh(t)):Js(t,s,i,a);ea(t)}function p0(t,e){let r=t._controlledReadableByteStream;r._state==="readable"&&(q6(t),ci(t),Xs(t),ih(r,e))}function fh(t){let r=t._controlledReadableByteStream._state;return r==="errored"?null:r==="closed"?0:t._strategyHWM-t._queueTotalSize}function K6(t,e){if(e=Number(e),Sl(e)===!1)throw new RangeError("bytesWritten must be a finite");xh(t,e)}function U6(t,e){let r=t._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==e.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=e.buffer,xh(t,e.byteLength)}function $6(t,e,r,n,i,a,s){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=void 0,e._queue=e._queueTotalSize=void 0,ci(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=Ra(a),e._pullAlgorithm=n,e._cancelAlgorithm=i,e._autoAllocateChunkSize=s,e._pendingPullIntos=new Ir,t._readableStreamController=e;let o=r();Br(Bt(o),()=>{e._started=!0,ea(e)},f=>{p0(e,f)})}function Y6(t,e,r){let n=Object.create(oh.prototype);function i(){return Ms(e,"start",[n])}let a=si(e,"pull",0,[n]),s=si(e,"cancel",1,[]),o=e.autoAllocateChunkSize;if(o!==void 0&&(o=Number(o),D6(o)===!1||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");$6(t,n,i,a,s,r,o)}function N6(t,e,r){t._associatedReadableByteStreamController=e,t._view=r}function Bf(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function x0(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function G6(t,e=!1){let r=new yh(t);return r._forAuthorCode=e,r}function bh(t){return gr((r,n)=>{let i={_resolve:r,_reject:n};t._reader._readIntoRequests.push(i)})}function L6(t,e,r){let n=t._reader;n._readIntoRequests.shift()._resolve(Dr(e,r,n._forAuthorCode))}function ph(t){return t._reader._readIntoRequests.length}function Uf(t){let e=t._reader;return!(e===void 0||!y0(e))}var yh=class{constructor(e){if(!Xr(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(Ka(e._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(oi(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ml(this,e),this._readIntoRequests=new Ir}get closed(){return y0(this)?this._closedPromise:Ne(Qs("closed"))}cancel(e){return y0(this)?this._ownerReadableStream===void 0?Ne(Ba("cancel")):df(this,e):Ne(Qs("cancel"))}read(e){return y0(this)?this._ownerReadableStream===void 0?Ne(Ba("read from")):ArrayBuffer.isView(e)?(Bs(e.buffer)===!0,e.byteLength===0?Ne(new TypeError("view must have non-zero byteLength")):V6(this,e)):Ne(new TypeError("view must be an array buffer view")):Ne(Qs("read"))}releaseLock(){if(!y0(this))throw Qs("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Ta(this)}}};function y0(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests"))}function V6(t,e){let r=t._ownerReadableStream;return r._disturbed=!0,r._state==="errored"?Ne(r._storedError):j6(r._readableStreamController,e)}function Qs(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}var m0=class{constructor(e={},r={}){mh(this);let n=r.size,i=r.highWaterMark,a=e.type;if(String(a)==="bytes"){if(n!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");i===void 0&&(i=0),i=Ra(i),Y6(this,e,i)}else if(a===void 0){let o=Is(n);i===void 0&&(i=1),i=Ra(i),B6(this,e,i,o)}else throw new RangeError("Invalid type is specified")}get locked(){if(Xr(this)===!1)throw ta("locked");return oi(this)}cancel(e){return Xr(this)===!1?Ne(ta("cancel")):oi(this)===!0?Ne(new TypeError("Cannot cancel a stream that already has a reader")):Vi(this,e)}getReader({mode:e}={}){if(Xr(this)===!1)throw ta("getReader");if(e===void 0)return Ds(this,!0);if(e=String(e),e==="byob")return G6(this,!0);throw new RangeError("Invalid mode is specified")}pipeThrough({writable:e,readable:r},{preventClose:n,preventAbort:i,preventCancel:a,signal:s}={}){if(Xr(this)===!1)throw ta("pipeThrough");if(Xi(e)===!1)throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(Xr(r)===!1)throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(n=Boolean(n),i=Boolean(i),a=Boolean(a),s!==void 0&&!eh(s))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(oi(this)===!0)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ia(e)===!0)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let o=rh(this,e,n,i,a,s);return Ma(o),r}pipeTo(e,{preventClose:r,preventAbort:n,preventCancel:i,signal:a}={}){return Xr(this)===!1?Ne(ta("pipeTo")):Xi(e)===!1?Ne(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),n=Boolean(n),i=Boolean(i),a!==void 0&&!eh(a)?Ne(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")):oi(this)===!0?Ne(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ia(e)===!0?Ne(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):rh(this,e,r,n,i,a))}tee(){if(Xr(this)===!1)throw ta("tee");let e=I6(this);return af(e)}getIterator({preventCancel:e=!1}={}){if(Xr(this)===!1)throw ta("getIterator");return r6(this,e)}};typeof Rn.asyncIterator=="symbol"&&Object.defineProperty(m0.prototype,Rn.asyncIterator,{value:m0.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});function Mf(t,e,r,n=1,i=()=>1){let a=Object.create(m0.prototype);mh(a);let s=Object.create(Pf.prototype);return ah(a,s,t,e,r,n,i),a}function mh(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Xr(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_readableStreamController"))}function oi(t){return t._reader!==void 0}function Vi(t,e){if(t._disturbed=!0,t._state==="closed")return Bt(void 0);if(t._state==="errored")return Ne(t._storedError);b0(t);let r=t._readableStreamController[lf](e);return Gi(r,nf)}function b0(t){t._state="closed";let e=t._reader;e!==void 0&&(Zi(e)&&(e._readRequests.forEach(r=>{r._resolve(Dr(void 0,!0,e._forAuthorCode))}),e._readRequests=new Ir),Tl(e))}function ih(t,e){t._state="errored",t._storedError=e;let r=t._reader;r!==void 0&&(Zi(r)?(r._readRequests.forEach(n=>{n._reject(e)}),r._readRequests=new Ir):(r._readIntoRequests.forEach(n=>{n._reject(e)}),r._readIntoRequests=new Ir),uf(r,e))}function ta(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}var gh=class{constructor(e={},r={},n={}){let i=r.size,a=r.highWaterMark,s=n.size,o=n.highWaterMark;if(e.writableType!==void 0)throw new RangeError("Invalid writable type specified");let c=Is(i);if(a===void 0&&(a=1),a=Ra(a),e.readableType!==void 0)throw new RangeError("Invalid readable type specified");let u=Is(s);o===void 0&&(o=0),o=Ra(o);let p,x=gr(E=>{p=E});Z6(this,x,a,c,o,u),X6(this,e);let S=Ms(e,"start",[this._transformStreamController]);p(S)}get readable(){if(vh(this)===!1)throw wh("readable");return this._readable}get writable(){if(vh(this)===!1)throw wh("writable");return this._writable}};function Z6(t,e,r,n,i,a){function s(){return e}function o(p){return J6(t,p)}function f(p){return Q6(t,p)}function c(){return e5(t)}t._writable=a6(s,o,c,f,r,n);function d(){return t5(t)}function u(p){return eo(t,p),Bt(void 0)}t._readable=Mf(s,d,u,i,a),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,to(t,!0),t._transformStreamController=void 0}function vh(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_transformStreamController"))}function ro(t,e){fi(t._readable._readableStreamController,e),eo(t,e)}function eo(t,e){_h(t._transformStreamController),Cf(t._writable._writableStreamController,e),t._backpressure===!0&&to(t,!1)}function to(t,e){t._backpressureChangePromise!==void 0&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=gr(r=>{t._backpressureChangePromise_resolve=r}),t._backpressure=e}var Ah=class{constructor(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}get desiredSize(){if(no(this)===!1)throw io("desiredSize");let e=this._controlledTransformStream._readable._readableStreamController;return Rf(e)}enqueue(e){if(no(this)===!1)throw io("enqueue");kh(this,e)}error(e){if(no(this)===!1)throw io("error");r5(this,e)}terminate(){if(no(this)===!1)throw io("terminate");n5(this)}};function no(t){return!(!kr(t)||!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream"))}function i5(t,e,r,n){e._controlledTransformStream=t,t._transformStreamController=e,e._transformAlgorithm=r,e._flushAlgorithm=n}function X6(t,e){let r=Object.create(Ah.prototype),n=s=>{try{return kh(r,s),Bt(void 0)}catch(o){return Ne(o)}},i=e.transform;if(i!==void 0){if(typeof i!="function")throw new TypeError("transform is not a method");n=s=>sf(i,e,[s,r])}let a=si(e,"flush",0,[r]);i5(t,r,n,a)}function _h(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function kh(t,e){let r=t._controlledTransformStream,n=r._readable._readableStreamController;if(Da(n)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{Vs(n,e)}catch(a){throw eo(r,a),r._readable._storedError}T6(n)!==r._backpressure&&to(r,!0)}function r5(t,e){ro(t._controlledTransformStream,e)}function Sh(t,e){let r=t._transformAlgorithm(e);return Gi(r,void 0,n=>{throw ro(t._controlledTransformStream,n),n})}function n5(t){let e=t._controlledTransformStream,r=e._readable._readableStreamController;Da(r)===!0&&h0(r);let n=new TypeError("TransformStream terminated");eo(e,n)}function J6(t,e){let r=t._transformStreamController;if(t._backpressure===!0){let n=t._backpressureChangePromise;return Gi(n,()=>{let i=t._writable;if(i._state==="erroring")throw i._storedError;return Sh(r,e)})}return Sh(r,e)}function Q6(t,e){return ro(t,e),Bt(void 0)}function e5(t){let e=t._readable,r=t._transformStreamController,n=r._flushAlgorithm();return _h(r),Gi(n,()=>{if(e._state==="errored")throw e._storedError;let i=e._readableStreamController;Da(i)===!0&&h0(i)},i=>{throw ro(t,i),e._storedError})}function t5(t){return to(t,!1),t._backpressureChangePromise}function io(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function wh(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}var zf=function(t,e){return zf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},zf(t,e)};function Eh(t,e){zf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Ua(t){if(!t)throw new TypeError("Assertion failed")}function a5(){}function s5(t){return typeof t=="object"&&t!==null||typeof t=="function"}function o5(t){if(typeof t!="function")return!1;var e=!1;try{new t({start:function(){e=!0}})}catch(r){}return e}function Ch(t){return!(!s5(t)||typeof t.getReader!="function")}function c5(t){return!(!o5(t)||!Ch(new t))}function Ph(t){try{var e=t.getReader({mode:"byob"});return e.releaseLock(),!0}catch(r){return!1}}function f5(t){try{return new t({type:"bytes"}),!0}catch(e){return!1}}function Mh(t){Ua(c5(t));var e=f5(t);return function(r,n){var i=(n===void 0?{}:n).type;if(i=Rh(i),i==="bytes"&&!e&&(i=void 0),r.constructor===t&&(i!=="bytes"||Ph(r)))return r;var a=d5(r,{type:i});return new t(a)}}function d5(t,e){var r=(e===void 0?{}:e).type;Ua(Ch(t)),Ua(t.locked===!1),r=Rh(r);var n;return r==="bytes"?n=new l5(t):n=new u5(t),n}function Rh(t){var e=String(t);if(e==="bytes")return e;if(t===void 0)return t;throw new RangeError("Invalid type is specified")}var Th=function(){function t(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return t.prototype.start=function(e){this._readableStreamController=e},t.prototype.cancel=function(e){return Ua(this._underlyingReader!==void 0),this._underlyingReader.cancel(e)},t.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},t.prototype._attachReader=function(e){var r=this;Ua(this._underlyingReader===void 0),this._underlyingReader=e;var n=this._underlyingReader.closed;!n||n.then(function(){return r._finishPendingRead()}).then(function(){e===r._underlyingReader&&r._readableStreamController.close()},function(i){e===r._underlyingReader&&r._readableStreamController.error(i)}).catch(a5)},t.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},t.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var i=e._readableStreamController;n.done?e._tryClose():i.enqueue(n.value)});return this._setPendingRead(r),r},t.prototype._tryClose=function(){try{this._readableStreamController.close()}catch(e){}},t.prototype._setPendingRead=function(e){var r=this,n,i=function(){r._pendingRead===n&&(r._pendingRead=void 0)};this._pendingRead=n=e.then(i,i)},t.prototype._finishPendingRead=function(){var e=this;if(!!this._pendingRead){var r=function(){return e._finishPendingRead()};return this._pendingRead.then(r,r)}},t}(),u5=function(t){Eh(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.pull=function(){return this._pullWithDefaultReader()},e}(Th);function Bh(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function h5(t,e){var r=Bh(t),n=Bh(e);n.set(r,0)}var l5=function(t){Eh(e,t);function e(r){var n=this,i=Ph(r);return n=t.call(this,r)||this,n._supportsByob=i,n}return Object.defineProperty(e.prototype,"type",{get:function(){return"bytes"},enumerable:!0,configurable:!0}),e.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){Ua(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},e.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r!==void 0)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},e.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var i=new Uint8Array(r.view.byteLength),a=this._underlyingReader.read(i).then(function(s){n._readableStreamController,s.done?(n._tryClose(),r.respond(0)):(h5(s.value,r.view),r.respond(s.value.byteLength))});return this._setPendingRead(a),a},e}(Th),ao=typeof ut.process=="object"&&typeof ut.process.versions=="object",Ih=ao&&void"stream".Readable;function Qr(t){return ut.ReadableStream&&ut.ReadableStream.prototype.isPrototypeOf(t)?"web":xe.ReadableStream.prototype.isPrototypeOf(t)?"ponyfill":Ih&&Ih.prototype.isPrototypeOf(t)?"node":!1}function so(t){return Uint8Array.prototype.isPrototypeOf(t)}function Dh(t){if(t.length===1)return t[0];let e=0;for(let i=0;i<t.length;i++){if(!so(t[i]))throw new Error("concatUint8Array: Data must be in the form of a Uint8Array");e+=t[i].length}let r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}var b5=ao&&void"buffer".Buffer,Kh=ao&&void"stream".Readable,Ff,Uh;if(Kh){Ff=function(e){return new xe.ReadableStream({start(r){e.pause(),e.on("data",n=>{b5.isBuffer(n)&&(n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),r.enqueue(n),e.pause()}),e.on("end",()=>r.close()),e.on("error",n=>r.error(n))},pull(){e.resume()},cancel(r){if(e.pause(),e.cancel)return e.cancel(r)}})};class t extends Kh{constructor(r,n){super(n);this._webStream=r,this._reader=xe.getReader(r),this._reading=!1,this._doneReadingPromise=Promise.resolve(),this._cancelling=!1}_read(r){if(this._reading||this._cancelling)return;this._reading=!0;let n=async()=>{try{for(;;){let{done:i,value:a}=await this._reader.read();if(i){this.push(null);break}if(!this.push(a)||this._cancelling){this._reading=!1;break}}}catch(i){this.emit("error",i)}};this._doneReadingPromise=n()}async cancel(r){return this._cancelling=!0,await this._doneReadingPromise,this._reader.releaseLock(),this._webStream.cancel(r)}}Uh=function(e){return new t(e)}}var zh=new WeakSet,gt=Symbol("externalBuffer");function Tn(t){this.stream=t,t[gt]&&(this[gt]=t[gt].slice());let e=xe.isStream(t);if(e==="node"&&(t=xe.nodeToWeb(t)),e){let n=t.getReader();this._read=n.read.bind(n),this._releaseLock=()=>{n.closed.catch(function(){}),n.releaseLock()};return}let r=!1;this._read=async()=>r||zh.has(t)?{value:void 0,done:!0}:(r=!0,{value:t,done:!1}),this._releaseLock=()=>{if(r)try{zh.add(t)}catch(n){}}}Tn.prototype.read=async function(){if(this[gt]&&this[gt].length){let t=this[gt].shift();return{done:!1,value:t}}return this._read()};Tn.prototype.releaseLock=function(){this[gt]&&(this.stream[gt]=this[gt]),this._releaseLock()};Tn.prototype.readLine=async function(){let t=[],e;for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?xe.concat(t):void 0;let i=n.indexOf(`
`)+1;i&&(e=xe.concat(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e};Tn.prototype.readByte=async function(){let{done:t,value:e}=await this.read();if(t)return;let r=e[0];return this.unshift(xe.slice(e,1)),r};Tn.prototype.readBytes=async function(t){let e=[],r=0;for(;;){let{done:n,value:i}=await this.read();if(n)return e.length?xe.concat(e):void 0;if(e.push(i),r+=i.length,r>=t){let a=xe.concat(e);return this.unshift(xe.slice(a,t)),xe.slice(a,0,t)}}};Tn.prototype.peekBytes=async function(t){let e=await this.readBytes(t);return this.unshift(e),e};Tn.prototype.unshift=function(...t){if(this[gt]||(this[gt]=[]),t.length===1&&so(t[0])&&this[gt].length&&t[0].length&&this[gt][0].byteOffset>=t[0].length){this[gt][0]=new Uint8Array(this[gt][0].buffer,this[gt][0].byteOffset-t[0].length,this[gt][0].byteLength+t[0].length);return}this[gt].unshift(...t.filter(e=>e&&e.length))};Tn.prototype.readToEnd=async function(t=xe.concat){let e=[];for(;;){let{done:r,value:n}=await this.read();if(r)break;e.push(n)}return t(e)};var{ReadableStream:di,WritableStream:Fh,TransformStream:Nf}=ut.TransformStream?ut:{ReadableStream:m0,WritableStream:yf,TransformStream:gh},Nh=ut.ReadableStream&&di!==ut.ReadableStream&&Mh(di),g0=ao&&void"buffer".Buffer;function oo(t){let e=Qr(t);return e==="node"?Ff(t):e==="web"&&Nh?Nh(t):e?t:new di({start(r){r.enqueue(t),r.close()}})}function v0(t){return t.some(Qr)?Oh(t):typeof t[0]=="string"?t.join(""):g0&&g0.isBuffer(t[0])?g0.concat(t):Dh(t)}function Oh(t){t=t.map(oo);let e=qh(async function(i){await Promise.all(n.map(a=>Lh(a,i)))}),r=Promise.resolve(),n=t.map((i,a)=>co(i,(s,o)=>(r=r.then(()=>w0(s,e.writable,{preventClose:a!==t.length-1})),r)));return e.readable}function fo(t){return new Tn(t)}function Of(t){let e=t.getWriter(),r=e.releaseLock;return e.releaseLock=()=>{e.closed.catch(function(){}),r.call(e)},e}async function w0(t,e,r){t=oo(t);try{if(t[gt]){let n=Of(e);for(let i=0;i<t[gt].length;i++)await n.ready,await n.write(t[gt][i]);n.releaseLock()}return await t.pipeTo(e,r)}catch(n){}}function qf(t,e){let r=new Nf(e);return w0(t,r.writable),r.readable}function qh(t){let e=!1,r,n;return{readable:new di({start(i){n=i},pull(){r?r():e=!0},cancel:t},{highWaterMark:0}),writable:new Fh({write:async function(i){n.enqueue(i),e?e=!1:(await new Promise(a=>{r=a}),r=null)},close:n.close.bind(n),abort:n.error.bind(n)})}}function Lf(t,e=()=>{},r=()=>{}){if(Qr(t))return qf(t,{async transform(a,s){try{let o=await e(a);o!==void 0&&s.enqueue(o)}catch(o){s.error(o)}},async flush(a){try{let s=await r();s!==void 0&&a.enqueue(s)}catch(s){a.error(s)}}});let n=e(t),i=r();return n!==void 0&&i!==void 0?v0([n,i]):n!==void 0?n:i}function co(t,e){let r,n=new Nf({start(s){r=s}}),i=w0(t,n.writable),a=qh(async function(){r.error(new Error("Readable side was canceled.")),await i,await new Promise(setTimeout)});return e(n.readable,a.writable),a.readable}function p5(t,e){let r,n=co(t,(i,a)=>{let s=fo(i);s.remainder=()=>(s.releaseLock(),w0(i,a),n),r=e(s)});return r}function x5(t){if(Qr(t)){let e=oo(t).tee();return e[0][gt]=e[1][gt]=t[gt],e}return[en(t),en(t)]}function y5(t){if(Qr(t)){let e=x5(t);return jh(t,e[0]),e[1]}return en(t)}function m5(t){return Qr(t)?new di({start(e){let r=co(t,async(n,i)=>{let a=fo(n),s=Of(i);try{for(;;){await s.ready;let{done:o,value:f}=await a.read();if(o){try{e.close()}catch(c){}await s.close();return}try{e.enqueue(f)}catch(c){}await s.write(f)}}catch(o){e.error(o),await s.abort(o)}});jh(t,r)}}):en(t)}function jh(t,e){Object.entries(Object.getOwnPropertyDescriptors(di.prototype)).forEach(([r,n])=>{r!=="constructor"&&(n.value?n.value=n.value.bind(e):n.get=n.get.bind(e),Object.defineProperty(t,r,n))})}function en(t,e=0,r=Infinity){if(Qr(t)){if(e>=0&&r>=0){let n=0;return qf(t,{transform(i,a){n<r?(n+i.length>=e&&a.enqueue(en(i,Math.max(e-n,0),r-n)),n+=i.length):a.terminate()}})}if(e<0&&(r<0||r===Infinity)){let n=[];return Lf(t,i=>{i.length>=-e?n=[i]:n.push(i)},()=>en(v0(n),e,r))}if(e===0&&r<0){let n;return Lf(t,i=>{let a=n?v0([n,i]):i;if(a.length>=-r)return n=en(a,r),en(a,e,r);n=a})}return console.warn(`stream.slice(input, ${e}, ${r}) not implemented efficiently.`),Wh(async()=>en(await Hh(t),e,r))}return t[gt]&&(t=v0(t[gt].concat([t]))),so(t)&&!(g0&&g0.isBuffer(t))?(r===Infinity&&(r=t.length),t.subarray(e,r)):t.slice(e,r)}async function Hh(t,e){return Qr(t)?fo(t).readToEnd(e):t}async function Lh(t,e){if(Qr(t)&&t.cancel)return t.cancel(e)}function Wh(t){return new di({pull:async e=>{try{e.enqueue(await t()),e.close()}catch(r){e.error(r)}}})}var xe={ReadableStream:di,WritableStream:Fh,TransformStream:Nf,isStream:Qr,isUint8Array:so,toStream:oo,concatUint8Array:Dh,concatStream:Oh,concat:v0,getReader:fo,getWriter:Of,pipe:w0,transformRaw:qf,transform:Lf,transformPair:co,parse:p5,clone:y5,passiveClone:m5,slice:en,readToEnd:Hh,cancel:Lh,fromAsync:Wh,nodeToWeb:Ff,webToNode:Uh},er=class{constructor(e){if(e===void 0)throw new Error("Invalid BigInteger input");if(e instanceof Uint8Array){let r=e,n=new Array(r.length);for(let i=0;i<r.length;i++){let a=r[i].toString(16);n[i]=r[i]<=15?"0"+a:a}this.value=BigInt("0x0"+n.join(""))}else this.value=BigInt(e)}clone(){return new er(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,r){if(r.isZero())throw Error("Modulo cannot be zero");if(r.isOne())return new er(0);if(e.isNegative())throw Error("Unsopported negative exponent");let n=e.value,i=this.value;i%=r.value;let a=BigInt(1);for(;n>BigInt(0);){let s=n&BigInt(1);n>>=BigInt(1);let o=a*i%r.value;a=s?o:a,i=i*i%r.value}return new er(a)}modInv(e){let{gcd:r,x:n}=this._egcd(e);if(!r.isOne())throw new Error("Inverse does not exist");return n.add(e).mod(e)}_egcd(e){let r=BigInt(0),n=BigInt(1),i=BigInt(1),a=BigInt(0),s=this.value;for(e=e.value;e!==BigInt(0);){let o=s/e,f=r;r=i-o*r,i=f,f=n,n=a-o*n,a=f,f=e,e=s%e,s=f}return{x:new er(i),y:new er(a),gcd:new er(s)}}gcd(e){let r=this.value;for(e=e.value;e!==BigInt(0);){let n=e;e=r%e,r=n}return new er(r)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){let e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){let e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw new Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){let e=new er(0),r=new er(1),n=new er(-1),i=this.isNegative()?n:e,a=1,s=this.clone();for(;!s.irightShift(r).equal(i);)a++;return a}byteLength(){let e=new er(0),r=new er(-1),n=this.isNegative()?r:e,i=new er(8),a=1,s=this.clone();for(;!s.irightShift(i).equal(n);)a++;return a}toUint8Array(e="be",r){let n=this.value.toString(16);n.length%2==1&&(n="0"+n);let i=n.length/2,a=new Uint8Array(r||i),s=r?r-i:0,o=0;for(;o<i;)a[o+s]=parseInt(n.slice(2*o,2*o+2),16),o++;return e!=="be"&&a.reverse(),a}};async function v5(){if(P.detectBigInt())return er;{let{default:t}=await Promise.resolve().then(function(){return g5});return t}}var uo=ut.process&&ut.process.env.NODE_ENV==="development",P={isString:function(t){return typeof t=="string"||String.prototype.isPrototypeOf(t)},isArray:function(t){return Array.prototype.isPrototypeOf(t)},isBigInteger:function(t){return t!==null&&typeof t=="object"&&t.value&&(typeof t.value=="bigint"||this.isBN(t.value))},isBN:function(t){return t!==null&&typeof t=="object"&&(t.constructor.name==="BN"||t.constructor.wordSize===26&&Array.isArray(t.words))},isUint8Array:xe.isUint8Array,isStream:xe.isStream,restoreStreams:function(t,e){return Object.prototype.toString.call(t)==="[object MessagePort]"?new(e==="web"?ut.ReadableStream:xe.ReadableStream)({pull(r){return new Promise(n=>{t.onmessage=i=>{let{done:a,value:s,error:o}=i.data;o?r.error(new Error(o)):a?r.close():r.enqueue(s),n()},t.postMessage({action:"read"})})},cancel(){return new Promise(r=>{t.onmessage=r,t.postMessage({action:"cancel"})})}},{highWaterMark:0}):(Object.prototype.isPrototypeOf(t)&&!Uint8Array.prototype.isPrototypeOf(t)&&Object.entries(t).forEach(([r,n])=>{t[r]=P.restoreStreams(n,e)}),t)},readNumber:function(t){let e=0;for(let r=0;r<t.length;r++)e+=256**r*t[t.length-1-r];return e},writeNumber:function(t,e){let r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t>>8*(e-n-1)&255;return r},readDate:function(t){let e=P.readNumber(t);return new Date(e*1e3)},writeDate:function(t){let e=Math.floor(t.getTime()/1e3);return P.writeNumber(e,4)},normalizeDate:function(t=Date.now()){return t===null||t===Infinity?t:new Date(Math.floor(+t/1e3)*1e3)},strToHex:function(t){if(t===null)return"";let e=[],r=t.length,n=0,i;for(;n<r;){for(i=t.charCodeAt(n++).toString(16);i.length<2;)i="0"+i;e.push(""+i)}return e.join("")},hexToStr:function(t){let e="";for(let r=0;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},readMPI:function(t){let r=(t[0]<<8|t[1])+7>>>3;return t.subarray(2,2+r)},leftPad(t,e){let r=new Uint8Array(e),n=e-t.length;return r.set(t,n),r},uint8ArrayToMpi:function(t){let e;for(e=0;e<t.length&&t[e]===0;e++);if(e===t.length)throw new Error("Zero MPI");let r=t.subarray(e),n=(r.length-1)*8+P.nbits(r[0]),i=Uint8Array.from([(n&65280)>>8,n&255]);return P.concatUint8Array([i,r])},hexToUint8Array:function(t){let e=new Uint8Array(t.length>>1);for(let r=0;r<t.length>>1;r++)e[r]=parseInt(t.substr(r<<1,2),16);return e},uint8ArrayToHex:function(t){let e=[],r=t.length,n=0,i;for(;n<r;){for(i=t[n++].toString(16);i.length<2;)i="0"+i;e.push(""+i)}return e.join("")},strToUint8Array:function(t){return xe.transform(t,e=>{if(!P.isString(e))throw new Error("strToUint8Array: Data must be in the form of a string");let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r})},uint8ArrayToStr:function(t){t=new Uint8Array(t);let e=[],r=1<<14,n=t.length;for(let i=0;i<n;i+=r)e.push(String.fromCharCode.apply(String,t.subarray(i,i+r<n?i+r:n)));return e.join("")},encodeUtf8:function(t){let e=new TextEncoder("utf-8");function r(n,i=!1){return e.encode(n,{stream:!i})}return xe.transform(t,r,()=>r("",!0))},decodeUtf8:function(t){let e=new TextDecoder("utf-8");function r(n,i=!1){return e.decode(n,{stream:!i})}return xe.transform(t,r,()=>r(new Uint8Array,!0))},concat:xe.concat,concatUint8Array:xe.concatUint8Array,equalsUint8Array:function(t,e){if(!P.isUint8Array(t)||!P.isUint8Array(e))throw new Error("Data must be in the form of a Uint8Array");if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},writeChecksum:function(t){let e=0;for(let r=0;r<t.length;r++)e=e+t[r]&65535;return P.writeNumber(e,2)},printDebug:function(t){uo&&console.log(t)},printDebugHexArrayDump:function(t,e){uo&&(t+=": "+P.uint8ArrayToHex(e),console.log(t))},printDebugHexStrDump:function(t,e){uo&&(t+=P.strToHex(e),console.log(t))},printDebugError:function(t){uo&&console.error(t)},printEntireStream:function(t,e,r){xe.readToEnd(xe.clone(e),r).then(n=>{console.log(t+": ",n)})},nbits:function(t){let e=1,r=t>>>16;return r!==0&&(t=r,e+=16),r=t>>8,r!==0&&(t=r,e+=8),r=t>>4,r!==0&&(t=r,e+=4),r=t>>2,r!==0&&(t=r,e+=2),r=t>>1,r!==0&&(t=r,e+=1),e},double:function(t){let e=new Uint8Array(t.length),r=t.length-1;for(let n=0;n<r;n++)e[n]=t[n]<<1^t[n+1]>>7;return e[r]=t[r]<<1^(t[0]>>7)*135,e},shiftRight:function(t,e){if(e)for(let r=t.length-1;r>=0;r--)t[r]>>=e,r>0&&(t[r]|=t[r-1]<<8-e);return t},getWebCrypto:function(){return typeof ut!="undefined"&&ut.crypto&&ut.crypto.subtle},detectNode:function(){return typeof ut.process=="object"&&typeof ut.process.versions=="object"},detectBigInt:()=>typeof BigInt!="undefined",getBigInteger:v5,getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getNodeStream:function(){return{}.Readable},getHardwareConcurrency:function(){return P.detectNode()?(void 0).cpus().length:navigator.hardwareConcurrency||1},isEmailAddress:function(t){return P.isString(t)?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(t):!1},canonicalizeEOL:function(t){let e=13,r=10,n=!1;return xe.transform(t,i=>{n&&(i=P.concatUint8Array([new Uint8Array([e]),i])),i[i.length-1]===e?(n=!0,i=i.subarray(0,-1)):n=!1;let a,s=[];for(let c=0;a=i.indexOf(r,c)+1,a;c=a)i[a-2]!==e&&s.push(a);if(!s.length)return i;let o=new Uint8Array(i.length+s.length),f=0;for(let c=0;c<s.length;c++){let d=i.subarray(s[c-1]||0,s[c]);o.set(d,f),f+=d.length,o[f-1]=e,o[f]=r,f++}return o.set(i.subarray(s[s.length-1]||0),f),o},()=>n?new Uint8Array([e]):void 0)},nativeEOL:function(t){let e=13,r=10,n=!1;return xe.transform(t,i=>{n&&i[0]!==r?i=P.concatUint8Array([new Uint8Array([e]),i]):i=new Uint8Array(i),i[i.length-1]===e?(n=!0,i=i.subarray(0,-1)):n=!1;let a,s=0;for(let o=0;o!==i.length;o=a){a=i.indexOf(e,o)+1,a||(a=i.length);let f=a-(i[a]===r?1:0);o&&i.copyWithin(s,o,f),s+=f-o}return i.subarray(0,s)},()=>n?new Uint8Array([e]):void 0)},removeTrailingSpaces:function(t){return t.split(`
`).map(e=>{let r=e.length-1;for(;r>=0&&(e[r]===" "||e[r]==="	");r--);return e.substr(0,r+1)}).join(`
`)},wrapError:function(t,e){if(!e)return new Error(t);try{e.message=t+": "+e.message}catch(r){}return e}},jf=P.getNodeBuffer(),lo,ho;jf?(lo=t=>jf.from(t).toString("base64"),ho=t=>{let e=jf.from(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}):(lo=t=>btoa(P.uint8ArrayToStr(t)),ho=t=>P.strToUint8Array(atob(t)));function Bn(t){let e=new Uint8Array;return xe.transform(t,r=>{e=P.concatUint8Array([e,r]);let n=[],i=45,a=Math.floor(e.length/i),s=a*i,o=lo(e.subarray(0,s));for(let f=0;f<a;f++)n.push(o.substr(f*60,60)),n.push(`
`);return e=e.subarray(s),n.join("")},()=>e.length?lo(e)+`
`:"")}function $h(t){let e="";return xe.transform(t,r=>{e+=r;let n=0,i=[" ","	","\r",`
`];for(let o=0;o<i.length;o++){let f=i[o];for(let c=e.indexOf(f);c!==-1;c=e.indexOf(f,c+1))n++}let a=e.length;for(;a>0&&(a-n)%4!=0;a--)i.includes(e[a])&&n--;let s=ho(e.substr(0,a));return e=e.substr(a),s},()=>ho(e))}function In(t){return $h(t.replace(/-/g,"+").replace(/_/g,"/"))}function vr(t,e){let r=Bn(t).replace(/[\r\n]/g,"");return e&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}var _0=Symbol("byValue"),g={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGcm:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,AEADEncryptedData:20},literal:{binary:"b".charCodeAt(),text:"t".charCodeAt(),utf8:"u".charCodeAt(),mime:"m".charCodeAt()},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserId:25,policyUri:26,keyFlags:27,signersUserId:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAeadAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIdInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(t,e){if(typeof e=="number"&&(e=this.read(t,e)),t[e]!==void 0)return t[e];throw new Error("Invalid enum value.")},read:function(t,e){if(t[_0]||(t[_0]=[],Object.entries(t).forEach(([r,n])=>{t[_0][n]=r})),t[_0][e]!==void 0)return t[_0][e];throw new Error("Invalid enum value.")}},Ce={preferHashAlgorithm:g.hash.sha256,encryptionCipher:g.symmetric.aes256,compression:g.compression.uncompressed,deflateLevel:6,aeadProtect:!1,aeadMode:g.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRsaBits:2048,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,minBytesForWebCrypto:1e3,tolerant:!0,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.0.0-1",commentString:"https://openpgpjs.org",maxUseridLength:1024*5,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new ut.Set([g.hash.md5,g.hash.ripemd]),rejectMessageHashAlgorithms:new ut.Set([g.hash.md5,g.hash.ripemd,g.hash.sha1])};function w5(t){let e=/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m,r=t.match(e);if(!r)throw new Error("Unknown ASCII armor type");if(/MESSAGE, PART \d+\/\d+/.test(r[1]))return g.armor.multipartSection;if(/MESSAGE, PART \d+/.test(r[1]))return g.armor.multipartLast;if(/SIGNED MESSAGE/.test(r[1]))return g.armor.signed;if(/MESSAGE/.test(r[1]))return g.armor.message;if(/PUBLIC KEY BLOCK/.test(r[1]))return g.armor.publicKey;if(/PRIVATE KEY BLOCK/.test(r[1]))return g.armor.privateKey;if(/SIGNATURE/.test(r[1]))return g.armor.signature}function ra(t,e){let r="";return e.showVersion&&(r+="Version: "+e.versionString+`
`),e.showComment&&(r+="Comment: "+e.commentString+`
`),t&&(r+="Comment: "+t+`
`),r+=`
`,r}function ui(t){let e=_5(t);return Bn(e)}var Ot=[new Array(255),new Array(255),new Array(255),new Array(255)];for(let t=0;t<=255;t++){let e=t<<16;for(let r=0;r<8;r++)e=e<<1^((e&8388608)!=0?8801531:0);Ot[0][t]=(e&16711680)>>16|e&65280|(e&255)<<16}for(let t=0;t<=255;t++)Ot[1][t]=Ot[0][t]>>8^Ot[0][Ot[0][t]&255];for(let t=0;t<=255;t++)Ot[2][t]=Ot[1][t]>>8^Ot[0][Ot[1][t]&255];for(let t=0;t<=255;t++)Ot[3][t]=Ot[2][t]>>8^Ot[0][Ot[2][t]&255];var A5=function(){let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,255,!0),new Int16Array(t)[0]===255}();function _5(t){let e=13501623;return xe.transform(t,r=>{let n=A5?Math.floor(r.length/4):0,i=new Uint32Array(r.buffer,r.byteOffset,n);for(let a=0;a<n;a++)e^=i[a],e=Ot[0][e>>24&255]^Ot[1][e>>16&255]^Ot[2][e>>8&255]^Ot[3][e>>0&255];for(let a=n*4;a<r.length;a++)e=e>>8^Ot[0][e&255^r[a]]},()=>new Uint8Array([e,e>>8,e>>16]))}function Yh(t){for(let e=0;e<t.length;e++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(t[e]))throw new Error("Improperly formatted armor header: "+t[e]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(t[e])||P.printDebugError(new Error("Unknown header: "+t[e]))}}function k5(t){let e=t,r="",n=t.lastIndexOf("=");return n>=0&&n!==t.length-1&&(e=t.slice(0,n),r=t.slice(n+1).substr(0,4)),{body:e,checksum:r}}function bo(t,e=Ce){return new Promise(async(r,n)=>{try{let i=/^-----[^-]+-----$/m,a=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/,s,o=[],f=o,c,d=[],u,p,x=$h(xe.transformPair(t,async(S,E)=>{let H=xe.getReader(S);try{for(;;){let ee=await H.readLine();if(ee===void 0)throw new Error("Misformed armored text");if(ee=P.removeTrailingSpaces(ee.replace(/[\r\n]/g,"")),!s)i.test(ee)&&(s=w5(ee));else if(c)!u&&s===2&&(i.test(ee)?(d=d.join(`\r
`),u=!0,Yh(f),f=[],c=!1):d.push(ee.replace(/^- /,"")));else if(i.test(ee)&&n(new Error("Mandatory blank line missing between armor headers and armor data")),!a.test(ee))f.push(ee);else if(Yh(f),c=!0,u||s!==2){r({text:d,data:x,headers:o,type:s});break}}}catch(ee){n(ee);return}let K=xe.getWriter(E);try{for(;;){await K.ready;let{done:ee,value:ie}=await H.read();if(ee)throw new Error("Misformed armored text");let F=ie+"";if(F.indexOf("=")===-1&&F.indexOf("-")===-1)await K.write(F);else{let V=await H.readToEnd();V.length||(V=""),V=F+V,V=P.removeTrailingSpaces(V.replace(/\r/g,""));let re=V.split(i);if(re.length===1)throw new Error("Misformed armored text");let te=k5(re[0].slice(0,-1));p=te.checksum,await K.write(te.body);break}}await K.ready,await K.close()}catch(ee){await K.abort(ee)}}));x=xe.transformPair(x,async(S,E)=>{let H=xe.readToEnd(ui(xe.passiveClone(S)));H.catch(()=>{}),await xe.pipe(S,E,{preventClose:!0});let K=xe.getWriter(E);try{let ee=(await H).replace(`
`,"");if(p!==ee&&(p||e.checksumRequired))throw new Error("Ascii armor integrity check on message failed: '"+p+"' should be '"+ee+"'");await K.ready,await K.close()}catch(ee){await K.abort(ee)}})}catch(i){n(i)}})}function po(t,e,r,n,i,a=Ce){let s,o;t===g.armor.signed&&(s=e.text,o=e.hash,e=e.data);let f=xe.passiveClone(e),c=[];switch(t){case g.armor.multipartSection:c.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+`-----
`),c.push(ra(i,a)),c.push(Bn(e)),c.push("=",ui(f)),c.push("-----END PGP MESSAGE, PART "+r+"/"+n+`-----
`);break;case g.armor.multipartLast:c.push("-----BEGIN PGP MESSAGE, PART "+r+`-----
`),c.push(ra(i,a)),c.push(Bn(e)),c.push("=",ui(f)),c.push("-----END PGP MESSAGE, PART "+r+`-----
`);break;case g.armor.signed:c.push(`
-----BEGIN PGP SIGNED MESSAGE-----
`),c.push("Hash: "+o+`

`),c.push(s.replace(/^-/gm,"- -")),c.push(`
-----BEGIN PGP SIGNATURE-----
`),c.push(ra(i,a)),c.push(Bn(e)),c.push("=",ui(f)),c.push(`-----END PGP SIGNATURE-----
`);break;case g.armor.message:c.push(`-----BEGIN PGP MESSAGE-----
`),c.push(ra(i,a)),c.push(Bn(e)),c.push("=",ui(f)),c.push(`-----END PGP MESSAGE-----
`);break;case g.armor.publicKey:c.push(`-----BEGIN PGP PUBLIC KEY BLOCK-----
`),c.push(ra(i,a)),c.push(Bn(e)),c.push("=",ui(f)),c.push(`-----END PGP PUBLIC KEY BLOCK-----
`);break;case g.armor.privateKey:c.push(`-----BEGIN PGP PRIVATE KEY BLOCK-----
`),c.push(ra(i,a)),c.push(Bn(e)),c.push("=",ui(f)),c.push(`-----END PGP PRIVATE KEY BLOCK-----
`);break;case g.armor.signature:c.push(`-----BEGIN PGP SIGNATURE-----
`),c.push(ra(i,a)),c.push(Bn(e)),c.push("=",ui(f)),c.push(`-----END PGP SIGNATURE-----
`);break}return P.concat(c)}var Dn=class{constructor(){this.bytes=""}read(e){this.bytes=P.uint8ArrayToStr(e.subarray(0,8))}write(){return P.strToUint8Array(this.bytes)}toHex(){return P.strToHex(this.bytes)}equals(e,r=!1){return r&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return this.bytes===""}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromId(e){let r=new Dn;return r.read(P.hexToUint8Array(e)),r}static wildcard(){let e=new Dn;return e.read(new Uint8Array(8)),e}};var Qe=function(){var t=!1,e,r;function n(){e=[],r=[];var x=1,S,E;for(S=0;S<255;S++)e[S]=x,E=x&128,x<<=1,x&=255,E===128&&(x^=27),x^=e[S],r[e[S]]=S;e[255]=e[0],r[0]=0,t=!0}function i(x,S){var E=e[(r[x]+r[S])%255];return(x===0||S===0)&&(E=0),E}function a(x){var S=e[255-r[x]];return x===0&&(S=0),S}var s=!1,o,f,c,d;function u(){t||n();function x(K){var ee,ie,F;for(ie=F=a(K),ee=0;ee<4;ee++)ie=(ie<<1|ie>>>7)&255,F^=ie;return F^=99,F}o=[],f=[],c=[[],[],[],[]],d=[[],[],[],[]];for(var S=0;S<256;S++){var E=x(S);o[S]=E,f[E]=S,c[0][S]=i(2,E)<<24|E<<16|E<<8|i(3,E),d[0][E]=i(14,S)<<24|i(9,S)<<16|i(13,S)<<8|i(11,S);for(var H=1;H<4;H++)c[H][S]=c[H-1][S]>>>8|c[H-1][S]<<24,d[H][E]=d[H-1][E]>>>8|d[H-1][E]<<24}s=!0}var p=function(x,S){s||u();var E=new Uint32Array(S);E.set(o,2048>>2),E.set(f,3072>>2);for(var H=0;H<4;H++)E.set(c[H],4096+1024*H>>2),E.set(d[H],8192+1024*H>>2);function K(F,V,re,te,X,se,M,l,m){var y=E.subarray(0,60),B=E.subarray(256,256+60);y.set([V,re,te,X,se,M,l,m]);for(var O=F,Z=1;O<4*F+28;O++){var T=y[O-1];(O%F==0||F===8&&O%F==4)&&(T=o[T>>>24]<<24^o[T>>>16&255]<<16^o[T>>>8&255]<<8^o[T&255]),O%F==0&&(T=T<<8^T>>>24^Z<<24,Z=Z<<1^(Z&128?27:0)),y[O]=y[O-F]^T}for(var C=0;C<O;C+=4)for(var b=0;b<4;b++){var T=y[O-(4+C)+(4-b)%4];C<4||C>=O-4?B[C+b]=T:B[C+b]=d[0][o[T>>>24]]^d[1][o[T>>>16&255]]^d[2][o[T>>>8&255]]^d[3][o[T&255]]}ie.set_rounds(F+5)}var ee={Uint8Array,Uint32Array},ie=function(F,V,re){var te=0,X=0,se=0,M=0,l=0,m=0,y=0,B=0,O=0,Z=0,T=0,C=0,b=0,N=0,pe=0,ue=0,me=0,be=0,ve=0,L=0,oe=0,Q=new F.Uint32Array(re),J=new F.Uint8Array(re);function le(ne,ae,ce,fe,Be,Me,Te,Ve){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,Be=Be|0,Me=Me|0,Te=Te|0,Ve=Ve|0;var De=0,ze=0,st=0,je=0,$e=0,mt=0,et=0,Ke=0;for(De=ce|1024,ze=ce|2048,st=ce|3072,Be=Be^Q[(ne|0)>>2],Me=Me^Q[(ne|4)>>2],Te=Te^Q[(ne|8)>>2],Ve=Ve^Q[(ne|12)>>2],Ke=16;(Ke|0)<=fe<<4;Ke=Ke+16|0)je=Q[(ce|Be>>22&1020)>>2]^Q[(De|Me>>14&1020)>>2]^Q[(ze|Te>>6&1020)>>2]^Q[(st|Ve<<2&1020)>>2]^Q[(ne|Ke|0)>>2],$e=Q[(ce|Me>>22&1020)>>2]^Q[(De|Te>>14&1020)>>2]^Q[(ze|Ve>>6&1020)>>2]^Q[(st|Be<<2&1020)>>2]^Q[(ne|Ke|4)>>2],mt=Q[(ce|Te>>22&1020)>>2]^Q[(De|Ve>>14&1020)>>2]^Q[(ze|Be>>6&1020)>>2]^Q[(st|Me<<2&1020)>>2]^Q[(ne|Ke|8)>>2],et=Q[(ce|Ve>>22&1020)>>2]^Q[(De|Be>>14&1020)>>2]^Q[(ze|Me>>6&1020)>>2]^Q[(st|Te<<2&1020)>>2]^Q[(ne|Ke|12)>>2],Be=je,Me=$e,Te=mt,Ve=et;te=Q[(ae|Be>>22&1020)>>2]<<24^Q[(ae|Me>>14&1020)>>2]<<16^Q[(ae|Te>>6&1020)>>2]<<8^Q[(ae|Ve<<2&1020)>>2]^Q[(ne|Ke|0)>>2],X=Q[(ae|Me>>22&1020)>>2]<<24^Q[(ae|Te>>14&1020)>>2]<<16^Q[(ae|Ve>>6&1020)>>2]<<8^Q[(ae|Be<<2&1020)>>2]^Q[(ne|Ke|4)>>2],se=Q[(ae|Te>>22&1020)>>2]<<24^Q[(ae|Ve>>14&1020)>>2]<<16^Q[(ae|Be>>6&1020)>>2]<<8^Q[(ae|Me<<2&1020)>>2]^Q[(ne|Ke|8)>>2],M=Q[(ae|Ve>>22&1020)>>2]<<24^Q[(ae|Be>>14&1020)>>2]<<16^Q[(ae|Me>>6&1020)>>2]<<8^Q[(ae|Te<<2&1020)>>2]^Q[(ne|Ke|12)>>2]}function ye(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,le(0,2048,4096,oe,ne,ae,ce,fe)}function we(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0;var Be=0;le(1024,3072,8192,oe,ne,fe,ce,ae),Be=X,X=M,M=Be}function k(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,le(0,2048,4096,oe,l^ne,m^ae,y^ce,B^fe),l=te,m=X,y=se,B=M}function v(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0;var Be=0;le(1024,3072,8192,oe,ne,fe,ce,ae),Be=X,X=M,M=Be,te=te^l,X=X^m,se=se^y,M=M^B,l=ne,m=ae,y=ce,B=fe}function R(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,le(0,2048,4096,oe,l,m,y,B),l=te=te^ne,m=X=X^ae,y=se=se^ce,B=M=M^fe}function U(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,le(0,2048,4096,oe,l,m,y,B),te=te^ne,X=X^ae,se=se^ce,M=M^fe,l=ne,m=ae,y=ce,B=fe}function w(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,le(0,2048,4096,oe,l,m,y,B),l=te,m=X,y=se,B=M,te=te^ne,X=X^ae,se=se^ce,M=M^fe}function _(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,le(0,2048,4096,oe,O,Z,T,C),C=~ue&C|ue&C+1,T=~pe&T|pe&T+((C|0)==0),Z=~N&Z|N&Z+((T|0)==0),O=~b&O|b&O+((Z|0)==0),te=te^ne,X=X^ae,se=se^ce,M=M^fe}function A(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0;var Be=0,Me=0,Te=0,Ve=0,De=0,ze=0,st=0,je=0,$e=0,mt=0;for(ne=ne^l,ae=ae^m,ce=ce^y,fe=fe^B,Be=me|0,Me=be|0,Te=ve|0,Ve=L|0;($e|0)<128;$e=$e+1|0)Be>>>31&&(De=De^ne,ze=ze^ae,st=st^ce,je=je^fe),Be=Be<<1|Me>>>31,Me=Me<<1|Te>>>31,Te=Te<<1|Ve>>>31,Ve=Ve<<1,mt=fe&1,fe=fe>>>1|ce<<31,ce=ce>>>1|ae<<31,ae=ae>>>1|ne<<31,ne=ne>>>1,mt&&(ne=ne^3774873600);l=De,m=ze,y=st,B=je}function h(ne){ne=ne|0,oe=ne}function q(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,te=ne,X=ae,se=ce,M=fe}function I(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,l=ne,m=ae,y=ce,B=fe}function D(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,O=ne,Z=ae,T=ce,C=fe}function z(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,b=ne,N=ae,pe=ce,ue=fe}function $(ne,ae,ce,fe){ne=ne|0,ae=ae|0,ce=ce|0,fe=fe|0,C=~ue&C|ue&fe,T=~pe&T|pe&ce,Z=~N&Z|N&ae,O=~b&O|b&ne}function j(ne){return ne=ne|0,ne&15?-1:(J[ne|0]=te>>>24,J[ne|1]=te>>>16&255,J[ne|2]=te>>>8&255,J[ne|3]=te&255,J[ne|4]=X>>>24,J[ne|5]=X>>>16&255,J[ne|6]=X>>>8&255,J[ne|7]=X&255,J[ne|8]=se>>>24,J[ne|9]=se>>>16&255,J[ne|10]=se>>>8&255,J[ne|11]=se&255,J[ne|12]=M>>>24,J[ne|13]=M>>>16&255,J[ne|14]=M>>>8&255,J[ne|15]=M&255,16)}function W(ne){return ne=ne|0,ne&15?-1:(J[ne|0]=l>>>24,J[ne|1]=l>>>16&255,J[ne|2]=l>>>8&255,J[ne|3]=l&255,J[ne|4]=m>>>24,J[ne|5]=m>>>16&255,J[ne|6]=m>>>8&255,J[ne|7]=m&255,J[ne|8]=y>>>24,J[ne|9]=y>>>16&255,J[ne|10]=y>>>8&255,J[ne|11]=y&255,J[ne|12]=B>>>24,J[ne|13]=B>>>16&255,J[ne|14]=B>>>8&255,J[ne|15]=B&255,16)}function G(){ye(0,0,0,0),me=te,be=X,ve=se,L=M}function Y(ne,ae,ce){ne=ne|0,ae=ae|0,ce=ce|0;var fe=0;if(ae&15)return-1;for(;(ce|0)>=16;)it[ne&7](J[ae|0]<<24|J[ae|1]<<16|J[ae|2]<<8|J[ae|3],J[ae|4]<<24|J[ae|5]<<16|J[ae|6]<<8|J[ae|7],J[ae|8]<<24|J[ae|9]<<16|J[ae|10]<<8|J[ae|11],J[ae|12]<<24|J[ae|13]<<16|J[ae|14]<<8|J[ae|15]),J[ae|0]=te>>>24,J[ae|1]=te>>>16&255,J[ae|2]=te>>>8&255,J[ae|3]=te&255,J[ae|4]=X>>>24,J[ae|5]=X>>>16&255,J[ae|6]=X>>>8&255,J[ae|7]=X&255,J[ae|8]=se>>>24,J[ae|9]=se>>>16&255,J[ae|10]=se>>>8&255,J[ae|11]=se&255,J[ae|12]=M>>>24,J[ae|13]=M>>>16&255,J[ae|14]=M>>>8&255,J[ae|15]=M&255,fe=fe+16|0,ae=ae+16|0,ce=ce-16|0;return fe|0}function Oe(ne,ae,ce){ne=ne|0,ae=ae|0,ce=ce|0;var fe=0;if(ae&15)return-1;for(;(ce|0)>=16;)Le[ne&1](J[ae|0]<<24|J[ae|1]<<16|J[ae|2]<<8|J[ae|3],J[ae|4]<<24|J[ae|5]<<16|J[ae|6]<<8|J[ae|7],J[ae|8]<<24|J[ae|9]<<16|J[ae|10]<<8|J[ae|11],J[ae|12]<<24|J[ae|13]<<16|J[ae|14]<<8|J[ae|15]),fe=fe+16|0,ae=ae+16|0,ce=ce-16|0;return fe|0}var it=[ye,we,k,v,R,U,w,_],Le=[k,A];return{set_rounds:h,set_state:q,set_iv:I,set_nonce:D,set_mask:z,set_counter:$,get_state:j,get_iv:W,gcm_init:G,cipher:Y,mac:Oe}}(ee,x,S);return ie.set_key=K,ie};return p.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},p.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},p.MAC={CBC:0,GCM:1},p.HEAP_DATA=16384,p}();function Gh(t){return t instanceof Uint8Array}function Hf(t,e){let r=t?t.byteLength:e||65536;if(r&4095||r<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return t=t||new Uint8Array(new ArrayBuffer(r)),t}function na(t,e,r,n,i){let a=t.length-e,s=a<i?a:i;return t.set(r.subarray(n,n+s),e),s}function li(...t){let e=t.reduce((i,a)=>i+a.length,0),r=new Uint8Array(e),n=0;for(let i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r}var xo=class extends Error{constructor(...e){super(...e)}},tn=class extends Error{constructor(...e){super(...e)}},yo=class extends Error{constructor(...e){super(...e)}},Vh=[],Zh=[],za=class{constructor(e,r,n=!0,i,a,s){this.pos=0,this.len=0,this.mode=i,this.pos=0,this.len=0,this.key=e,this.iv=r,this.padding=n,this.acquire_asm(a,s)}acquire_asm(e,r){return(this.heap===void 0||this.asm===void 0)&&(this.heap=e||Vh.pop()||Hf().subarray(Qe.HEAP_DATA),this.asm=r||Zh.pop()||new Qe(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(Vh.push(this.heap),Zh.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,r){let{asm:n}=this.acquire_asm(),i=e.length;if(i!==16&&i!==24&&i!==32)throw new tn("illegal key size");let a=new DataView(e.buffer,e.byteOffset,e.byteLength);if(n.set_key(i>>2,a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12),i>16?a.getUint32(16):0,i>16?a.getUint32(20):0,i>24?a.getUint32(24):0,i>24?a.getUint32(28):0),r!==void 0){if(r.length!==16)throw new tn("illegal iv size");let s=new DataView(r.buffer,r.byteOffset,r.byteLength);n.set_iv(s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12))}else n.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!Gh(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=Qe.ENC[this.mode],a=Qe.HEAP_DATA,s=this.pos,o=this.len,f=0,c=e.length||0,d=0,u=o+c&-16,p=0,x=new Uint8Array(u);for(;c>0;)p=na(r,s+o,e,f,c),o+=p,f+=p,c-=p,p=n.cipher(i,a+s,o),p&&x.set(r.subarray(s,s+p),d),d+=p,p<o?(s+=p,o-=p):(s=0,o=0);return this.pos=s,this.len=o,x}AES_Encrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=Qe.ENC[this.mode],i=Qe.HEAP_DATA,a=this.pos,s=this.len,o=16-s%16,f=s;if(this.hasOwnProperty("padding")){if(this.padding){for(let d=0;d<o;++d)e[a+s+d]=o;s+=o,f=s}else if(s%16)throw new tn("data length must be a multiple of the block size")}else s+=o;let c=new Uint8Array(f);return s&&r.cipher(n,i+a,s),f&&c.set(e.subarray(a,a+f)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!Gh(e))throw new TypeError("data isn't of expected type");let{heap:r,asm:n}=this.acquire_asm(),i=Qe.DEC[this.mode],a=Qe.HEAP_DATA,s=this.pos,o=this.len,f=0,c=e.length||0,d=0,u=o+c&-16,p=0,x=0;this.padding&&(p=o+c-u||16,u-=p);let S=new Uint8Array(u);for(;c>0;)x=na(r,s+o,e,f,c),o+=x,f+=x,c-=x,x=n.cipher(i,a+s,o-(c?0:p)),x&&S.set(r.subarray(s,s+x),d),d+=x,x<o?(s+=x,o-=x):(s=0,o=0);return this.pos=s,this.len=o,S}AES_Decrypt_finish(){let{heap:e,asm:r}=this.acquire_asm(),n=Qe.DEC[this.mode],i=Qe.HEAP_DATA,a=this.pos,s=this.len,o=s;if(s>0){if(s%16){if(this.hasOwnProperty("padding"))throw new tn("data length must be a multiple of the block size");s+=16-s%16}if(r.cipher(n,i+a,s),this.hasOwnProperty("padding")&&this.padding){let c=e[a+o-1];if(c<1||c>16||c>o)throw new yo("bad padding");let d=0;for(let u=c;u>1;u--)d|=c^e[a+o-u];if(d)throw new yo("bad padding");o-=c}}let f=new Uint8Array(o);return o>0&&f.set(e.subarray(a,a+o)),this.pos=0,this.len=0,this.release_asm(),f}},A0=class{static encrypt(e,r,n=!1){return new A0(r,n).encrypt(e)}static decrypt(e,r,n=!1){return new A0(r,n).decrypt(e)}constructor(e,r=!1,n){this.aes=n||new za(e,void 0,r,"ECB")}encrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return li(r,n)}decrypt(e){let r=this.aes.AES_Decrypt_process(e),n=this.aes.AES_Decrypt_finish();return li(r,n)}};function Wf(t){let e=function(r){let n=new A0(r);this.encrypt=function(i){return n.encrypt(i)},this.decrypt=function(i){return n.decrypt(i)}};return e.blockSize=e.prototype.blockSize=16,e.keySize=e.prototype.keySize=t/8,e}function k0(t,e,r,n,i,a){let s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],f=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],d=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],u=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],x=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],S=0,E,H,K,ee,ie,F,V,re,te,X,se,M,l,m,y=e.length,B=t.length===32?3:9;B===3?re=r?[0,32,2]:[30,-2,-2]:re=r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(e=S5(e,a),y=e.length);let O=new Uint8Array(y),Z=0;for(n===1&&(te=i[S++]<<24|i[S++]<<16|i[S++]<<8|i[S++],se=i[S++]<<24|i[S++]<<16|i[S++]<<8|i[S++],S=0);S<y;){for(F=e[S++]<<24|e[S++]<<16|e[S++]<<8|e[S++],V=e[S++]<<24|e[S++]<<16|e[S++]<<8|e[S++],n===1&&(r?(F^=te,V^=se):(X=te,M=se,te=F,se=V)),K=(F>>>4^V)&252645135,V^=K,F^=K<<4,K=(F>>>16^V)&65535,V^=K,F^=K<<16,K=(V>>>2^F)&858993459,F^=K,V^=K<<2,K=(V>>>8^F)&16711935,F^=K,V^=K<<8,K=(F>>>1^V)&1431655765,V^=K,F^=K<<1,F=F<<1|F>>>31,V=V<<1|V>>>31,H=0;H<B;H+=3){for(l=re[H+1],m=re[H+2],E=re[H];E!==l;E+=m)ee=V^t[E],ie=(V>>>4|V<<28)^t[E+1],K=F,F=V,V=K^(o[ee>>>24&63]|c[ee>>>16&63]|u[ee>>>8&63]|x[ee&63]|s[ie>>>24&63]|f[ie>>>16&63]|d[ie>>>8&63]|p[ie&63]);K=F,F=V,V=K}F=F>>>1|F<<31,V=V>>>1|V<<31,K=(F>>>1^V)&1431655765,V^=K,F^=K<<1,K=(V>>>8^F)&16711935,F^=K,V^=K<<8,K=(V>>>2^F)&858993459,F^=K,V^=K<<2,K=(F>>>16^V)&65535,V^=K,F^=K<<16,K=(F>>>4^V)&252645135,V^=K,F^=K<<4,n===1&&(r?(te=F,se=V):(F^=X,V^=M)),O[Z++]=F>>>24,O[Z++]=F>>>16&255,O[Z++]=F>>>8&255,O[Z++]=F&255,O[Z++]=V>>>24,O[Z++]=V>>>16&255,O[Z++]=V>>>8&255,O[Z++]=V&255}return r||(O=E5(O,a)),O}function S0(t){let e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],u=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],x=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],S=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],E=t.length>8?3:1,H=new Array(32*E),K=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],ee,ie,F=0,V=0,re;for(let te=0;te<E;te++){let X=t[F++]<<24|t[F++]<<16|t[F++]<<8|t[F++],se=t[F++]<<24|t[F++]<<16|t[F++]<<8|t[F++];re=(X>>>4^se)&252645135,se^=re,X^=re<<4,re=(se>>>-16^X)&65535,X^=re,se^=re<<-16,re=(X>>>2^se)&858993459,se^=re,X^=re<<2,re=(se>>>-16^X)&65535,X^=re,se^=re<<-16,re=(X>>>1^se)&1431655765,se^=re,X^=re<<1,re=(se>>>8^X)&16711935,X^=re,se^=re<<8,re=(X>>>1^se)&1431655765,se^=re,X^=re<<1,re=X<<8|se>>>20&240,X=se<<24|se<<8&16711680|se>>>8&65280|se>>>24&240,se=re;for(let M=0;M<K.length;M++)K[M]?(X=X<<2|X>>>26,se=se<<2|se>>>26):(X=X<<1|X>>>27,se=se<<1|se>>>27),X&=-15,se&=-15,ee=e[X>>>28]|r[X>>>24&15]|n[X>>>20&15]|i[X>>>16&15]|a[X>>>12&15]|s[X>>>8&15]|o[X>>>4&15],ie=f[se>>>28]|c[se>>>24&15]|d[se>>>20&15]|u[se>>>16&15]|p[se>>>12&15]|x[se>>>8&15]|S[se>>>4&15],re=(ie>>>16^ee)&65535,H[V++]=ee^re,H[V++]=ie^re<<16}return H}function S5(t,e){let r=8-t.length%8,n;if(e===2&&r<8)n=" ".charCodeAt(0);else if(e===1)n=r;else if(!e&&r<8)n=0;else{if(r===8)return t;throw new Error("des: invalid padding")}let i=new Uint8Array(t.length+r);for(let a=0;a<t.length;a++)i[a]=t[a];for(let a=0;a<r;a++)i[t.length+a]=n;return i}function E5(t,e){let r=null,n;if(e===2)n=" ".charCodeAt(0);else if(e===1)r=t[t.length-1];else if(!e)n=0;else throw new Error("des: invalid padding");if(!r){for(r=1;t[t.length-r]===n;)r++;r--}return t.subarray(0,t.length-r)}function E0(t){this.key=[];for(let e=0;e<3;e++)this.key.push(new Uint8Array(t.subarray(e*8,e*8+8)));this.encrypt=function(e){return k0(S0(this.key[2]),k0(S0(this.key[1]),k0(S0(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}E0.keySize=E0.prototype.keySize=24;E0.blockSize=E0.prototype.blockSize=8;function C5(t){this.key=t,this.encrypt=function(e,r){let n=S0(this.key);return k0(n,e,!0,0,null,r)},this.decrypt=function(e,r){let n=S0(this.key);return k0(n,e,!1,0,null,r)}}function P5(){this.BlockSize=8,this.KeySize=16,this.setKey=function(s){if(this.masking=new Array(16),this.rotate=new Array(16),this.reset(),s.length===this.KeySize)this.keySchedule(s);else throw new Error("CAST-128: keys must be 16 bytes");return!0},this.reset=function(){for(let s=0;s<16;s++)this.masking[s]=0,this.rotate[s]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(s){let o=new Array(s.length);for(let f=0;f<s.length;f+=8){let c=s[f]<<24|s[f+1]<<16|s[f+2]<<8|s[f+3],d=s[f+4]<<24|s[f+5]<<16|s[f+6]<<8|s[f+7],u;u=d,d=c^r(d,this.masking[0],this.rotate[0]),c=u,u=d,d=c^n(d,this.masking[1],this.rotate[1]),c=u,u=d,d=c^i(d,this.masking[2],this.rotate[2]),c=u,u=d,d=c^r(d,this.masking[3],this.rotate[3]),c=u,u=d,d=c^n(d,this.masking[4],this.rotate[4]),c=u,u=d,d=c^i(d,this.masking[5],this.rotate[5]),c=u,u=d,d=c^r(d,this.masking[6],this.rotate[6]),c=u,u=d,d=c^n(d,this.masking[7],this.rotate[7]),c=u,u=d,d=c^i(d,this.masking[8],this.rotate[8]),c=u,u=d,d=c^r(d,this.masking[9],this.rotate[9]),c=u,u=d,d=c^n(d,this.masking[10],this.rotate[10]),c=u,u=d,d=c^i(d,this.masking[11],this.rotate[11]),c=u,u=d,d=c^r(d,this.masking[12],this.rotate[12]),c=u,u=d,d=c^n(d,this.masking[13],this.rotate[13]),c=u,u=d,d=c^i(d,this.masking[14],this.rotate[14]),c=u,u=d,d=c^r(d,this.masking[15],this.rotate[15]),c=u,o[f]=d>>>24&255,o[f+1]=d>>>16&255,o[f+2]=d>>>8&255,o[f+3]=d&255,o[f+4]=c>>>24&255,o[f+5]=c>>>16&255,o[f+6]=c>>>8&255,o[f+7]=c&255}return o},this.decrypt=function(s){let o=new Array(s.length);for(let f=0;f<s.length;f+=8){let c=s[f]<<24|s[f+1]<<16|s[f+2]<<8|s[f+3],d=s[f+4]<<24|s[f+5]<<16|s[f+6]<<8|s[f+7],u;u=d,d=c^r(d,this.masking[15],this.rotate[15]),c=u,u=d,d=c^i(d,this.masking[14],this.rotate[14]),c=u,u=d,d=c^n(d,this.masking[13],this.rotate[13]),c=u,u=d,d=c^r(d,this.masking[12],this.rotate[12]),c=u,u=d,d=c^i(d,this.masking[11],this.rotate[11]),c=u,u=d,d=c^n(d,this.masking[10],this.rotate[10]),c=u,u=d,d=c^r(d,this.masking[9],this.rotate[9]),c=u,u=d,d=c^i(d,this.masking[8],this.rotate[8]),c=u,u=d,d=c^n(d,this.masking[7],this.rotate[7]),c=u,u=d,d=c^r(d,this.masking[6],this.rotate[6]),c=u,u=d,d=c^i(d,this.masking[5],this.rotate[5]),c=u,u=d,d=c^n(d,this.masking[4],this.rotate[4]),c=u,u=d,d=c^r(d,this.masking[3],this.rotate[3]),c=u,u=d,d=c^i(d,this.masking[2],this.rotate[2]),c=u,u=d,d=c^n(d,this.masking[1],this.rotate[1]),c=u,u=d,d=c^r(d,this.masking[0],this.rotate[0]),c=u,o[f]=d>>>24&255,o[f+1]=d>>>16&255,o[f+2]=d>>>8&255,o[f+3]=d&255,o[f+4]=c>>>24&255,o[f+5]=c>>16&255,o[f+6]=c>>8&255,o[f+7]=c&255}return o};let t=new Array(4);t[0]=new Array(4),t[0][0]=[4,0,13,15,12,14,8],t[0][1]=[5,2,16+0,16+2,16+1,16+3,10],t[0][2]=[6,3,16+7,16+6,16+5,16+4,9],t[0][3]=[7,1,16+10,16+9,16+11,16+8,11],t[1]=new Array(4),t[1][0]=[0,6,16+5,16+7,16+4,16+6,16+0],t[1][1]=[1,4,0,2,1,3,16+2],t[1][2]=[2,5,7,6,5,4,16+1],t[1][3]=[3,7,10,9,11,8,16+3],t[2]=new Array(4),t[2][0]=[4,0,13,15,12,14,8],t[2][1]=[5,2,16+0,16+2,16+1,16+3,10],t[2][2]=[6,3,16+7,16+6,16+5,16+4,9],t[2][3]=[7,1,16+10,16+9,16+11,16+8,11],t[3]=new Array(4),t[3][0]=[0,6,16+5,16+7,16+4,16+6,16+0],t[3][1]=[1,4,0,2,1,3,16+2],t[3][2]=[2,5,7,6,5,4,16+1],t[3][3]=[3,7,10,9,11,8,16+3];let e=new Array(4);e[0]=new Array(4),e[0][0]=[16+8,16+9,16+7,16+6,16+2],e[0][1]=[16+10,16+11,16+5,16+4,16+6],e[0][2]=[16+12,16+13,16+3,16+2,16+9],e[0][3]=[16+14,16+15,16+1,16+0,16+12],e[1]=new Array(4),e[1][0]=[3,2,12,13,8],e[1][1]=[1,0,14,15,13],e[1][2]=[7,6,8,9,3],e[1][3]=[5,4,10,11,7],e[2]=new Array(4),e[2][0]=[16+3,16+2,16+12,16+13,16+9],e[2][1]=[16+1,16+0,16+14,16+15,16+12],e[2][2]=[16+7,16+6,16+8,16+9,16+2],e[2][3]=[16+5,16+4,16+10,16+11,16+6],e[3]=new Array(4),e[3][0]=[8,9,7,6,3],e[3][1]=[10,11,5,4,7],e[3][2]=[12,13,3,2,8],e[3][3]=[14,15,1,0,13],this.keySchedule=function(s){let o=new Array(8),f=new Array(32),c;for(let x=0;x<4;x++)c=x*4,o[x]=s[c]<<24|s[c+1]<<16|s[c+2]<<8|s[c+3];let d=[6,7,4,5],u=0,p;for(let x=0;x<2;x++)for(let S=0;S<4;S++){for(c=0;c<4;c++){let E=t[S][c];p=o[E[1]],p^=a[4][o[E[2]>>>2]>>>24-8*(E[2]&3)&255],p^=a[5][o[E[3]>>>2]>>>24-8*(E[3]&3)&255],p^=a[6][o[E[4]>>>2]>>>24-8*(E[4]&3)&255],p^=a[7][o[E[5]>>>2]>>>24-8*(E[5]&3)&255],p^=a[d[c]][o[E[6]>>>2]>>>24-8*(E[6]&3)&255],o[E[0]]=p}for(c=0;c<4;c++){let E=e[S][c];p=a[4][o[E[0]>>>2]>>>24-8*(E[0]&3)&255],p^=a[5][o[E[1]>>>2]>>>24-8*(E[1]&3)&255],p^=a[6][o[E[2]>>>2]>>>24-8*(E[2]&3)&255],p^=a[7][o[E[3]>>>2]>>>24-8*(E[3]&3)&255],p^=a[4+c][o[E[4]>>>2]>>>24-8*(E[4]&3)&255],f[u]=p,u++}}for(let x=0;x<16;x++)this.masking[x]=f[x],this.rotate[x]=f[16+x]&31};function r(s,o,f){let c=o+s,d=c<<f|c>>>32-f;return(a[0][d>>>24]^a[1][d>>>16&255])-a[2][d>>>8&255]+a[3][d&255]}function n(s,o,f){let c=o^s,d=c<<f|c>>>32-f;return a[0][d>>>24]-a[1][d>>>16&255]+a[2][d>>>8&255]^a[3][d&255]}function i(s,o,f){let c=o-s,d=c<<f|c>>>32-f;return(a[0][d>>>24]+a[1][d>>>16&255]^a[2][d>>>8&255])-a[3][d&255]}let a=new Array(8);a[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],a[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],a[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],a[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],a[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],a[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],a[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],a[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function C0(t){this.cast5=new P5,this.cast5.setKey(t),this.encrypt=function(e){return this.cast5.encrypt(e)}}C0.blockSize=C0.prototype.blockSize=8;C0.keySize=C0.prototype.keySize=16;var Sr=4294967295;function rn(t,e){return(t<<e|t>>>32-e)&Sr}function Kn(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24}function hi(t,e,r){t.splice(e,4,r&255,r>>>8&255,r>>>16&255,r>>>24&255)}function Ze(t,e){return t>>>e*8&255}function R5(){let t=null,e=null,r=-1,n=[],i=[[],[],[],[]];function a(S){t=S;let E,H,K,ee,ie,F=[],V=[],re=[],te,X=[],se,M,l,m=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],y=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],B=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],O=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],Z=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],T=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],C=[[],[]],b=[[],[],[],[]];function N(ve){return ve^ve>>2^[0,90,180,238][ve&3]}function pe(ve){return ve^ve>>1^ve>>2^[0,238,180,90][ve&3]}function ue(ve,L){let oe,Q,J;for(oe=0;oe<8;oe++)Q=L>>>24,L=L<<8&Sr|ve>>>24,ve=ve<<8&Sr,J=Q<<1,Q&128&&(J^=333),L^=Q^J<<16,J^=Q>>>1,Q&1&&(J^=166),L^=J<<24|J<<8;return L}function me(ve,L){let oe=L>>4,Q=L&15,J=m[ve][oe^Q],le=y[ve][Z[Q]^T[oe]];return O[ve][Z[le]^T[J]]<<4|B[ve][J^le]}function be(ve,L){let oe=Ze(ve,0),Q=Ze(ve,1),J=Ze(ve,2),le=Ze(ve,3);switch(te){case 4:oe=C[1][oe]^Ze(L[3],0),Q=C[0][Q]^Ze(L[3],1),J=C[0][J]^Ze(L[3],2),le=C[1][le]^Ze(L[3],3);case 3:oe=C[1][oe]^Ze(L[2],0),Q=C[1][Q]^Ze(L[2],1),J=C[0][J]^Ze(L[2],2),le=C[0][le]^Ze(L[2],3);case 2:oe=C[0][C[0][oe]^Ze(L[1],0)]^Ze(L[0],0),Q=C[0][C[1][Q]^Ze(L[1],1)]^Ze(L[0],1),J=C[1][C[0][J]^Ze(L[1],2)]^Ze(L[0],2),le=C[1][C[1][le]^Ze(L[1],3)]^Ze(L[0],3)}return b[0][oe]^b[1][Q]^b[2][J]^b[3][le]}for(t=t.slice(0,32),E=t.length;E!==16&&E!==24&&E!==32;)t[E++]=0;for(E=0;E<t.length;E+=4)re[E>>2]=Kn(t,E);for(E=0;E<256;E++)C[0][E]=me(0,E),C[1][E]=me(1,E);for(E=0;E<256;E++)se=C[1][E],M=N(se),l=pe(se),b[0][E]=se+(M<<8)+(l<<16)+(l<<24),b[2][E]=M+(l<<8)+(se<<16)+(l<<24),se=C[0][E],M=N(se),l=pe(se),b[1][E]=l+(l<<8)+(M<<16)+(se<<24),b[3][E]=M+(se<<8)+(l<<16)+(M<<24);for(te=re.length/2,E=0;E<te;E++)H=re[E+E],F[E]=H,K=re[E+E+1],V[E]=K,X[te-E-1]=ue(H,K);for(E=0;E<40;E+=2)H=16843009*E,K=H+16843009,H=be(H,F),K=rn(be(K,V),8),n[E]=H+K&Sr,n[E+1]=rn(H+2*K,9);for(E=0;E<256;E++)switch(H=K=ee=ie=E,te){case 4:H=C[1][H]^Ze(X[3],0),K=C[0][K]^Ze(X[3],1),ee=C[0][ee]^Ze(X[3],2),ie=C[1][ie]^Ze(X[3],3);case 3:H=C[1][H]^Ze(X[2],0),K=C[1][K]^Ze(X[2],1),ee=C[0][ee]^Ze(X[2],2),ie=C[0][ie]^Ze(X[2],3);case 2:i[0][E]=b[0][C[0][C[0][H]^Ze(X[1],0)]^Ze(X[0],0)],i[1][E]=b[1][C[0][C[1][K]^Ze(X[1],1)]^Ze(X[0],1)],i[2][E]=b[2][C[1][C[0][ee]^Ze(X[1],2)]^Ze(X[0],2)],i[3][E]=b[3][C[1][C[1][ie]^Ze(X[1],3)]^Ze(X[0],3)]}}function s(S){return i[0][Ze(S,0)]^i[1][Ze(S,1)]^i[2][Ze(S,2)]^i[3][Ze(S,3)]}function o(S){return i[0][Ze(S,3)]^i[1][Ze(S,0)]^i[2][Ze(S,1)]^i[3][Ze(S,2)]}function f(S,E){let H=s(E[0]),K=o(E[1]);E[2]=rn(E[2]^H+K+n[4*S+8]&Sr,31),E[3]=rn(E[3],1)^H+2*K+n[4*S+9]&Sr,H=s(E[2]),K=o(E[3]),E[0]=rn(E[0]^H+K+n[4*S+10]&Sr,31),E[1]=rn(E[1],1)^H+2*K+n[4*S+11]&Sr}function c(S,E){let H=s(E[0]),K=o(E[1]);E[2]=rn(E[2],1)^H+K+n[4*S+10]&Sr,E[3]=rn(E[3]^H+2*K+n[4*S+11]&Sr,31),H=s(E[2]),K=o(E[3]),E[0]=rn(E[0],1)^H+K+n[4*S+8]&Sr,E[1]=rn(E[1]^H+2*K+n[4*S+9]&Sr,31)}function d(){n=[],i=[[],[],[],[]]}function u(S,E){e=S,r=E;let H=[Kn(e,r)^n[0],Kn(e,r+4)^n[1],Kn(e,r+8)^n[2],Kn(e,r+12)^n[3]];for(let K=0;K<8;K++)f(K,H);return hi(e,r,H[2]^n[4]),hi(e,r+4,H[3]^n[5]),hi(e,r+8,H[0]^n[6]),hi(e,r+12,H[1]^n[7]),r+=16,e}function p(S,E){e=S,r=E;let H=[Kn(e,r)^n[4],Kn(e,r+4)^n[5],Kn(e,r+8)^n[6],Kn(e,r+12)^n[7]];for(let K=7;K>=0;K--)c(K,H);hi(e,r,H[2]^n[0]),hi(e,r+4,H[3]^n[1]),hi(e,r+8,H[0]^n[2]),hi(e,r+12,H[1]^n[3]),r+=16}function x(){return e}return{name:"twofish",blocksize:128/8,open:a,close:d,encrypt:u,decrypt:p,finalize:x}}function P0(t){this.tf=R5(),this.tf.open(Array.from(t),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}P0.keySize=P0.prototype.keySize=32;P0.blockSize=P0.prototype.blockSize=16;function Kr(){}Kr.prototype.BLOCKSIZE=8;Kr.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];Kr.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];Kr.prototype.NN=16;Kr.prototype._clean=function(t){return t<0&&(t=(t&2147483647)+2147483648),t};Kr.prototype._F=function(t){let e,r=t&255;t>>>=8;let n=t&255;t>>>=8;let i=t&255;t>>>=8;let a=t&255;return e=this.sboxes[0][a]+this.sboxes[1][i],e^=this.sboxes[2][n],e+=this.sboxes[3][r],e};Kr.prototype._encrypt_block=function(t){let e=t[0],r=t[1],n;for(n=0;n<this.NN;++n){e^=this.parray[n],r=this._F(e)^r;let i=e;e=r,r=i}e^=this.parray[this.NN+0],r^=this.parray[this.NN+1],t[0]=this._clean(r),t[1]=this._clean(e)};Kr.prototype.encrypt_block=function(t){let e,r=[0,0],n=this.BLOCKSIZE/2;for(e=0;e<this.BLOCKSIZE/2;++e)r[0]=r[0]<<8|t[e+0]&255,r[1]=r[1]<<8|t[e+n]&255;this._encrypt_block(r);let i=[];for(e=0;e<this.BLOCKSIZE/2;++e)i[e+0]=r[0]>>>24-8*e&255,i[e+n]=r[1]>>>24-8*e&255;return i};Kr.prototype._decrypt_block=function(t){let e=t[0],r=t[1],n;for(n=this.NN+1;n>1;--n){e^=this.parray[n],r=this._F(e)^r;let i=e;e=r,r=i}e^=this.parray[1],r^=this.parray[0],t[0]=this._clean(r),t[1]=this._clean(e)};Kr.prototype.init=function(t){let e,r=0;for(this.parray=[],e=0;e<this.NN+2;++e){let i=0;for(let a=0;a<4;++a)i=i<<8|t[r]&255,++r>=t.length&&(r=0);this.parray[e]=this.PARRAY[e]^i}for(this.sboxes=[],e=0;e<4;++e)for(this.sboxes[e]=[],r=0;r<256;++r)this.sboxes[e][r]=this.SBOXES[e][r];let n=[0,0];for(e=0;e<this.NN+2;e+=2)this._encrypt_block(n),this.parray[e+0]=n[0],this.parray[e+1]=n[1];for(e=0;e<4;++e)for(r=0;r<256;r+=2)this._encrypt_block(n),this.sboxes[e][r+0]=n[0],this.sboxes[e][r+1]=n[1]};function R0(t){this.bf=new Kr,this.bf.init(t),this.encrypt=function(e){return this.bf.encrypt_block(e)}}R0.keySize=R0.prototype.keySize=16;R0.blockSize=R0.prototype.blockSize=8;var M5=Wf(128),T5=Wf(192),B5=Wf(256),I5=C5,D5=E0,K5=C0,U5=P0,z5=R0,F5=function(){throw new Error("IDEA symmetric-key algorithm not implemented")},Ur=Object.freeze({__proto__:null,aes128:M5,aes192:T5,aes256:B5,des:I5,tripledes:D5,cast5:K5,twofish:U5,blowfish:z5,idea:F5}),Xh=function(t,e,r){var n=0,i=0,a=0,s=0,o=0,f=0,c=0,d=0,u=0,p=0,x=0,S=0,E=0,H=0,K=0,ee=0,ie=0,F=new t.Uint8Array(r);function V(T,C,b,N,pe,ue,me,be,ve,L,oe,Q,J,le,ye,we){T=T|0,C=C|0,b=b|0,N=N|0,pe=pe|0,ue=ue|0,me=me|0,be=be|0,ve=ve|0,L=L|0,oe=oe|0,Q=Q|0,J=J|0,le=le|0,ye=ye|0,we=we|0;var k=0,v=0,R=0,U=0,w=0,_=0,A=0,h=0,q=0,I=0,D=0,z=0,$=0,j=0,W=0,G=0,Y=0,Oe=0,it=0,Le=0,ne=0,ae=0,ce=0,fe=0,Be=0,Me=0,Te=0,Ve=0,De=0,ze=0,st=0,je=0,$e=0,mt=0,et=0,Ke=0,Yt=0,rt=0,at=0,ur=0,He=0,Fe=0,xt=0,Ye=0,Ge=0,ot=0,qe=0,We=0,ct=0,dt=0,he=0,de=0,ge=0,ke=0,Se=0,Ue=0,zt=0,Rr=0,Vn=0,Zn=0,Xn=0,Jn=0,Qn=0,Ui=0,zi=0,Fi=0,Ni=0,gc=0,su=0,ou=0,cu=0;k=n,v=i,R=a,U=s,w=o,A=T+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=C+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=b+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=N+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=pe+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=ue+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=me+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=be+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=ve+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=L+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=oe+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=Q+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=J+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=le+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=ye+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,A=we+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=le^ve^b^T,h=_<<1|_>>>31,A=h+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ye^L^N^C,q=_<<1|_>>>31,A=q+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=we^oe^pe^b,I=_<<1|_>>>31,A=I+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=h^Q^ue^N,D=_<<1|_>>>31,A=D+(k<<5|k>>>27)+w+(v&R|~v&U)+1518500249|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=q^J^me^pe,z=_<<1|_>>>31,A=z+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=I^le^be^ue,$=_<<1|_>>>31,A=$+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=D^ye^ve^me,j=_<<1|_>>>31,A=j+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=z^we^L^be,W=_<<1|_>>>31,A=W+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=$^h^oe^ve,G=_<<1|_>>>31,A=G+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=j^q^Q^L,Y=_<<1|_>>>31,A=Y+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=W^I^J^oe,Oe=_<<1|_>>>31,A=Oe+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=G^D^le^Q,it=_<<1|_>>>31,A=it+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Y^z^ye^J,Le=_<<1|_>>>31,A=Le+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Oe^$^we^le,ne=_<<1|_>>>31,A=ne+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=it^j^h^ye,ae=_<<1|_>>>31,A=ae+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Le^W^q^we,ce=_<<1|_>>>31,A=ce+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ne^G^I^h,fe=_<<1|_>>>31,A=fe+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ae^Y^D^q,Be=_<<1|_>>>31,A=Be+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ce^Oe^z^I,Me=_<<1|_>>>31,A=Me+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=fe^it^$^D,Te=_<<1|_>>>31,A=Te+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Be^Le^j^z,Ve=_<<1|_>>>31,A=Ve+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Me^ne^W^$,De=_<<1|_>>>31,A=De+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Te^ae^G^j,ze=_<<1|_>>>31,A=ze+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Ve^ce^Y^W,st=_<<1|_>>>31,A=st+(k<<5|k>>>27)+w+(v^R^U)+1859775393|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=De^fe^Oe^G,je=_<<1|_>>>31,A=je+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ze^Be^it^Y,$e=_<<1|_>>>31,A=$e+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=st^Me^Le^Oe,mt=_<<1|_>>>31,A=mt+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=je^Te^ne^it,et=_<<1|_>>>31,A=et+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=$e^Ve^ae^Le,Ke=_<<1|_>>>31,A=Ke+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=mt^De^ce^ne,Yt=_<<1|_>>>31,A=Yt+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=et^ze^fe^ae,rt=_<<1|_>>>31,A=rt+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Ke^st^Be^ce,at=_<<1|_>>>31,A=at+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Yt^je^Me^fe,ur=_<<1|_>>>31,A=ur+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=rt^$e^Te^Be,He=_<<1|_>>>31,A=He+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=at^mt^Ve^Me,Fe=_<<1|_>>>31,A=Fe+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ur^et^De^Te,xt=_<<1|_>>>31,A=xt+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=He^Ke^ze^Ve,Ye=_<<1|_>>>31,A=Ye+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Fe^Yt^st^De,Ge=_<<1|_>>>31,A=Ge+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=xt^rt^je^ze,ot=_<<1|_>>>31,A=ot+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Ye^at^$e^st,qe=_<<1|_>>>31,A=qe+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Ge^ur^mt^je,We=_<<1|_>>>31,A=We+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ot^He^et^$e,ct=_<<1|_>>>31,A=ct+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=qe^Fe^Ke^mt,dt=_<<1|_>>>31,A=dt+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=We^xt^Yt^et,he=_<<1|_>>>31,A=he+(k<<5|k>>>27)+w+(v&R|v&U|R&U)-1894007588|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ct^Ye^rt^Ke,de=_<<1|_>>>31,A=de+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=dt^Ge^at^Yt,ge=_<<1|_>>>31,A=ge+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=he^ot^ur^rt,ke=_<<1|_>>>31,A=ke+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=de^qe^He^at,Se=_<<1|_>>>31,A=Se+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ge^We^Fe^ur,Ue=_<<1|_>>>31,A=Ue+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=ke^ct^xt^He,zt=_<<1|_>>>31,A=zt+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Se^dt^Ye^Fe,Rr=_<<1|_>>>31,A=Rr+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Ue^he^Ge^xt,Vn=_<<1|_>>>31,A=Vn+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=zt^de^ot^Ye,Zn=_<<1|_>>>31,A=Zn+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Rr^ge^qe^Ge,Xn=_<<1|_>>>31,A=Xn+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Vn^ke^We^ot,Jn=_<<1|_>>>31,A=Jn+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Zn^Se^ct^qe,Qn=_<<1|_>>>31,A=Qn+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Xn^Ue^dt^We,Ui=_<<1|_>>>31,A=Ui+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Jn^zt^he^ct,zi=_<<1|_>>>31,A=zi+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Qn^Rr^de^dt,Fi=_<<1|_>>>31,A=Fi+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Ui^Vn^ge^he,Ni=_<<1|_>>>31,A=Ni+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=zi^Zn^ke^de,gc=_<<1|_>>>31,A=gc+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Fi^Xn^Se^ge,su=_<<1|_>>>31,A=su+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=Ni^Jn^Ue^ke,ou=_<<1|_>>>31,A=ou+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,_=gc^Qn^zt^Se,cu=_<<1|_>>>31,A=cu+(k<<5|k>>>27)+w+(v^R^U)-899497514|0,w=U,U=R,R=v<<30|v>>>2,v=k,k=A,n=n+k|0,i=i+v|0,a=a+R|0,s=s+U|0,o=o+w|0}function re(T){T=T|0,V(F[T|0]<<24|F[T|1]<<16|F[T|2]<<8|F[T|3],F[T|4]<<24|F[T|5]<<16|F[T|6]<<8|F[T|7],F[T|8]<<24|F[T|9]<<16|F[T|10]<<8|F[T|11],F[T|12]<<24|F[T|13]<<16|F[T|14]<<8|F[T|15],F[T|16]<<24|F[T|17]<<16|F[T|18]<<8|F[T|19],F[T|20]<<24|F[T|21]<<16|F[T|22]<<8|F[T|23],F[T|24]<<24|F[T|25]<<16|F[T|26]<<8|F[T|27],F[T|28]<<24|F[T|29]<<16|F[T|30]<<8|F[T|31],F[T|32]<<24|F[T|33]<<16|F[T|34]<<8|F[T|35],F[T|36]<<24|F[T|37]<<16|F[T|38]<<8|F[T|39],F[T|40]<<24|F[T|41]<<16|F[T|42]<<8|F[T|43],F[T|44]<<24|F[T|45]<<16|F[T|46]<<8|F[T|47],F[T|48]<<24|F[T|49]<<16|F[T|50]<<8|F[T|51],F[T|52]<<24|F[T|53]<<16|F[T|54]<<8|F[T|55],F[T|56]<<24|F[T|57]<<16|F[T|58]<<8|F[T|59],F[T|60]<<24|F[T|61]<<16|F[T|62]<<8|F[T|63])}function te(T){T=T|0,F[T|0]=n>>>24,F[T|1]=n>>>16&255,F[T|2]=n>>>8&255,F[T|3]=n&255,F[T|4]=i>>>24,F[T|5]=i>>>16&255,F[T|6]=i>>>8&255,F[T|7]=i&255,F[T|8]=a>>>24,F[T|9]=a>>>16&255,F[T|10]=a>>>8&255,F[T|11]=a&255,F[T|12]=s>>>24,F[T|13]=s>>>16&255,F[T|14]=s>>>8&255,F[T|15]=s&255,F[T|16]=o>>>24,F[T|17]=o>>>16&255,F[T|18]=o>>>8&255,F[T|19]=o&255}function X(){n=1732584193,i=4023233417,a=2562383102,s=271733878,o=3285377520,f=c=0}function se(T,C,b,N,pe,ue,me){T=T|0,C=C|0,b=b|0,N=N|0,pe=pe|0,ue=ue|0,me=me|0,n=T,i=C,a=b,s=N,o=pe,f=ue,c=me}function M(T,C){T=T|0,C=C|0;var b=0;if(T&63)return-1;for(;(C|0)>=64;)re(T),T=T+64|0,C=C-64|0,b=b+64|0;return f=f+b|0,f>>>0<b>>>0&&(c=c+1|0),b|0}function l(T,C,b){T=T|0,C=C|0,b=b|0;var N=0,pe=0;if(T&63||~b&&b&31)return-1;if((C|0)>=64){if(N=M(T,C)|0,(N|0)==-1)return-1;T=T+N|0,C=C-N|0}if(N=N+C|0,f=f+C|0,f>>>0<C>>>0&&(c=c+1|0),F[T|C]=128,(C|0)>=56){for(pe=C+1|0;(pe|0)<64;pe=pe+1|0)F[T|pe]=0;re(T),C=0,F[T|0]=0}for(pe=C+1|0;(pe|0)<59;pe=pe+1|0)F[T|pe]=0;return F[T|56]=c>>>21&255,F[T|57]=c>>>13&255,F[T|58]=c>>>5&255,F[T|59]=c<<3&255|f>>>29,F[T|60]=f>>>21&255,F[T|61]=f>>>13&255,F[T|62]=f>>>5&255,F[T|63]=f<<3&255,re(T),~b&&te(b),N|0}function m(){n=d,i=u,a=p,s=x,o=S,f=64,c=0}function y(){n=E,i=H,a=K,s=ee,o=ie,f=64,c=0}function B(T,C,b,N,pe,ue,me,be,ve,L,oe,Q,J,le,ye,we){T=T|0,C=C|0,b=b|0,N=N|0,pe=pe|0,ue=ue|0,me=me|0,be=be|0,ve=ve|0,L=L|0,oe=oe|0,Q=Q|0,J=J|0,le=le|0,ye=ye|0,we=we|0,X(),V(T^1549556828,C^1549556828,b^1549556828,N^1549556828,pe^1549556828,ue^1549556828,me^1549556828,be^1549556828,ve^1549556828,L^1549556828,oe^1549556828,Q^1549556828,J^1549556828,le^1549556828,ye^1549556828,we^1549556828),E=n,H=i,K=a,ee=s,ie=o,X(),V(T^909522486,C^909522486,b^909522486,N^909522486,pe^909522486,ue^909522486,me^909522486,be^909522486,ve^909522486,L^909522486,oe^909522486,Q^909522486,J^909522486,le^909522486,ye^909522486,we^909522486),d=n,u=i,p=a,x=s,S=o,f=64,c=0}function O(T,C,b){T=T|0,C=C|0,b=b|0;var N=0,pe=0,ue=0,me=0,be=0,ve=0;return T&63||~b&&b&31?-1:(ve=l(T,C,-1)|0,N=n,pe=i,ue=a,me=s,be=o,y(),V(N,pe,ue,me,be,2147483648,0,0,0,0,0,0,0,0,0,672),~b&&te(b),ve|0)}function Z(T,C,b,N,pe){T=T|0,C=C|0,b=b|0,N=N|0,pe=pe|0;var ue=0,me=0,be=0,ve=0,L=0,oe=0,Q=0,J=0,le=0,ye=0;if(T&63||~pe&&pe&31)return-1;for(F[T+C|0]=b>>>24,F[T+C+1|0]=b>>>16&255,F[T+C+2|0]=b>>>8&255,F[T+C+3|0]=b&255,O(T,C+4|0,-1)|0,ue=oe=n,me=Q=i,be=J=a,ve=le=s,L=ye=o,N=N-1|0;(N|0)>0;)m(),V(oe,Q,J,le,ye,2147483648,0,0,0,0,0,0,0,0,0,672),oe=n,Q=i,J=a,le=s,ye=o,y(),V(oe,Q,J,le,ye,2147483648,0,0,0,0,0,0,0,0,0,672),oe=n,Q=i,J=a,le=s,ye=o,ue=ue^n,me=me^i,be=be^a,ve=ve^s,L=L^o,N=N-1|0;return n=ue,i=me,a=be,s=ve,o=L,~pe&&te(pe),0}return{reset:X,init:se,process:M,finish:l,hmac_reset:m,hmac_init:B,hmac_finish:O,pbkdf2_generate_block:Z}},$f=class{constructor(){this.pos=0,this.len=0}reset(){let{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(this.result!==null)throw new xo("state must be reset before processing new data");let{asm:r,heap:n}=this.acquire_asm(),i=this.pos,a=this.len,s=0,o=e.length,f=0;for(;o>0;)f=na(n,i+a,e,s,o),a+=f,s+=f,o-=f,f=r.process(i,a),i+=f,a-=f,a||(i=0);return this.pos=i,this.len=a,this}finish(){if(this.result!==null)throw new xo("state must be reset before processing new data");let{asm:e,heap:r}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(r.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}},N5=64,O5=20,Jh=[],Qh=[],Un=class extends $f{constructor(){super();this.NAME="sha1",this.BLOCK_SIZE=N5,this.HASH_SIZE=O5,this.acquire_asm()}acquire_asm(){return(this.heap===void 0||this.asm===void 0)&&(this.heap=Jh.pop()||Hf(),this.asm=Qh.pop()||Xh({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(Jh.push(this.heap),Qh.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return new Un().process(e).finish().result}};Un.NAME="sha1";Un.heap_pool=[];Un.asm_pool=[];Un.asm_function=Xh;var q5=function(t,e,r){var n=0,i=0,a=0,s=0,o=0,f=0,c=0,d=0,u=0,p=0,x=0,S=0,E=0,H=0,K=0,ee=0,ie=0,F=0,V=0,re=0,te=0,X=0,se=0,M=0,l=0,m=0,y=new t.Uint8Array(r);function B(L,oe,Q,J,le,ye,we,k,v,R,U,w,_,A,h,q){L=L|0,oe=oe|0,Q=Q|0,J=J|0,le=le|0,ye=ye|0,we=we|0,k=k|0,v=v|0,R=R|0,U=U|0,w=w|0,_=_|0,A=A|0,h=h|0,q=q|0;var I=0,D=0,z=0,$=0,j=0,W=0,G=0,Y=0;I=n,D=i,z=a,$=s,j=o,W=f,G=c,Y=d,Y=L+Y+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(G^j&(W^G))+1116352408|0,$=$+Y|0,Y=Y+(I&D^z&(I^D))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0,G=oe+G+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(W^$&(j^W))+1899447441|0,z=z+G|0,G=G+(Y&I^D&(Y^I))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,W=Q+W+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(j^z&($^j))+3049323471|0,D=D+W|0,W=W+(G&Y^I&(G^Y))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,j=J+j+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+($^D&(z^$))+3921009573|0,I=I+j|0,j=j+(W&G^Y&(W^G))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,$=le+$+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(z^I&(D^z))+961987163|0,Y=Y+$|0,$=$+(j&W^G&(j^W))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,z=ye+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(D^Y&(I^D))+1508970993|0,G=G+z|0,z=z+($&j^W&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,D=we+D+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(I^G&(Y^I))+2453635748|0,W=W+D|0,D=D+(z&$^j&(z^$))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,I=k+I+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(Y^W&(G^Y))+2870763221|0,j=j+I|0,I=I+(D&z^$&(D^z))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,Y=v+Y+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(G^j&(W^G))+3624381080|0,$=$+Y|0,Y=Y+(I&D^z&(I^D))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0,G=R+G+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(W^$&(j^W))+310598401|0,z=z+G|0,G=G+(Y&I^D&(Y^I))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,W=U+W+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(j^z&($^j))+607225278|0,D=D+W|0,W=W+(G&Y^I&(G^Y))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,j=w+j+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+($^D&(z^$))+1426881987|0,I=I+j|0,j=j+(W&G^Y&(W^G))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,$=_+$+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(z^I&(D^z))+1925078388|0,Y=Y+$|0,$=$+(j&W^G&(j^W))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,z=A+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(D^Y&(I^D))+2162078206|0,G=G+z|0,z=z+($&j^W&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,D=h+D+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(I^G&(Y^I))+2614888103|0,W=W+D|0,D=D+(z&$^j&(z^$))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,I=q+I+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(Y^W&(G^Y))+3248222580|0,j=j+I|0,I=I+(D&z^$&(D^z))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,L=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+L+R|0,Y=L+Y+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(G^j&(W^G))+3835390401|0,$=$+Y|0,Y=Y+(I&D^z&(I^D))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0,oe=(Q>>>7^Q>>>18^Q>>>3^Q<<25^Q<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+oe+U|0,G=oe+G+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(W^$&(j^W))+4022224774|0,z=z+G|0,G=G+(Y&I^D&(Y^I))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,Q=(J>>>7^J>>>18^J>>>3^J<<25^J<<14)+(L>>>17^L>>>19^L>>>10^L<<15^L<<13)+Q+w|0,W=Q+W+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(j^z&($^j))+264347078|0,D=D+W|0,W=W+(G&Y^I&(G^Y))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,J=(le>>>7^le>>>18^le>>>3^le<<25^le<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+J+_|0,j=J+j+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+($^D&(z^$))+604807628|0,I=I+j|0,j=j+(W&G^Y&(W^G))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,le=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(Q>>>17^Q>>>19^Q>>>10^Q<<15^Q<<13)+le+A|0,$=le+$+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(z^I&(D^z))+770255983|0,Y=Y+$|0,$=$+(j&W^G&(j^W))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,ye=(we>>>7^we>>>18^we>>>3^we<<25^we<<14)+(J>>>17^J>>>19^J>>>10^J<<15^J<<13)+ye+h|0,z=ye+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(D^Y&(I^D))+1249150122|0,G=G+z|0,z=z+($&j^W&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,we=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(le>>>17^le>>>19^le>>>10^le<<15^le<<13)+we+q|0,D=we+D+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(I^G&(Y^I))+1555081692|0,W=W+D|0,D=D+(z&$^j&(z^$))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,k=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+k+L|0,I=k+I+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(Y^W&(G^Y))+1996064986|0,j=j+I|0,I=I+(D&z^$&(D^z))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,v=(R>>>7^R>>>18^R>>>3^R<<25^R<<14)+(we>>>17^we>>>19^we>>>10^we<<15^we<<13)+v+oe|0,Y=v+Y+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(G^j&(W^G))+2554220882|0,$=$+Y|0,Y=Y+(I&D^z&(I^D))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0,R=(U>>>7^U>>>18^U>>>3^U<<25^U<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+R+Q|0,G=R+G+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(W^$&(j^W))+2821834349|0,z=z+G|0,G=G+(Y&I^D&(Y^I))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,U=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+U+J|0,W=U+W+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(j^z&($^j))+2952996808|0,D=D+W|0,W=W+(G&Y^I&(G^Y))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,w=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(R>>>17^R>>>19^R>>>10^R<<15^R<<13)+w+le|0,j=w+j+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+($^D&(z^$))+3210313671|0,I=I+j|0,j=j+(W&G^Y&(W^G))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,_=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(U>>>17^U>>>19^U>>>10^U<<15^U<<13)+_+ye|0,$=_+$+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(z^I&(D^z))+3336571891|0,Y=Y+$|0,$=$+(j&W^G&(j^W))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,A=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+A+we|0,z=A+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(D^Y&(I^D))+3584528711|0,G=G+z|0,z=z+($&j^W&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,h=(q>>>7^q>>>18^q>>>3^q<<25^q<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+h+k|0,D=h+D+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(I^G&(Y^I))+113926993|0,W=W+D|0,D=D+(z&$^j&(z^$))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=(L>>>7^L>>>18^L>>>3^L<<25^L<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+q+v|0,I=q+I+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(Y^W&(G^Y))+338241895|0,j=j+I|0,I=I+(D&z^$&(D^z))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,L=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+L+R|0,Y=L+Y+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(G^j&(W^G))+666307205|0,$=$+Y|0,Y=Y+(I&D^z&(I^D))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0,oe=(Q>>>7^Q>>>18^Q>>>3^Q<<25^Q<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+oe+U|0,G=oe+G+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(W^$&(j^W))+773529912|0,z=z+G|0,G=G+(Y&I^D&(Y^I))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,Q=(J>>>7^J>>>18^J>>>3^J<<25^J<<14)+(L>>>17^L>>>19^L>>>10^L<<15^L<<13)+Q+w|0,W=Q+W+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(j^z&($^j))+1294757372|0,D=D+W|0,W=W+(G&Y^I&(G^Y))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,J=(le>>>7^le>>>18^le>>>3^le<<25^le<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+J+_|0,j=J+j+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+($^D&(z^$))+1396182291|0,I=I+j|0,j=j+(W&G^Y&(W^G))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,le=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(Q>>>17^Q>>>19^Q>>>10^Q<<15^Q<<13)+le+A|0,$=le+$+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(z^I&(D^z))+1695183700|0,Y=Y+$|0,$=$+(j&W^G&(j^W))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,ye=(we>>>7^we>>>18^we>>>3^we<<25^we<<14)+(J>>>17^J>>>19^J>>>10^J<<15^J<<13)+ye+h|0,z=ye+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(D^Y&(I^D))+1986661051|0,G=G+z|0,z=z+($&j^W&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,we=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(le>>>17^le>>>19^le>>>10^le<<15^le<<13)+we+q|0,D=we+D+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(I^G&(Y^I))+2177026350|0,W=W+D|0,D=D+(z&$^j&(z^$))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,k=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+k+L|0,I=k+I+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(Y^W&(G^Y))+2456956037|0,j=j+I|0,I=I+(D&z^$&(D^z))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,v=(R>>>7^R>>>18^R>>>3^R<<25^R<<14)+(we>>>17^we>>>19^we>>>10^we<<15^we<<13)+v+oe|0,Y=v+Y+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(G^j&(W^G))+2730485921|0,$=$+Y|0,Y=Y+(I&D^z&(I^D))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0,R=(U>>>7^U>>>18^U>>>3^U<<25^U<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+R+Q|0,G=R+G+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(W^$&(j^W))+2820302411|0,z=z+G|0,G=G+(Y&I^D&(Y^I))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,U=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+U+J|0,W=U+W+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(j^z&($^j))+3259730800|0,D=D+W|0,W=W+(G&Y^I&(G^Y))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,w=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(R>>>17^R>>>19^R>>>10^R<<15^R<<13)+w+le|0,j=w+j+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+($^D&(z^$))+3345764771|0,I=I+j|0,j=j+(W&G^Y&(W^G))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,_=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(U>>>17^U>>>19^U>>>10^U<<15^U<<13)+_+ye|0,$=_+$+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(z^I&(D^z))+3516065817|0,Y=Y+$|0,$=$+(j&W^G&(j^W))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,A=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+A+we|0,z=A+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(D^Y&(I^D))+3600352804|0,G=G+z|0,z=z+($&j^W&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,h=(q>>>7^q>>>18^q>>>3^q<<25^q<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+h+k|0,D=h+D+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(I^G&(Y^I))+4094571909|0,W=W+D|0,D=D+(z&$^j&(z^$))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=(L>>>7^L>>>18^L>>>3^L<<25^L<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+q+v|0,I=q+I+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(Y^W&(G^Y))+275423344|0,j=j+I|0,I=I+(D&z^$&(D^z))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,L=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+L+R|0,Y=L+Y+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(G^j&(W^G))+430227734|0,$=$+Y|0,Y=Y+(I&D^z&(I^D))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0,oe=(Q>>>7^Q>>>18^Q>>>3^Q<<25^Q<<14)+(q>>>17^q>>>19^q>>>10^q<<15^q<<13)+oe+U|0,G=oe+G+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(W^$&(j^W))+506948616|0,z=z+G|0,G=G+(Y&I^D&(Y^I))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,Q=(J>>>7^J>>>18^J>>>3^J<<25^J<<14)+(L>>>17^L>>>19^L>>>10^L<<15^L<<13)+Q+w|0,W=Q+W+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(j^z&($^j))+659060556|0,D=D+W|0,W=W+(G&Y^I&(G^Y))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,J=(le>>>7^le>>>18^le>>>3^le<<25^le<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+J+_|0,j=J+j+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+($^D&(z^$))+883997877|0,I=I+j|0,j=j+(W&G^Y&(W^G))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,le=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(Q>>>17^Q>>>19^Q>>>10^Q<<15^Q<<13)+le+A|0,$=le+$+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(z^I&(D^z))+958139571|0,Y=Y+$|0,$=$+(j&W^G&(j^W))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,ye=(we>>>7^we>>>18^we>>>3^we<<25^we<<14)+(J>>>17^J>>>19^J>>>10^J<<15^J<<13)+ye+h|0,z=ye+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(D^Y&(I^D))+1322822218|0,G=G+z|0,z=z+($&j^W&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,we=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(le>>>17^le>>>19^le>>>10^le<<15^le<<13)+we+q|0,D=we+D+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(I^G&(Y^I))+1537002063|0,W=W+D|0,D=D+(z&$^j&(z^$))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,k=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+k+L|0,I=k+I+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(Y^W&(G^Y))+1747873779|0,j=j+I|0,I=I+(D&z^$&(D^z))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,v=(R>>>7^R>>>18^R>>>3^R<<25^R<<14)+(we>>>17^we>>>19^we>>>10^we<<15^we<<13)+v+oe|0,Y=v+Y+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(G^j&(W^G))+1955562222|0,$=$+Y|0,Y=Y+(I&D^z&(I^D))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0,R=(U>>>7^U>>>18^U>>>3^U<<25^U<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+R+Q|0,G=R+G+($>>>6^$>>>11^$>>>25^$<<26^$<<21^$<<7)+(W^$&(j^W))+2024104815|0,z=z+G|0,G=G+(Y&I^D&(Y^I))+(Y>>>2^Y>>>13^Y>>>22^Y<<30^Y<<19^Y<<10)|0,U=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+U+J|0,W=U+W+(z>>>6^z>>>11^z>>>25^z<<26^z<<21^z<<7)+(j^z&($^j))+2227730452|0,D=D+W|0,W=W+(G&Y^I&(G^Y))+(G>>>2^G>>>13^G>>>22^G<<30^G<<19^G<<10)|0,w=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(R>>>17^R>>>19^R>>>10^R<<15^R<<13)+w+le|0,j=w+j+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+($^D&(z^$))+2361852424|0,I=I+j|0,j=j+(W&G^Y&(W^G))+(W>>>2^W>>>13^W>>>22^W<<30^W<<19^W<<10)|0,_=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(U>>>17^U>>>19^U>>>10^U<<15^U<<13)+_+ye|0,$=_+$+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(z^I&(D^z))+2428436474|0,Y=Y+$|0,$=$+(j&W^G&(j^W))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0,A=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+A+we|0,z=A+z+(Y>>>6^Y>>>11^Y>>>25^Y<<26^Y<<21^Y<<7)+(D^Y&(I^D))+2756734187|0,G=G+z|0,z=z+($&j^W&($^j))+($>>>2^$>>>13^$>>>22^$<<30^$<<19^$<<10)|0,h=(q>>>7^q>>>18^q>>>3^q<<25^q<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+h+k|0,D=h+D+(G>>>6^G>>>11^G>>>25^G<<26^G<<21^G<<7)+(I^G&(Y^I))+3204031479|0,W=W+D|0,D=D+(z&$^j&(z^$))+(z>>>2^z>>>13^z>>>22^z<<30^z<<19^z<<10)|0,q=(L>>>7^L>>>18^L>>>3^L<<25^L<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+q+v|0,I=q+I+(W>>>6^W>>>11^W>>>25^W<<26^W<<21^W<<7)+(Y^W&(G^Y))+3329325298|0,j=j+I|0,I=I+(D&z^$&(D^z))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0,n=n+I|0,i=i+D|0,a=a+z|0,s=s+$|0,o=o+j|0,f=f+W|0,c=c+G|0,d=d+Y|0}function O(L){L=L|0,B(y[L|0]<<24|y[L|1]<<16|y[L|2]<<8|y[L|3],y[L|4]<<24|y[L|5]<<16|y[L|6]<<8|y[L|7],y[L|8]<<24|y[L|9]<<16|y[L|10]<<8|y[L|11],y[L|12]<<24|y[L|13]<<16|y[L|14]<<8|y[L|15],y[L|16]<<24|y[L|17]<<16|y[L|18]<<8|y[L|19],y[L|20]<<24|y[L|21]<<16|y[L|22]<<8|y[L|23],y[L|24]<<24|y[L|25]<<16|y[L|26]<<8|y[L|27],y[L|28]<<24|y[L|29]<<16|y[L|30]<<8|y[L|31],y[L|32]<<24|y[L|33]<<16|y[L|34]<<8|y[L|35],y[L|36]<<24|y[L|37]<<16|y[L|38]<<8|y[L|39],y[L|40]<<24|y[L|41]<<16|y[L|42]<<8|y[L|43],y[L|44]<<24|y[L|45]<<16|y[L|46]<<8|y[L|47],y[L|48]<<24|y[L|49]<<16|y[L|50]<<8|y[L|51],y[L|52]<<24|y[L|53]<<16|y[L|54]<<8|y[L|55],y[L|56]<<24|y[L|57]<<16|y[L|58]<<8|y[L|59],y[L|60]<<24|y[L|61]<<16|y[L|62]<<8|y[L|63])}function Z(L){L=L|0,y[L|0]=n>>>24,y[L|1]=n>>>16&255,y[L|2]=n>>>8&255,y[L|3]=n&255,y[L|4]=i>>>24,y[L|5]=i>>>16&255,y[L|6]=i>>>8&255,y[L|7]=i&255,y[L|8]=a>>>24,y[L|9]=a>>>16&255,y[L|10]=a>>>8&255,y[L|11]=a&255,y[L|12]=s>>>24,y[L|13]=s>>>16&255,y[L|14]=s>>>8&255,y[L|15]=s&255,y[L|16]=o>>>24,y[L|17]=o>>>16&255,y[L|18]=o>>>8&255,y[L|19]=o&255,y[L|20]=f>>>24,y[L|21]=f>>>16&255,y[L|22]=f>>>8&255,y[L|23]=f&255,y[L|24]=c>>>24,y[L|25]=c>>>16&255,y[L|26]=c>>>8&255,y[L|27]=c&255,y[L|28]=d>>>24,y[L|29]=d>>>16&255,y[L|30]=d>>>8&255,y[L|31]=d&255}function T(){n=1779033703,i=3144134277,a=1013904242,s=2773480762,o=1359893119,f=2600822924,c=528734635,d=1541459225,u=p=0}function C(L,oe,Q,J,le,ye,we,k,v,R){L=L|0,oe=oe|0,Q=Q|0,J=J|0,le=le|0,ye=ye|0,we=we|0,k=k|0,v=v|0,R=R|0,n=L,i=oe,a=Q,s=J,o=le,f=ye,c=we,d=k,u=v,p=R}function b(L,oe){L=L|0,oe=oe|0;var Q=0;if(L&63)return-1;for(;(oe|0)>=64;)O(L),L=L+64|0,oe=oe-64|0,Q=Q+64|0;return u=u+Q|0,u>>>0<Q>>>0&&(p=p+1|0),Q|0}function N(L,oe,Q){L=L|0,oe=oe|0,Q=Q|0;var J=0,le=0;if(L&63||~Q&&Q&31)return-1;if((oe|0)>=64){if(J=b(L,oe)|0,(J|0)==-1)return-1;L=L+J|0,oe=oe-J|0}if(J=J+oe|0,u=u+oe|0,u>>>0<oe>>>0&&(p=p+1|0),y[L|oe]=128,(oe|0)>=56){for(le=oe+1|0;(le|0)<64;le=le+1|0)y[L|le]=0;O(L),oe=0,y[L|0]=0}for(le=oe+1|0;(le|0)<59;le=le+1|0)y[L|le]=0;return y[L|56]=p>>>21&255,y[L|57]=p>>>13&255,y[L|58]=p>>>5&255,y[L|59]=p<<3&255|u>>>29,y[L|60]=u>>>21&255,y[L|61]=u>>>13&255,y[L|62]=u>>>5&255,y[L|63]=u<<3&255,O(L),~Q&&Z(Q),J|0}function pe(){n=x,i=S,a=E,s=H,o=K,f=ee,c=ie,d=F,u=64,p=0}function ue(){n=V,i=re,a=te,s=X,o=se,f=M,c=l,d=m,u=64,p=0}function me(L,oe,Q,J,le,ye,we,k,v,R,U,w,_,A,h,q){L=L|0,oe=oe|0,Q=Q|0,J=J|0,le=le|0,ye=ye|0,we=we|0,k=k|0,v=v|0,R=R|0,U=U|0,w=w|0,_=_|0,A=A|0,h=h|0,q=q|0,T(),B(L^1549556828,oe^1549556828,Q^1549556828,J^1549556828,le^1549556828,ye^1549556828,we^1549556828,k^1549556828,v^1549556828,R^1549556828,U^1549556828,w^1549556828,_^1549556828,A^1549556828,h^1549556828,q^1549556828),V=n,re=i,te=a,X=s,se=o,M=f,l=c,m=d,T(),B(L^909522486,oe^909522486,Q^909522486,J^909522486,le^909522486,ye^909522486,we^909522486,k^909522486,v^909522486,R^909522486,U^909522486,w^909522486,_^909522486,A^909522486,h^909522486,q^909522486),x=n,S=i,E=a,H=s,K=o,ee=f,ie=c,F=d,u=64,p=0}function be(L,oe,Q){L=L|0,oe=oe|0,Q=Q|0;var J=0,le=0,ye=0,we=0,k=0,v=0,R=0,U=0,w=0;return L&63||~Q&&Q&31?-1:(w=N(L,oe,-1)|0,J=n,le=i,ye=a,we=s,k=o,v=f,R=c,U=d,ue(),B(J,le,ye,we,k,v,R,U,2147483648,0,0,0,0,0,0,768),~Q&&Z(Q),w|0)}function ve(L,oe,Q,J,le){L=L|0,oe=oe|0,Q=Q|0,J=J|0,le=le|0;var ye=0,we=0,k=0,v=0,R=0,U=0,w=0,_=0,A=0,h=0,q=0,I=0,D=0,z=0,$=0,j=0;if(L&63||~le&&le&31)return-1;for(y[L+oe|0]=Q>>>24,y[L+oe+1|0]=Q>>>16&255,y[L+oe+2|0]=Q>>>8&255,y[L+oe+3|0]=Q&255,be(L,oe+4|0,-1)|0,ye=A=n,we=h=i,k=q=a,v=I=s,R=D=o,U=z=f,w=$=c,_=j=d,J=J-1|0;(J|0)>0;)pe(),B(A,h,q,I,D,z,$,j,2147483648,0,0,0,0,0,0,768),A=n,h=i,q=a,I=s,D=o,z=f,$=c,j=d,ue(),B(A,h,q,I,D,z,$,j,2147483648,0,0,0,0,0,0,768),A=n,h=i,q=a,I=s,D=o,z=f,$=c,j=d,ye=ye^n,we=we^i,k=k^a,v=v^s,R=R^o,U=U^f,w=w^c,_=_^d,J=J-1|0;return n=ye,i=we,a=k,s=v,o=R,f=U,c=w,d=_,~le&&Z(le),0}return{reset:T,init:C,process:b,finish:N,hmac_reset:pe,hmac_init:me,hmac_finish:be,pbkdf2_generate_block:ve}},L5=64,j5=32,e1=[],t1=[],Fa=class extends $f{constructor(){super();this.NAME="sha256",this.BLOCK_SIZE=L5,this.HASH_SIZE=j5,this.acquire_asm()}acquire_asm(){return(this.heap===void 0||this.asm===void 0)&&(this.heap=e1.pop()||Hf(),this.asm=t1.pop()||q5({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){this.heap!==void 0&&this.asm!==void 0&&(e1.push(this.heap),t1.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return new Fa().process(e).finish().result}};Fa.NAME="sha256";var bi=r1;function r1(t,e){if(!t)throw new Error(e||"Assertion failed")}r1.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var H5=typeof ut!="undefined"?ut:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function nn(t,e){return e={exports:{}},t(e,e.exports),e.exports}function W5(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var pi=nn(function(t){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}),$5=pi;function Y5(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/gi,""),t.length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),a=i>>8,s=i&255;a?r.push(a,s):r.push(s)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}var G5=Y5;function V5(t){for(var e="",r=0;r<t.length;r++)e+=n1(t[r].toString(16));return e}var Z5=V5;function i1(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}var X5=i1;function J5(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=i1(i)),r+=a1(i.toString(16))}return r}var Q5=J5;function n1(t){return t.length===1?"0"+t:t}var e8=n1;function a1(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}var t8=a1;function r8(t,e,r,n){var i=r-e;bi(i%4==0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var f;n==="big"?f=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:f=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=f>>>0}return a}var n8=r8;function i8(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}var a8=i8;function s8(t,e){return t>>>e|t<<32-e}var o8=s8;function c8(t,e){return t<<e|t>>>32-e}var f8=c8;function d8(t,e){return t+e>>>0}var u8=d8;function l8(t,e,r){return t+e+r>>>0}var h8=l8;function b8(t,e,r,n){return t+e+r+n>>>0}var p8=b8;function x8(t,e,r,n,i){return t+e+r+n+i>>>0}var y8=x8;function m8(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}var g8=m8;function v8(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}var w8=v8;function _8(t,e,r,n){var i=e+n;return i>>>0}var A8=_8;function k8(t,e,r,n,i,a,s,o){var f=0,c=e;c=c+n>>>0,f+=c<e?1:0,c=c+a>>>0,f+=c<a?1:0,c=c+o>>>0,f+=c<o?1:0;var d=t+r+i+s+f;return d>>>0}var S8=k8;function E8(t,e,r,n,i,a,s,o){var f=e+n+a+o;return f>>>0}var C8=E8;function P8(t,e,r,n,i,a,s,o,f,c){var d=0,u=e;u=u+n>>>0,d+=u<e?1:0,u=u+a>>>0,d+=u<a?1:0,u=u+o>>>0,d+=u<o?1:0,u=u+c>>>0,d+=u<c?1:0;var p=t+r+i+s+f+d;return p>>>0}var R8=P8;function M8(t,e,r,n,i,a,s,o,f,c){var d=e+n+a+o+c;return d>>>0}var T8=M8;function B8(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}var I8=B8;function D8(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}var K8=D8;function U8(t,e,r){return t>>>r}var z8=U8;function F8(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}var N8=F8,Xe={inherits:$5,toArray:G5,toHex:Z5,htonl:X5,toHex32:Q5,zero2:e8,zero8:t8,join32:n8,split32:a8,rotr32:o8,rotl32:f8,sum32:u8,sum32_3:h8,sum32_4:p8,sum32_5:y8,sum64:g8,sum64_hi:w8,sum64_lo:A8,sum64_4_hi:S8,sum64_4_lo:C8,sum64_5_hi:R8,sum64_5_lo:T8,rotr64_hi:I8,rotr64_lo:K8,shr64_hi:z8,shr64_lo:N8};function mo(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var O8=mo;mo.prototype.update=function(e,r){if(e=Xe.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Xe.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};mo.prototype.digest=function(e){return this.update(this._pad()),bi(this.pending===null),this._digest(e)};mo.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var M0={BlockHash:O8},an=Xe.rotr32;function q8(t,e,r,n){if(t===0)return s1(e,r,n);if(t===1||t===3)return c1(e,r,n);if(t===2)return o1(e,r,n)}var L8=q8;function s1(t,e,r){return t&e^~t&r}var j8=s1;function o1(t,e,r){return t&e^t&r^e&r}var H8=o1;function c1(t,e,r){return t^e^r}var W8=c1;function $8(t){return an(t,2)^an(t,13)^an(t,22)}var Y8=$8;function G8(t){return an(t,6)^an(t,11)^an(t,25)}var V8=G8;function Z8(t){return an(t,7)^an(t,18)^t>>>3}var X8=Z8;function J8(t){return an(t,17)^an(t,19)^t>>>10}var Q8=J8,ia={ft_1:L8,ch32:j8,maj32:H8,p32:W8,s0_256:Y8,s1_256:V8,g0_256:X8,g1_256:Q8},zr=Xe.sum32,e4=Xe.sum32_4,t4=Xe.sum32_5,r4=ia.ch32,n4=ia.maj32,i4=ia.s0_256,a4=ia.s1_256,s4=ia.g0_256,o4=ia.g1_256,f1=M0.BlockHash,c4=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function sn(){if(!(this instanceof sn))return new sn;f1.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=c4,this.W=new Array(64)}Xe.inherits(sn,f1);var Yf=sn;sn.blockSize=512;sn.outSize=256;sn.hmacStrength=192;sn.padLength=64;sn.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=e4(o4(n[i-2]),n[i-7],s4(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4],d=this.h[5],u=this.h[6],p=this.h[7];for(bi(this.k.length===n.length),i=0;i<n.length;i++){var x=t4(p,a4(c),r4(c,d,u),this.k[i],n[i]),S=zr(i4(a),n4(a,s,o));p=u,u=d,d=c,c=zr(f,x),f=o,o=s,s=a,a=zr(x,S)}this.h[0]=zr(this.h[0],a),this.h[1]=zr(this.h[1],s),this.h[2]=zr(this.h[2],o),this.h[3]=zr(this.h[3],f),this.h[4]=zr(this.h[4],c),this.h[5]=zr(this.h[5],d),this.h[6]=zr(this.h[6],u),this.h[7]=zr(this.h[7],p)};sn.prototype._digest=function(e){return e==="hex"?Xe.toHex32(this.h,"big"):Xe.split32(this.h,"big")};function zn(){if(!(this instanceof zn))return new zn;Yf.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Xe.inherits(zn,Yf);var d1=zn;zn.blockSize=512;zn.outSize=224;zn.hmacStrength=192;zn.padLength=64;zn.prototype._digest=function(e){return e==="hex"?Xe.toHex32(this.h.slice(0,7),"big"):Xe.split32(this.h.slice(0,7),"big")};var on=Xe.rotr64_hi,cn=Xe.rotr64_lo,u1=Xe.shr64_hi,l1=Xe.shr64_lo,xi=Xe.sum64,Gf=Xe.sum64_hi,Vf=Xe.sum64_lo,f4=Xe.sum64_4_hi,d4=Xe.sum64_4_lo,u4=Xe.sum64_5_hi,l4=Xe.sum64_5_lo,h1=M0.BlockHash,h4=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Fr(){if(!(this instanceof Fr))return new Fr;h1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=h4,this.W=new Array(160)}Xe.inherits(Fr,h1);var T0=Fr;Fr.blockSize=1024;Fr.outSize=512;Fr.hmacStrength=192;Fr.padLength=128;Fr.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=x4(n[i-4],n[i-3]),s=y4(n[i-4],n[i-3]),o=n[i-14],f=n[i-13],c=b4(n[i-30],n[i-29]),d=p4(n[i-30],n[i-29]),u=n[i-32],p=n[i-31];n[i]=f4(a,s,o,f,c,d,u,p),n[i+1]=d4(a,s,o,f,c,d,u,p)}};Fr.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],c=this.h[5],d=this.h[6],u=this.h[7],p=this.h[8],x=this.h[9],S=this.h[10],E=this.h[11],H=this.h[12],K=this.h[13],ee=this.h[14],ie=this.h[15];bi(this.k.length===n.length);for(var F=0;F<n.length;F+=2){var V=ee,re=ie,te=k4(p,x),X=S4(p,x),se=m4(p,x,S,E,H),M=g4(p,x,S,E,H,K),l=this.k[F],m=this.k[F+1],y=n[F],B=n[F+1],O=u4(V,re,te,X,se,M,l,m,y,B),Z=l4(V,re,te,X,se,M,l,m,y,B);V=_4(i,a),re=A4(i,a),te=v4(i,a,s,o,f),X=w4(i,a,s,o,f,c);var T=Gf(V,re,te,X),C=Vf(V,re,te,X);ee=H,ie=K,H=S,K=E,S=p,E=x,p=Gf(d,u,O,Z),x=Vf(u,u,O,Z),d=f,u=c,f=s,c=o,s=i,o=a,i=Gf(O,Z,T,C),a=Vf(O,Z,T,C)}xi(this.h,0,i,a),xi(this.h,2,s,o),xi(this.h,4,f,c),xi(this.h,6,d,u),xi(this.h,8,p,x),xi(this.h,10,S,E),xi(this.h,12,H,K),xi(this.h,14,ee,ie)};Fr.prototype._digest=function(e){return e==="hex"?Xe.toHex32(this.h,"big"):Xe.split32(this.h,"big")};function m4(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function g4(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function v4(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function w4(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function _4(t,e){var r=on(t,e,28),n=on(e,t,2),i=on(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function A4(t,e){var r=cn(t,e,28),n=cn(e,t,2),i=cn(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function k4(t,e){var r=on(t,e,14),n=on(t,e,18),i=on(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function S4(t,e){var r=cn(t,e,14),n=cn(t,e,18),i=cn(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function b4(t,e){var r=on(t,e,1),n=on(t,e,8),i=u1(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function p4(t,e){var r=cn(t,e,1),n=cn(t,e,8),i=l1(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function x4(t,e){var r=on(t,e,19),n=on(e,t,29),i=u1(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function y4(t,e){var r=cn(t,e,19),n=cn(e,t,29),i=l1(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function Fn(){if(!(this instanceof Fn))return new Fn;T0.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Xe.inherits(Fn,T0);var b1=Fn;Fn.blockSize=1024;Fn.outSize=384;Fn.hmacStrength=192;Fn.padLength=128;Fn.prototype._digest=function(e){return e==="hex"?Xe.toHex32(this.h.slice(0,12),"big"):Xe.split32(this.h.slice(0,12),"big")};var go=Xe.rotl32,p1=Xe.sum32,B0=Xe.sum32_3,x1=Xe.sum32_4,y1=M0.BlockHash;function fn(){if(!(this instanceof fn))return new fn;y1.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Xe.inherits(fn,y1);var m1=fn;fn.blockSize=512;fn.outSize=160;fn.hmacStrength=192;fn.padLength=64;fn.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],f=n,c=i,d=a,u=s,p=o,x=0;x<80;x++){var S=p1(go(x1(n,g1(x,i,a,s),e[P4[x]+r],E4(x)),M4[x]),o);n=o,o=s,s=go(a,10),a=i,i=S,S=p1(go(x1(f,g1(79-x,c,d,u),e[R4[x]+r],C4(x)),T4[x]),p),f=p,p=u,u=go(d,10),d=c,c=S}S=B0(this.h[1],a,u),this.h[1]=B0(this.h[2],s,p),this.h[2]=B0(this.h[3],o,f),this.h[3]=B0(this.h[4],n,c),this.h[4]=B0(this.h[0],i,d),this.h[0]=S};fn.prototype._digest=function(e){return e==="hex"?Xe.toHex32(this.h,"little"):Xe.split32(this.h,"little")};function g1(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function E4(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function C4(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var P4=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],R4=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],M4=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],T4=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],B4={ripemd160:m1};async function K4(t){let e=I4(P.uint8ArrayToStr(t));return P.hexToUint8Array(D4(e))}function Zf(t,e){let r=t[0],n=t[1],i=t[2],a=t[3];r=tr(r,n,i,a,e[0],7,-680876936),a=tr(a,r,n,i,e[1],12,-389564586),i=tr(i,a,r,n,e[2],17,606105819),n=tr(n,i,a,r,e[3],22,-1044525330),r=tr(r,n,i,a,e[4],7,-176418897),a=tr(a,r,n,i,e[5],12,1200080426),i=tr(i,a,r,n,e[6],17,-1473231341),n=tr(n,i,a,r,e[7],22,-45705983),r=tr(r,n,i,a,e[8],7,1770035416),a=tr(a,r,n,i,e[9],12,-1958414417),i=tr(i,a,r,n,e[10],17,-42063),n=tr(n,i,a,r,e[11],22,-1990404162),r=tr(r,n,i,a,e[12],7,1804603682),a=tr(a,r,n,i,e[13],12,-40341101),i=tr(i,a,r,n,e[14],17,-1502002290),n=tr(n,i,a,r,e[15],22,1236535329),r=rr(r,n,i,a,e[1],5,-165796510),a=rr(a,r,n,i,e[6],9,-1069501632),i=rr(i,a,r,n,e[11],14,643717713),n=rr(n,i,a,r,e[0],20,-373897302),r=rr(r,n,i,a,e[5],5,-701558691),a=rr(a,r,n,i,e[10],9,38016083),i=rr(i,a,r,n,e[15],14,-660478335),n=rr(n,i,a,r,e[4],20,-405537848),r=rr(r,n,i,a,e[9],5,568446438),a=rr(a,r,n,i,e[14],9,-1019803690),i=rr(i,a,r,n,e[3],14,-187363961),n=rr(n,i,a,r,e[8],20,1163531501),r=rr(r,n,i,a,e[13],5,-1444681467),a=rr(a,r,n,i,e[2],9,-51403784),i=rr(i,a,r,n,e[7],14,1735328473),n=rr(n,i,a,r,e[12],20,-1926607734),r=nr(r,n,i,a,e[5],4,-378558),a=nr(a,r,n,i,e[8],11,-2022574463),i=nr(i,a,r,n,e[11],16,1839030562),n=nr(n,i,a,r,e[14],23,-35309556),r=nr(r,n,i,a,e[1],4,-1530992060),a=nr(a,r,n,i,e[4],11,1272893353),i=nr(i,a,r,n,e[7],16,-155497632),n=nr(n,i,a,r,e[10],23,-1094730640),r=nr(r,n,i,a,e[13],4,681279174),a=nr(a,r,n,i,e[0],11,-358537222),i=nr(i,a,r,n,e[3],16,-722521979),n=nr(n,i,a,r,e[6],23,76029189),r=nr(r,n,i,a,e[9],4,-640364487),a=nr(a,r,n,i,e[12],11,-421815835),i=nr(i,a,r,n,e[15],16,530742520),n=nr(n,i,a,r,e[2],23,-995338651),r=ir(r,n,i,a,e[0],6,-198630844),a=ir(a,r,n,i,e[7],10,1126891415),i=ir(i,a,r,n,e[14],15,-1416354905),n=ir(n,i,a,r,e[5],21,-57434055),r=ir(r,n,i,a,e[12],6,1700485571),a=ir(a,r,n,i,e[3],10,-1894986606),i=ir(i,a,r,n,e[10],15,-1051523),n=ir(n,i,a,r,e[1],21,-2054922799),r=ir(r,n,i,a,e[8],6,1873313359),a=ir(a,r,n,i,e[15],10,-30611744),i=ir(i,a,r,n,e[6],15,-1560198380),n=ir(n,i,a,r,e[13],21,1309151649),r=ir(r,n,i,a,e[4],6,-145523070),a=ir(a,r,n,i,e[11],10,-1120210379),i=ir(i,a,r,n,e[2],15,718787259),n=ir(n,i,a,r,e[9],21,-343485551),t[0]=yi(r,t[0]),t[1]=yi(n,t[1]),t[2]=yi(i,t[2]),t[3]=yi(a,t[3])}function vo(t,e,r,n,i,a){return e=yi(yi(e,t),yi(n,a)),yi(e<<i|e>>>32-i,r)}function tr(t,e,r,n,i,a,s){return vo(e&r|~e&n,t,e,i,a,s)}function rr(t,e,r,n,i,a,s){return vo(e&n|r&~n,t,e,i,a,s)}function nr(t,e,r,n,i,a,s){return vo(e^r^n,t,e,i,a,s)}function ir(t,e,r,n,i,a,s){return vo(r^(e|~n),t,e,i,a,s)}function I4(t){let e=t.length,r=[1732584193,-271733879,-1732584194,271733878],n;for(n=64;n<=t.length;n+=64)Zf(r,U4(t.substring(n-64,n)));t=t.substring(n-64);let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)i[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(Zf(r,i),n=0;n<16;n++)i[n]=0;return i[14]=e*8,Zf(r,i),r}function U4(t){let e=[],r;for(r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e}var v1="0123456789abcdef".split("");function z4(t){let e="",r=0;for(;r<4;r++)e+=v1[t>>r*8+4&15]+v1[t>>r*8&15];return e}function D4(t){for(let e=0;e<t.length;e++)t[e]=z4(t[e]);return t.join("")}function yi(t,e){return t+e&4294967295}var wo=P.getWebCrypto(),w1=P.getNodeCrypto(),F4=P.getNodeBuffer();function aa(t){return async function(e){let r=w1.createHash(t);return xe.transform(e,n=>{r.update(F4.from(n))},()=>new Uint8Array(r.digest()))}}function _o(t,e){return async function(r,n=Ce){if(!P.isStream(r)&&wo&&e&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await wo.digest(e,r));let i=t();return xe.transform(r,a=>{i.update(a)},()=>new Uint8Array(i.digest()))}}function _1(t,e){return async function(r,n=Ce){if(P.isStream(r)){let i=new t;return xe.transform(r,a=>{i.process(a)},()=>i.finish().result)}else return wo&&e&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await wo.digest(e,r)):t.bytes(r)}}var Nn;w1?Nn={md5:aa("md5"),sha1:aa("sha1"),sha224:aa("sha224"),sha256:aa("sha256"),sha384:aa("sha384"),sha512:aa("sha512"),ripemd:aa("ripemd160")}:Nn={md5:K4,sha1:_1(Un,navigator.userAgent.indexOf("Edge")===-1&&"SHA-1"),sha224:_o(d1),sha256:_1(Fa,"SHA-256"),sha384:_o(b1,"SHA-384"),sha512:_o(T0,"SHA-512"),ripemd:_o(m1)};var Ao={md5:Nn.md5,sha1:Nn.sha1,sha224:Nn.sha224,sha256:Nn.sha256,sha384:Nn.sha384,sha512:Nn.sha512,ripemd:Nn.ripemd,digest:function(t,e){switch(t){case 1:return this.md5(e);case 2:return this.sha1(e);case 3:return this.ripemd(e);case 8:return this.sha256(e);case 9:return this.sha384(e);case 10:return this.sha512(e);case 11:return this.sha224(e);default:throw new Error("Invalid hash function.")}},getHashByteLength:function(t){switch(t){case 1:return 16;case 2:case 3:return 20;case 8:return 32;case 9:return 48;case 10:return 64;case 11:return 28;default:throw new Error("Invalid hash algorithm.")}}},sa=class{static encrypt(e,r,n){return new sa(r,n).encrypt(e)}static decrypt(e,r,n){return new sa(r,n).decrypt(e)}constructor(e,r,n){this.aes=n||new za(e,r,!0,"CFB"),delete this.aes.padding}encrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return li(r,n)}decrypt(e){let r=this.aes.AES_Decrypt_process(e),n=this.aes.AES_Decrypt_finish();return li(r,n)}},A1=P.getWebCrypto(),ko=P.getNodeCrypto(),Na=P.getNodeBuffer(),oa=ko?ko.getCiphers():[],So={idea:oa.includes("idea-cfb")?"idea-cfb":void 0,tripledes:oa.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:oa.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:oa.includes("bf-cfb")?"bf-cfb":void 0,aes128:oa.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:oa.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:oa.includes("aes-256-cfb")?"aes-256-cfb":void 0};async function q4(t,e,r,n,i){if(P.getNodeCrypto()&&So[t])return O4(t,e,r,n);if(t.substr(0,3)==="aes")return N4(t,e,r,n,i);let a=new Ur[t](e),s=a.blockSize,o=n.slice(),f=new Uint8Array,c=d=>{d&&(f=P.concatUint8Array([f,d]));let u=new Uint8Array(f.length),p,x=0;for(;d?f.length>=s:f.length;){let S=a.encrypt(o);for(p=0;p<s;p++)o[p]=f[p]^S[p],u[x++]=o[p];f=f.subarray(s)}return u.subarray(0,x)};return xe.transform(r,c,c)}async function H4(t,e,r,n){if(P.getNodeCrypto()&&So[t])return j4(t,e,r,n);if(t.substr(0,3)==="aes")return L4(t,e,r,n);let i=new Ur[t](e),a=i.blockSize,s=n,o=new Uint8Array,f=c=>{c&&(o=P.concatUint8Array([o,c]));let d=new Uint8Array(o.length),u,p=0;for(;c?o.length>=a:o.length;){let x=i.encrypt(s);for(s=o,u=0;u<a;u++)d[p++]=s[u]^x[u];o=o.subarray(a)}return d.subarray(0,p)};return xe.transform(r,f,f)}function N4(t,e,r,n,i){if(P.getWebCrypto()&&e.length!==24&&!P.isStream(r)&&r.length>=3e3*i.minBytesForWebCrypto)return W4(t,e,r,n);let a=new sa(e,n);return xe.transform(r,s=>a.aes.AES_Encrypt_process(s),()=>a.aes.AES_Encrypt_finish())}function L4(t,e,r,n){if(P.isStream(r)){let i=new sa(e,n);return xe.transform(r,a=>i.aes.AES_Decrypt_process(a),()=>i.aes.AES_Decrypt_finish())}return sa.decrypt(r,e,n)}function $4(t,e){for(let r=0;r<t.length;r++)t[r]=t[r]^e[r]}async function W4(t,e,r,n){let i="AES-CBC",a=await A1.importKey("raw",e,{name:i},!1,["encrypt"]),{blockSize:s}=Ur[t],o=P.concatUint8Array([new Uint8Array(s),r]),f=new Uint8Array(await A1.encrypt({name:i,iv:n},a,o)).subarray(0,r.length);return $4(f,r),f}function O4(t,e,r,n){e=Na.from(e),n=Na.from(n);let i=new ko.createCipheriv(So[t],e,n);return xe.transform(r,a=>new Uint8Array(i.update(Na.from(a))))}function j4(t,e,r,n){e=Na.from(e),n=Na.from(n);let i=new ko.createDecipheriv(So[t],e,n);return xe.transform(r,a=>new Uint8Array(i.update(Na.from(a))))}var Y4=Object.freeze({__proto__:null,encrypt:q4,decrypt:H4}),Xf=68719476704,mi=class{constructor(e,r,n,i=16,a){this.tagSize=i,this.gamma0=0,this.counter=1,this.aes=a||new za(e,void 0,!1,"CTR");let{asm:s,heap:o}=this.aes.acquire_asm();if(s.gcm_init(),this.tagSize<4||this.tagSize>16)throw new tn("illegal tagSize value");let f=r.length||0,c=new Uint8Array(16);f!==12?(this._gcm_mac_process(r),o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=f>>>29,o[12]=f>>>21&255,o[13]=f>>>13&255,o[14]=f>>>5&255,o[15]=f<<3&255,s.mac(Qe.MAC.GCM,Qe.HEAP_DATA,16),s.get_iv(Qe.HEAP_DATA),s.set_iv(0,0,0,0),c.set(o.subarray(0,16))):(c.set(r),c[15]=1);let d=new DataView(c.buffer);if(this.gamma0=d.getUint32(12),s.set_nonce(d.getUint32(0),d.getUint32(4),d.getUint32(8),0),s.set_mask(0,0,0,4294967295),n!==void 0){if(n.length>Xf)throw new tn("illegal adata length");n.length?(this.adata=n,this._gcm_mac_process(n)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");s.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,r,n,i,a){return new mi(r,n,i,a).encrypt(e)}static decrypt(e,r,n,i,a){return new mi(r,n,i,a).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:a}=this.aes.acquire_asm(),s=this.counter,o=this.aes.pos,f=this.aes.len,c=0,d=f+n&-16,u=0;if((s-1<<4)+f+n>Xf)throw new RangeError("counter overflow");let p=new Uint8Array(d);for(;n>0;)u=na(a,o+f,e,r,n),f+=u,r+=u,n-=u,u=i.cipher(Qe.ENC.CTR,Qe.HEAP_DATA+o,f),u=i.mac(Qe.MAC.GCM,Qe.HEAP_DATA+o,u),u&&p.set(a.subarray(o,o+u),c),s+=u>>>4,c+=u,u<f?(o+=u,f-=u):(o=0,f=0);return this.counter=s,this.aes.pos=o,this.aes.len=f,p}AES_GCM_Encrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.counter,i=this.tagSize,a=this.adata,s=this.aes.pos,o=this.aes.len,f=new Uint8Array(o+i);e.cipher(Qe.ENC.CTR,Qe.HEAP_DATA+s,o+15&-16),o&&f.set(r.subarray(s,s+o));let c=o;for(;c&15;c++)r[s+c]=0;e.mac(Qe.MAC.GCM,Qe.HEAP_DATA+s,c);let d=a!==void 0?a.length:0,u=(n-1<<4)+o;return r[0]=0,r[1]=0,r[2]=0,r[3]=d>>>29,r[4]=d>>>21,r[5]=d>>>13&255,r[6]=d>>>5&255,r[7]=d<<3&255,r[8]=r[9]=r[10]=0,r[11]=u>>>29,r[12]=u>>>21&255,r[13]=u>>>13&255,r[14]=u>>>5&255,r[15]=u<<3&255,e.mac(Qe.MAC.GCM,Qe.HEAP_DATA,16),e.get_iv(Qe.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(Qe.ENC.CTR,Qe.HEAP_DATA,16),f.set(r.subarray(0,i),o),this.counter=1,this.aes.pos=0,this.aes.len=0,f}AES_GCM_Decrypt_process(e){let r=0,n=e.length||0,{asm:i,heap:a}=this.aes.acquire_asm(),s=this.counter,o=this.tagSize,f=this.aes.pos,c=this.aes.len,d=0,u=c+n>o?c+n-o&-16:0,p=c+n-u,x=0;if((s-1<<4)+c+n>Xf)throw new RangeError("counter overflow");let S=new Uint8Array(u);for(;n>p;)x=na(a,f+c,e,r,n-p),c+=x,r+=x,n-=x,x=i.mac(Qe.MAC.GCM,Qe.HEAP_DATA+f,x),x=i.cipher(Qe.DEC.CTR,Qe.HEAP_DATA+f,x),x&&S.set(a.subarray(f,f+x),d),s+=x>>>4,d+=x,f=0,c=0;return n>0&&(c+=na(a,0,e,r,n)),this.counter=s,this.aes.pos=f,this.aes.len=c,S}AES_GCM_Decrypt_finish(){let{asm:e,heap:r}=this.aes.acquire_asm(),n=this.tagSize,i=this.adata,a=this.counter,s=this.aes.pos,o=this.aes.len,f=o-n;if(o<n)throw new xo("authentication tag not found");let c=new Uint8Array(f),d=new Uint8Array(r.subarray(s+f,s+o)),u=f;for(;u&15;u++)r[s+u]=0;e.mac(Qe.MAC.GCM,Qe.HEAP_DATA+s,u),e.cipher(Qe.DEC.CTR,Qe.HEAP_DATA+s,u),f&&c.set(r.subarray(s,s+f));let p=i!==void 0?i.length:0,x=(a-1<<4)+o-n;r[0]=0,r[1]=0,r[2]=0,r[3]=p>>>29,r[4]=p>>>21,r[5]=p>>>13&255,r[6]=p>>>5&255,r[7]=p<<3&255,r[8]=r[9]=r[10]=0,r[11]=x>>>29,r[12]=x>>>21&255,r[13]=x>>>13&255,r[14]=x>>>5&255,r[15]=x<<3&255,e.mac(Qe.MAC.GCM,Qe.HEAP_DATA,16),e.get_iv(Qe.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(Qe.ENC.CTR,Qe.HEAP_DATA,16);let S=0;for(let E=0;E<n;++E)S|=d[E]^r[E];if(S)throw new yo("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){let r=this.AES_GCM_Decrypt_process(e),n=this.AES_GCM_Decrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}AES_GCM_encrypt(e){let r=this.AES_GCM_Encrypt_process(e),n=this.AES_GCM_Encrypt_finish(),i=new Uint8Array(r.length+n.length);return r.length&&i.set(r),n.length&&i.set(n,r.length),i}_gcm_mac_process(e){let{asm:r,heap:n}=this.aes.acquire_asm(),i=0,a=e.length||0,s=0;for(;a>0;){for(s=na(n,0,e,i,a),i+=s,a-=s;s&15;)n[s++]=0;r.mac(Qe.MAC.GCM,Qe.HEAP_DATA,s)}}},Jf=P.getWebCrypto(),k1=P.getNodeCrypto(),On=P.getNodeBuffer(),G4=16,V4=12,Oa=16,Qf="AES-GCM";async function qa(t,e){if(t.substr(0,3)!=="aes")throw new Error("GCM mode supports only AES cipher");if(P.getWebCrypto()&&e.length!==24){let r=await Jf.importKey("raw",e,{name:Qf},!1,["encrypt","decrypt"]);return{encrypt:async function(n,i,a=new Uint8Array){if(!n.length||!a.length&&navigator.userAgent.indexOf("Edge")!==-1)return mi.encrypt(n,e,i,a);let s=await Jf.encrypt({name:Qf,iv:i,additionalData:a,tagLength:Oa*8},r,n);return new Uint8Array(s)},decrypt:async function(n,i,a=new Uint8Array){if(n.length===Oa||!a.length&&navigator.userAgent.indexOf("Edge")!==-1)return mi.decrypt(n,e,i,a);let s=await Jf.decrypt({name:Qf,iv:i,additionalData:a,tagLength:Oa*8},r,n);return new Uint8Array(s)}}}return P.getNodeCrypto()?(e=On.from(e),{encrypt:async function(r,n,i=new Uint8Array){r=On.from(r),n=On.from(n),i=On.from(i);let a=new k1.createCipheriv("aes-"+e.length*8+"-gcm",e,n);a.setAAD(i);let s=On.concat([a.update(r),a.final(),a.getAuthTag()]);return new Uint8Array(s)},decrypt:async function(r,n,i=new Uint8Array){r=On.from(r),n=On.from(n),i=On.from(i);let a=new k1.createDecipheriv("aes-"+e.length*8+"-gcm",e,n);a.setAAD(i),a.setAuthTag(r.slice(r.length-Oa,r.length));let s=On.concat([a.update(r.slice(0,r.length-Oa)),a.final()]);return new Uint8Array(s)}}):{encrypt:async function(r,n,i){return mi.encrypt(r,e,n,i)},decrypt:async function(r,n,i){return mi.decrypt(r,e,n,i)}}}qa.getNonce=function(t,e){let r=t.slice();for(let n=0;n<e.length;n++)r[4+n]^=e[n];return r};qa.blockLength=G4;qa.ivLength=V4;qa.tagLength=Oa;var I0=class{static encrypt(e,r,n){return new I0(r,n).encrypt(e)}static decrypt(e,r,n){return new I0(r,n).encrypt(e)}constructor(e,r,n){this.aes=n||new za(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(r)}encrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return li(r,n)}decrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return li(r,n)}AES_CTR_set_options(e,r,n){let{asm:i}=this.aes.acquire_asm();if(n!==void 0){if(n<8||n>48)throw new tn("illegal counter size");let a=Math.pow(2,n)-1;i.set_mask(0,0,a/4294967296|0,a|0)}else n=48,i.set_mask(0,0,65535,4294967295);if(e!==void 0){let a=e.length;if(!a||a>16)throw new tn("illegal nonce size");let s=new DataView(new ArrayBuffer(16));new Uint8Array(s.buffer).set(e),i.set_nonce(s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12))}else throw new Error("nonce is required");if(r!==void 0){if(r<0||r>=Math.pow(2,n))throw new tn("illegal counter value");i.set_counter(0,0,r/4294967296|0,r|0)}}},D0=class{static encrypt(e,r,n=!0,i){return new D0(r,i,n).encrypt(e)}static decrypt(e,r,n=!0,i){return new D0(r,i,n).decrypt(e)}constructor(e,r,n=!0,i){this.aes=i||new za(e,r,n,"CBC")}encrypt(e){let r=this.aes.AES_Encrypt_process(e),n=this.aes.AES_Encrypt_finish();return li(r,n)}decrypt(e){let r=this.aes.AES_Decrypt_process(e),n=this.aes.AES_Decrypt_finish();return li(r,n)}},S1=P.getWebCrypto(),Z4=P.getNodeCrypto(),E1=P.getNodeBuffer(),qn=16;function C1(t,e){let r=t.length-qn;for(let n=0;n<qn;n++)t[n+r]^=e[n];return t}function X4(t,e,r){if(t.length&&t.length%qn==0)return C1(t,e);let n=new Uint8Array(t.length+(qn-t.length%qn));return n.set(t),n[t.length]=128,C1(n,r)}var Eo=new Uint8Array(qn);async function Q4(t){let e=await J4(t),r=P.double(await e(Eo)),n=P.double(r);return async function(i){return(await e(X4(i,r,n))).subarray(-qn)}}async function J4(t){return P.getWebCrypto()&&t.length!==24?(t=await S1.importKey("raw",t,{name:"AES-CBC",length:t.length*8},!1,["encrypt"]),async function(e){let r=await S1.encrypt({name:"AES-CBC",iv:Eo,length:qn*8},t,e);return new Uint8Array(r).subarray(0,r.byteLength-qn)}):P.getNodeCrypto()?(t=E1.from(t),async function(e){e=E1.from(e);let n=new Z4.createCipheriv("aes-"+t.length*8+"-cbc",t,Eo).update(e);return new Uint8Array(n)}):async function(e){return D0.encrypt(e,t,!1,Eo)}}var P1=P.getWebCrypto(),ey=P.getNodeCrypto(),Co=P.getNodeBuffer(),Ln=16,ty=Ln,La=Ln,R1=new Uint8Array(Ln),ed=new Uint8Array(Ln);ed[Ln-1]=1;var td=new Uint8Array(Ln);td[Ln-1]=2;async function ry(t){let e=await Q4(t);return function(r,n){return e(P.concatUint8Array([r,n]))}}async function ny(t){return P.getWebCrypto()&&t.length!==24&&navigator.userAgent.indexOf("Edge")===-1?(t=await P1.importKey("raw",t,{name:"AES-CTR",length:t.length*8},!1,["encrypt"]),async function(e,r){let n=await P1.encrypt({name:"AES-CTR",counter:r,length:Ln*8},t,e);return new Uint8Array(n)}):P.getNodeCrypto()?(t=Co.from(t),async function(e,r){e=Co.from(e),r=Co.from(r);let n=new ey.createCipheriv("aes-"+t.length*8+"-ctr",t,r),i=Co.concat([n.update(e),n.final()]);return new Uint8Array(i)}):async function(e,r){return I0.encrypt(e,t,r)}}async function K0(t,e){if(t.substr(0,3)!=="aes")throw new Error("EAX mode supports only AES cipher");let[r,n]=await Promise.all([ry(e),ny(e)]);return{encrypt:async function(i,a,s){let[o,f]=await Promise.all([r(R1,a),r(ed,s)]),c=await n(i,o),u=await r(td,c);for(let p=0;p<La;p++)u[p]^=f[p]^o[p];return P.concatUint8Array([c,u])},decrypt:async function(i,a,s){if(i.length<La)throw new Error("Invalid EAX ciphertext");let o=i.subarray(0,-La),f=i.subarray(-La),[c,d,u]=await Promise.all([r(R1,a),r(ed,s),r(td,o)]),p=u;for(let S=0;S<La;S++)p[S]^=d[S]^c[S];if(!P.equalsUint8Array(f,p))throw new Error("Authentication tag mismatch");return await n(o,c)}}}K0.getNonce=function(t,e){let r=t.slice();for(let n=0;n<e.length;n++)r[8+n]^=e[n];return r};K0.blockLength=Ln;K0.ivLength=ty;K0.tagLength=La;var cr=16,M1=15,gi=16;function T1(t){let e=0;for(let r=1;(t&r)==0;r<<=1)e++;return e}function pr(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r];return t}function Po(t,e){return pr(t.slice(),e)}var rd=new Uint8Array(cr),iy=new Uint8Array([1]);async function U0(t,e){let r=0,n,i,a;s(t,e);function s(d,u){let p=new Ur[d](u);n=p.encrypt.bind(p),i=p.decrypt.bind(p);let x=n(rd),S=P.double(x);a=[],a[0]=P.double(S),a.x=x,a.$=S}function o(d,u){let p=P.nbits(Math.max(d.length,u.length)/cr|0)-1;for(let x=r+1;x<=p;x++)a[x]=P.double(a[x-1]);r=p}function f(d){if(!d.length)return rd;let u=d.length/cr|0,p=new Uint8Array(cr),x=new Uint8Array(cr);for(let S=0;S<u;S++)pr(p,a[T1(S+1)]),pr(x,n(Po(p,d))),d=d.subarray(cr);if(d.length){pr(p,a.x);let S=new Uint8Array(cr);S.set(d,0),S[d.length]=128,pr(S,p),pr(x,n(S))}return x}function c(d,u,p,x){let S=u.length/cr|0;o(u,x);let E=P.concatUint8Array([rd.subarray(0,M1-p.length),iy,p]),H=E[cr-1]&63;E[cr-1]&=192;let K=n(E),ee=P.concatUint8Array([K,Po(K.subarray(0,8),K.subarray(1,9))]),ie=P.shiftRight(ee.subarray(0+(H>>3),17+(H>>3)),8-(H&7)).subarray(1),F=new Uint8Array(cr),V=new Uint8Array(u.length+gi),re,te=0;for(re=0;re<S;re++)pr(ie,a[T1(re+1)]),V.set(pr(d(Po(ie,u)),ie),te),pr(F,d===n?u:V.subarray(te)),u=u.subarray(cr),te+=cr;if(u.length){pr(ie,a.x);let se=n(ie);V.set(Po(u,se),te);let M=new Uint8Array(cr);M.set(d===n?u:V.subarray(te,-gi),0),M[u.length]=128,pr(F,M),te+=u.length}let X=pr(n(pr(pr(F,ie),a.$)),f(x));return V.set(X,te),V}return{encrypt:async function(d,u,p){return c(n,d,u,p)},decrypt:async function(d,u,p){if(d.length<gi)throw new Error("Invalid OCB ciphertext");let x=d.subarray(-gi);d=d.subarray(0,-gi);let S=c(i,d,u,p);if(P.equalsUint8Array(x,S.subarray(-gi)))return S.subarray(0,-gi);throw new Error("Authentication tag mismatch")}}}U0.getNonce=function(t,e){let r=t.slice();for(let n=0;n<e.length;n++)r[7+n]^=e[n];return r};U0.blockLength=cr;U0.ivLength=M1;U0.tagLength=gi;var dn=nn(function(t){(function(e){var r=function(w){var _,A=new Float64Array(16);if(w)for(_=0;_<w.length;_++)A[_]=w[_];return A},n=function(){throw new Error("no PRNG")},i=new Uint8Array(32);i[0]=9;var a=r(),s=r([1]),o=r([56129,1]),f=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function x(w,_,A,h,q){var I,D=0;for(I=0;I<q;I++)D|=w[_+I]^A[h+I];return(1&D-1>>>8)-1}function S(w,_,A,h){return x(w,_,A,h,32)}function E(w,_){var A;for(A=0;A<16;A++)w[A]=_[A]|0}function H(w){var _,A,h=1;for(_=0;_<16;_++)A=w[_]+h+65535,h=Math.floor(A/65536),w[_]=A-h*65536;w[0]+=h-1+37*(h-1)}function K(w,_,A){for(var h,q=~(A-1),I=0;I<16;I++)h=q&(w[I]^_[I]),w[I]^=h,_[I]^=h}function ee(w,_){var A,h,q,I=r(),D=r();for(A=0;A<16;A++)D[A]=_[A];for(H(D),H(D),H(D),h=0;h<2;h++){for(I[0]=D[0]-65517,A=1;A<15;A++)I[A]=D[A]-65535-(I[A-1]>>16&1),I[A-1]&=65535;I[15]=D[15]-32767-(I[14]>>16&1),q=I[15]>>16&1,I[14]&=65535,K(D,I,1-q)}for(A=0;A<16;A++)w[2*A]=D[A]&255,w[2*A+1]=D[A]>>8}function ie(w,_){var A=new Uint8Array(32),h=new Uint8Array(32);return ee(A,w),ee(h,_),S(A,0,h,0)}function F(w){var _=new Uint8Array(32);return ee(_,w),_[0]&1}function V(w,_){var A;for(A=0;A<16;A++)w[A]=_[2*A]+(_[2*A+1]<<8);w[15]&=32767}function re(w,_,A){for(var h=0;h<16;h++)w[h]=_[h]+A[h]}function te(w,_,A){for(var h=0;h<16;h++)w[h]=_[h]-A[h]}function X(w,_,A){var h,q,I=0,D=0,z=0,$=0,j=0,W=0,G=0,Y=0,Oe=0,it=0,Le=0,ne=0,ae=0,ce=0,fe=0,Be=0,Me=0,Te=0,Ve=0,De=0,ze=0,st=0,je=0,$e=0,mt=0,et=0,Ke=0,Yt=0,rt=0,at=0,ur=0,He=A[0],Fe=A[1],xt=A[2],Ye=A[3],Ge=A[4],ot=A[5],qe=A[6],We=A[7],ct=A[8],dt=A[9],he=A[10],de=A[11],ge=A[12],ke=A[13],Se=A[14],Ue=A[15];h=_[0],I+=h*He,D+=h*Fe,z+=h*xt,$+=h*Ye,j+=h*Ge,W+=h*ot,G+=h*qe,Y+=h*We,Oe+=h*ct,it+=h*dt,Le+=h*he,ne+=h*de,ae+=h*ge,ce+=h*ke,fe+=h*Se,Be+=h*Ue,h=_[1],D+=h*He,z+=h*Fe,$+=h*xt,j+=h*Ye,W+=h*Ge,G+=h*ot,Y+=h*qe,Oe+=h*We,it+=h*ct,Le+=h*dt,ne+=h*he,ae+=h*de,ce+=h*ge,fe+=h*ke,Be+=h*Se,Me+=h*Ue,h=_[2],z+=h*He,$+=h*Fe,j+=h*xt,W+=h*Ye,G+=h*Ge,Y+=h*ot,Oe+=h*qe,it+=h*We,Le+=h*ct,ne+=h*dt,ae+=h*he,ce+=h*de,fe+=h*ge,Be+=h*ke,Me+=h*Se,Te+=h*Ue,h=_[3],$+=h*He,j+=h*Fe,W+=h*xt,G+=h*Ye,Y+=h*Ge,Oe+=h*ot,it+=h*qe,Le+=h*We,ne+=h*ct,ae+=h*dt,ce+=h*he,fe+=h*de,Be+=h*ge,Me+=h*ke,Te+=h*Se,Ve+=h*Ue,h=_[4],j+=h*He,W+=h*Fe,G+=h*xt,Y+=h*Ye,Oe+=h*Ge,it+=h*ot,Le+=h*qe,ne+=h*We,ae+=h*ct,ce+=h*dt,fe+=h*he,Be+=h*de,Me+=h*ge,Te+=h*ke,Ve+=h*Se,De+=h*Ue,h=_[5],W+=h*He,G+=h*Fe,Y+=h*xt,Oe+=h*Ye,it+=h*Ge,Le+=h*ot,ne+=h*qe,ae+=h*We,ce+=h*ct,fe+=h*dt,Be+=h*he,Me+=h*de,Te+=h*ge,Ve+=h*ke,De+=h*Se,ze+=h*Ue,h=_[6],G+=h*He,Y+=h*Fe,Oe+=h*xt,it+=h*Ye,Le+=h*Ge,ne+=h*ot,ae+=h*qe,ce+=h*We,fe+=h*ct,Be+=h*dt,Me+=h*he,Te+=h*de,Ve+=h*ge,De+=h*ke,ze+=h*Se,st+=h*Ue,h=_[7],Y+=h*He,Oe+=h*Fe,it+=h*xt,Le+=h*Ye,ne+=h*Ge,ae+=h*ot,ce+=h*qe,fe+=h*We,Be+=h*ct,Me+=h*dt,Te+=h*he,Ve+=h*de,De+=h*ge,ze+=h*ke,st+=h*Se,je+=h*Ue,h=_[8],Oe+=h*He,it+=h*Fe,Le+=h*xt,ne+=h*Ye,ae+=h*Ge,ce+=h*ot,fe+=h*qe,Be+=h*We,Me+=h*ct,Te+=h*dt,Ve+=h*he,De+=h*de,ze+=h*ge,st+=h*ke,je+=h*Se,$e+=h*Ue,h=_[9],it+=h*He,Le+=h*Fe,ne+=h*xt,ae+=h*Ye,ce+=h*Ge,fe+=h*ot,Be+=h*qe,Me+=h*We,Te+=h*ct,Ve+=h*dt,De+=h*he,ze+=h*de,st+=h*ge,je+=h*ke,$e+=h*Se,mt+=h*Ue,h=_[10],Le+=h*He,ne+=h*Fe,ae+=h*xt,ce+=h*Ye,fe+=h*Ge,Be+=h*ot,Me+=h*qe,Te+=h*We,Ve+=h*ct,De+=h*dt,ze+=h*he,st+=h*de,je+=h*ge,$e+=h*ke,mt+=h*Se,et+=h*Ue,h=_[11],ne+=h*He,ae+=h*Fe,ce+=h*xt,fe+=h*Ye,Be+=h*Ge,Me+=h*ot,Te+=h*qe,Ve+=h*We,De+=h*ct,ze+=h*dt,st+=h*he,je+=h*de,$e+=h*ge,mt+=h*ke,et+=h*Se,Ke+=h*Ue,h=_[12],ae+=h*He,ce+=h*Fe,fe+=h*xt,Be+=h*Ye,Me+=h*Ge,Te+=h*ot,Ve+=h*qe,De+=h*We,ze+=h*ct,st+=h*dt,je+=h*he,$e+=h*de,mt+=h*ge,et+=h*ke,Ke+=h*Se,Yt+=h*Ue,h=_[13],ce+=h*He,fe+=h*Fe,Be+=h*xt,Me+=h*Ye,Te+=h*Ge,Ve+=h*ot,De+=h*qe,ze+=h*We,st+=h*ct,je+=h*dt,$e+=h*he,mt+=h*de,et+=h*ge,Ke+=h*ke,Yt+=h*Se,rt+=h*Ue,h=_[14],fe+=h*He,Be+=h*Fe,Me+=h*xt,Te+=h*Ye,Ve+=h*Ge,De+=h*ot,ze+=h*qe,st+=h*We,je+=h*ct,$e+=h*dt,mt+=h*he,et+=h*de,Ke+=h*ge,Yt+=h*ke,rt+=h*Se,at+=h*Ue,h=_[15],Be+=h*He,Me+=h*Fe,Te+=h*xt,Ve+=h*Ye,De+=h*Ge,ze+=h*ot,st+=h*qe,je+=h*We,$e+=h*ct,mt+=h*dt,et+=h*he,Ke+=h*de,Yt+=h*ge,rt+=h*ke,at+=h*Se,ur+=h*Ue,I+=38*Me,D+=38*Te,z+=38*Ve,$+=38*De,j+=38*ze,W+=38*st,G+=38*je,Y+=38*$e,Oe+=38*mt,it+=38*et,Le+=38*Ke,ne+=38*Yt,ae+=38*rt,ce+=38*at,fe+=38*ur,q=1,h=I+q+65535,q=Math.floor(h/65536),I=h-q*65536,h=D+q+65535,q=Math.floor(h/65536),D=h-q*65536,h=z+q+65535,q=Math.floor(h/65536),z=h-q*65536,h=$+q+65535,q=Math.floor(h/65536),$=h-q*65536,h=j+q+65535,q=Math.floor(h/65536),j=h-q*65536,h=W+q+65535,q=Math.floor(h/65536),W=h-q*65536,h=G+q+65535,q=Math.floor(h/65536),G=h-q*65536,h=Y+q+65535,q=Math.floor(h/65536),Y=h-q*65536,h=Oe+q+65535,q=Math.floor(h/65536),Oe=h-q*65536,h=it+q+65535,q=Math.floor(h/65536),it=h-q*65536,h=Le+q+65535,q=Math.floor(h/65536),Le=h-q*65536,h=ne+q+65535,q=Math.floor(h/65536),ne=h-q*65536,h=ae+q+65535,q=Math.floor(h/65536),ae=h-q*65536,h=ce+q+65535,q=Math.floor(h/65536),ce=h-q*65536,h=fe+q+65535,q=Math.floor(h/65536),fe=h-q*65536,h=Be+q+65535,q=Math.floor(h/65536),Be=h-q*65536,I+=q-1+37*(q-1),q=1,h=I+q+65535,q=Math.floor(h/65536),I=h-q*65536,h=D+q+65535,q=Math.floor(h/65536),D=h-q*65536,h=z+q+65535,q=Math.floor(h/65536),z=h-q*65536,h=$+q+65535,q=Math.floor(h/65536),$=h-q*65536,h=j+q+65535,q=Math.floor(h/65536),j=h-q*65536,h=W+q+65535,q=Math.floor(h/65536),W=h-q*65536,h=G+q+65535,q=Math.floor(h/65536),G=h-q*65536,h=Y+q+65535,q=Math.floor(h/65536),Y=h-q*65536,h=Oe+q+65535,q=Math.floor(h/65536),Oe=h-q*65536,h=it+q+65535,q=Math.floor(h/65536),it=h-q*65536,h=Le+q+65535,q=Math.floor(h/65536),Le=h-q*65536,h=ne+q+65535,q=Math.floor(h/65536),ne=h-q*65536,h=ae+q+65535,q=Math.floor(h/65536),ae=h-q*65536,h=ce+q+65535,q=Math.floor(h/65536),ce=h-q*65536,h=fe+q+65535,q=Math.floor(h/65536),fe=h-q*65536,h=Be+q+65535,q=Math.floor(h/65536),Be=h-q*65536,I+=q-1+37*(q-1),w[0]=I,w[1]=D,w[2]=z,w[3]=$,w[4]=j,w[5]=W,w[6]=G,w[7]=Y,w[8]=Oe,w[9]=it,w[10]=Le,w[11]=ne,w[12]=ae,w[13]=ce,w[14]=fe,w[15]=Be}function se(w,_){X(w,_,_)}function M(w,_){var A=r(),h;for(h=0;h<16;h++)A[h]=_[h];for(h=253;h>=0;h--)se(A,A),h!==2&&h!==4&&X(A,A,_);for(h=0;h<16;h++)w[h]=A[h]}function l(w,_){var A=r(),h;for(h=0;h<16;h++)A[h]=_[h];for(h=250;h>=0;h--)se(A,A),h!==1&&X(A,A,_);for(h=0;h<16;h++)w[h]=A[h]}function m(w,_,A){var h=new Uint8Array(32),q=new Float64Array(80),I,D,z=r(),$=r(),j=r(),W=r(),G=r(),Y=r();for(D=0;D<31;D++)h[D]=_[D];for(h[31]=_[31]&127|64,h[0]&=248,V(q,A),D=0;D<16;D++)$[D]=q[D],W[D]=z[D]=j[D]=0;for(z[0]=W[0]=1,D=254;D>=0;--D)I=h[D>>>3]>>>(D&7)&1,K(z,$,I),K(j,W,I),re(G,z,j),te(z,z,j),re(j,$,W),te($,$,W),se(W,G),se(Y,z),X(z,j,z),X(j,$,G),re(G,z,j),te(z,z,j),se($,z),te(j,W,Y),X(z,j,o),re(z,z,W),X(j,j,z),X(z,W,Y),X(W,$,q),se($,G),K(z,$,I),K(j,W,I);for(D=0;D<16;D++)q[D+16]=z[D],q[D+32]=j[D],q[D+48]=$[D],q[D+64]=W[D];var Oe=q.subarray(32),it=q.subarray(16);return M(Oe,Oe),X(it,it,Oe),ee(w,it),0}function y(w,_){return m(w,_,i)}function B(w,_){return n(_,32),y(w,_)}function O(w,_){var A=r(),h=r(),q=r(),I=r(),D=r(),z=r(),$=r(),j=r(),W=r();te(A,w[1],w[0]),te(W,_[1],_[0]),X(A,A,W),re(h,w[0],w[1]),re(W,_[0],_[1]),X(h,h,W),X(q,w[3],_[3]),X(q,q,c),X(I,w[2],_[2]),re(I,I,I),te(D,h,A),te(z,I,q),re($,I,q),re(j,h,A),X(w[0],D,z),X(w[1],j,$),X(w[2],$,z),X(w[3],D,j)}function Z(w,_,A){var h;for(h=0;h<4;h++)K(w[h],_[h],A)}function T(w,_){var A=r(),h=r(),q=r();M(q,_[2]),X(A,_[0],q),X(h,_[1],q),ee(w,h),w[31]^=F(A)<<7}function C(w,_,A){var h,q;for(E(w[0],a),E(w[1],s),E(w[2],s),E(w[3],a),q=255;q>=0;--q)h=A[q/8|0]>>(q&7)&1,Z(w,_,h),O(_,w),O(w,w),Z(w,_,h)}function b(w,_){var A=[r(),r(),r(),r()];E(A[0],d),E(A[1],u),E(A[2],s),X(A[3],d,u),C(w,A,_)}function N(w,_,A){var h,q=[r(),r(),r(),r()],I;for(A||n(_,32),h=e.hash(_.subarray(0,32)),h[0]&=248,h[31]&=127,h[31]|=64,b(q,h),T(w,q),I=0;I<32;I++)_[I+32]=w[I];return 0}var pe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ue(w,_){var A,h,q,I;for(h=63;h>=32;--h){for(A=0,q=h-32,I=h-12;q<I;++q)_[q]+=A-16*_[h]*pe[q-(h-32)],A=Math.floor((_[q]+128)/256),_[q]-=A*256;_[q]+=A,_[h]=0}for(A=0,q=0;q<32;q++)_[q]+=A-(_[31]>>4)*pe[q],A=_[q]>>8,_[q]&=255;for(q=0;q<32;q++)_[q]-=A*pe[q];for(h=0;h<32;h++)_[h+1]+=_[h]>>8,w[h]=_[h]&255}function me(w){var _=new Float64Array(64),A;for(A=0;A<64;A++)_[A]=w[A];for(A=0;A<64;A++)w[A]=0;ue(w,_)}function be(w,_,A,h){var q,I,D,z,$,j=new Float64Array(64),W=[r(),r(),r(),r()];q=e.hash(h.subarray(0,32)),q[0]&=248,q[31]&=127,q[31]|=64;var G=A+64;for(z=0;z<A;z++)w[64+z]=_[z];for(z=0;z<32;z++)w[32+z]=q[32+z];for(D=e.hash(w.subarray(32,G)),me(D),b(W,D),T(w,W),z=32;z<64;z++)w[z]=h[z];for(I=e.hash(w.subarray(0,G)),me(I),z=0;z<64;z++)j[z]=0;for(z=0;z<32;z++)j[z]=D[z];for(z=0;z<32;z++)for($=0;$<32;$++)j[z+$]+=I[z]*q[$];return ue(w.subarray(32),j),G}function ve(w,_){var A=r(),h=r(),q=r(),I=r(),D=r(),z=r(),$=r();return E(w[2],s),V(w[1],_),se(q,w[1]),X(I,q,f),te(q,q,w[2]),re(I,w[2],I),se(D,I),se(z,D),X($,z,D),X(A,$,q),X(A,A,I),l(A,A),X(A,A,q),X(A,A,I),X(A,A,I),X(w[0],A,I),se(h,w[0]),X(h,h,I),ie(h,q)&&X(w[0],w[0],p),se(h,w[0]),X(h,h,I),ie(h,q)?-1:(F(w[0])===_[31]>>7&&te(w[0],a,w[0]),X(w[3],w[0],w[1]),0)}function L(w,_,A,h){var q,I=new Uint8Array(32),D,z=[r(),r(),r(),r()],$=[r(),r(),r(),r()];if(A<64||ve($,h))return-1;for(q=0;q<A;q++)w[q]=_[q];for(q=0;q<32;q++)w[q+32]=h[q];if(D=e.hash(w.subarray(0,A)),me(D),C(z,$,D),b($,_.subarray(32)),O(z,$),T(I,z),A-=64,S(_,0,I,0)){for(q=0;q<A;q++)w[q]=0;return-1}for(q=0;q<A;q++)w[q]=_[q+64];return A}var oe=32,Q=32,J=32,le=32,ye=64,we=32,k=64,v=32;function R(){for(var w=0;w<arguments.length;w++)if(!(arguments[w]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function U(w){for(var _=0;_<w.length;_++)w[_]=0}e.scalarMult=function(w,_){if(R(w,_),w.length!==Q)throw new Error("bad n size");if(_.length!==oe)throw new Error("bad p size");var A=new Uint8Array(oe);return m(A,w,_),A},e.box={},e.box.keyPair=function(){var w=new Uint8Array(J),_=new Uint8Array(le);return B(w,_),{publicKey:w,secretKey:_}},e.box.keyPair.fromSecretKey=function(w){if(R(w),w.length!==le)throw new Error("bad secret key size");var _=new Uint8Array(J);return y(_,w),{publicKey:_,secretKey:new Uint8Array(w)}},e.sign=function(w,_){if(R(w,_),_.length!==k)throw new Error("bad secret key size");var A=new Uint8Array(ye+w.length);return be(A,w,w.length,_),A},e.sign.detached=function(w,_){for(var A=e.sign(w,_),h=new Uint8Array(ye),q=0;q<h.length;q++)h[q]=A[q];return h},e.sign.detached.verify=function(w,_,A){if(R(w,_,A),_.length!==ye)throw new Error("bad signature size");if(A.length!==we)throw new Error("bad public key size");var h=new Uint8Array(ye+w.length),q=new Uint8Array(ye+w.length),I;for(I=0;I<ye;I++)h[I]=_[I];for(I=0;I<w.length;I++)h[I+ye]=w[I];return L(q,h,h.length,A)>=0},e.sign.keyPair=function(){var w=new Uint8Array(we),_=new Uint8Array(k);return N(w,_),{publicKey:w,secretKey:_}},e.sign.keyPair.fromSecretKey=function(w){if(R(w),w.length!==k)throw new Error("bad secret key size");for(var _=new Uint8Array(we),A=0;A<_.length;A++)_[A]=w[32+A];return{publicKey:_,secretKey:new Uint8Array(w)}},e.sign.keyPair.fromSeed=function(w){if(R(w),w.length!==v)throw new Error("bad seed size");for(var _=new Uint8Array(we),A=new Uint8Array(k),h=0;h<32;h++)A[h]=w[h];return N(_,A,!0),{publicKey:_,secretKey:A}},e.setPRNG=function(w){n=w},function(){var w=typeof self!="undefined"?self.crypto||self.msCrypto:null;if(w&&w.getRandomValues){var _=65536;e.setPRNG(function(A,h){var q,I=new Uint8Array(h);for(q=0;q<h;q+=_)w.getRandomValues(I.subarray(q,q+Math.min(h-q,_)));for(q=0;q<h;q++)A[q]=I[q];U(I)})}else typeof W5!="undefined"&&(w=void 0,w&&w.randomBytes&&e.setPRNG(function(A,h){var q,I=w.randomBytes(h);for(q=0;q<h;q++)A[q]=I[q];U(I)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})}),B1=P.getNodeCrypto(),I1=class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(e,r){this.buffer=new Uint8Array(e),this.size=0,this.callback=r}set(e){if(!this.buffer)throw new Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw new Error("Invalid type: buf not an Uint8Array");let r=this.buffer.length-this.size;e.length>r&&(e=e.subarray(0,r)),this.buffer.set(e,this.size),this.size+=e.length}async get(e){if(!this.buffer)throw new Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw new Error("Invalid type: buf not an Uint8Array");if(this.size<e.length){if(!this.callback)throw new Error("Random number buffer depleted");return await this.callback(),this.get(e)}for(let r=0;r<e.length;r++)e[r]=this.buffer[--this.size],this.buffer[this.size]=0}};async function un(t){let e=new Uint8Array(t);if(typeof crypto!="undefined"&&crypto.getRandomValues)crypto.getRandomValues(e);else if(typeof ut!="undefined"&&typeof ut.msCrypto=="object"&&typeof ut.msCrypto.getRandomValues=="function")ut.msCrypto.getRandomValues(e);else if(B1){let r=B1.randomBytes(e.length);e.set(r)}else if(nd.buffer)await nd.get(e);else throw new Error("No secure random number generator available.");return e}async function jn(t,e){let r=await P.getBigInteger();if(e.lt(t))throw new Error("Illegal parameter value: max <= min");let n=e.sub(t),i=n.byteLength();return new r(await un(i+8)).mod(n).add(t)}var nd=new I1,ay=Object.freeze({__proto__:null,getRandomBytes:un,getRandomBigInteger:jn,randomBuffer:nd});async function K1(t,e,r){let n=await P.getBigInteger(),i=new n(1),a=i.leftShift(new n(t-1)),s=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],f=await jn(a,a.leftShift(i)),c=f.mod(s).toNumber();do f.iadd(new n(o[c])),c=(c+o[c])%o.length,f.bitLength()>t&&(f.imod(a.leftShift(i)).iadd(a),c=f.mod(s).toNumber());while(!await D1(f,e,r));return f}async function D1(t,e,r){return!(e&&!t.dec().gcd(e).isOne()||!await oy(t)||!await sy(t)||!await cy(t,r))}async function sy(t,e){let r=await P.getBigInteger();return e=e||new r(2),e.modExp(t.dec(),t).isOne()}async function oy(t){let e=await P.getBigInteger();return fy.every(r=>t.mod(new e(r))!==0)}var fy=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999];async function cy(t,e,r){let n=await P.getBigInteger(),i=t.bitLength();e||(e=Math.max(1,i/48|0));let a=t.dec(),s=0;for(;!a.getBit(s);)s++;let o=t.rightShift(new n(s));for(;e>0;e--){let c=(r?r():await jn(new n(2),a)).modExp(o,t);if(c.isOne()||c.equal(a))continue;let d;for(d=1;d<s;d++){if(c=c.mul(c).mod(t),c.isOne())return!1;if(c.equal(a))break}if(d===s)return!1}return!0}var ln=[];ln[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16];ln[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20];ln[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20];ln[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32];ln[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48];ln[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64];ln[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];async function dy(t){let e=new Uint8Array(t),r=0;for(;r<t;){let n=await un(t-r);for(let i=0;i<n.length;i++)n[i]!==0&&(e[r++]=n[i])}return e}async function id(t,e){let r=t.length;if(r>e-11)throw new Error("Message too long");let n=await dy(e-r-3),i=new Uint8Array(e);return i[1]=2,i.set(n,2),i.set(t,e-r),i}function ad(t){let e=2;for(;t[e]!==0&&e<t.length;)e++;let r=e-2,n=t[e++];if(t[0]===0&&t[1]===2&&r>=8&&n===0)return t.subarray(e);throw new Error("Decryption error")}async function sd(t,e,r){let n;if(e.length!==Ao.getHashByteLength(t))throw new Error("Invalid hash length");let i=new Uint8Array(ln[t].length);for(n=0;n<ln[t].length;n++)i[n]=ln[t][n];let a=i.length+e.length;if(r<a+11)throw new Error("Intended encoded message length too short");let s=new Uint8Array(r-a-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(s,2),o.set(i,r-a),o.set(e,r-e.length),o}var uy=Object.freeze({__proto__:null,emeEncode:id,emeDecode:ad,emsaEncode:sd}),ca=P.getWebCrypto(),fr=P.getNodeCrypto(),U1=void 0;function z1(t,e){return typeof t.then!="function"?new Promise(function(r,n){t.onerror=function(){n(new Error(e))},t.oncomplete=function(i){r(i.target.result)}}):t}var ja=P.detectNode()?U1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,Ro=P.detectNode()?U1.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;async function py(t,e,r,n,i,a,s,o,f){if(e&&!P.isStream(e)){if(P.getWebCrypto())try{return await hy(g.read(g.webHash,t),e,r,n,i,a,s,o)}catch(c){P.printDebugError(c)}else if(P.getNodeCrypto())return by(t,e,r,n,i,a,s,o)}return ly(t,r,i,f)}async function gy(t,e,r,n,i,a){if(e&&!P.isStream(e)){if(P.getWebCrypto())try{return await yy(g.read(g.webHash,t),e,r,n,i)}catch(s){P.printDebugError(s)}else if(P.getNodeCrypto())return my(t,e,r,n,i)}return xy(t,r,n,i,a)}async function _y(t,e,r){return P.getNodeCrypto()?vy(t,e,r):wy(t,e,r)}async function Sy(t,e,r,n,i,a,s){return P.getNodeCrypto()?Ay(t,e,r,n,i,a,s):ky(t,e,r,n,i,a,s)}async function Ey(t,e){let r=await P.getBigInteger();if(e=new r(e),P.getWebCrypto()){let s,o;if(ut.crypto&&ut.crypto.subtle||ut.msCrypto)o={name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:e.toUint8Array(),hash:{name:"SHA-1"}},s=ca.generateKey(o,!0,["sign","verify"]),s=await z1(s,"Error generating RSA key pair.");else if(ut.crypto&&ut.crypto.webkitSubtle)o={name:"RSA-OAEP",modulusLength:t,publicExponent:e.toUint8Array(),hash:{name:"SHA-1"}},s=await ca.generateKey(o,!0,["encrypt","decrypt"]);else throw new Error("Unknown WebCrypto implementation");let f=ca.exportKey("jwk",s.privateKey);return f=await z1(f,"Error exporting RSA key pair."),f instanceof ArrayBuffer&&(f=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)))),{n:In(f.n),e:e.toUint8Array(),d:In(f.d),p:In(f.q),q:In(f.p),u:In(f.qi)}}else if(P.getNodeCrypto()&&fr.generateKeyPair&&ja){let s={modulusLength:t,publicExponent:e.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},o=await new Promise((f,c)=>fr.generateKeyPair("rsa",s,(d,u,p)=>{d?c(d):f(ja.decode(p,"der"))}));return{n:o.modulus.toArrayLike(Uint8Array),e:o.publicExponent.toArrayLike(Uint8Array),d:o.privateExponent.toArrayLike(Uint8Array),p:o.prime2.toArrayLike(Uint8Array),q:o.prime1.toArrayLike(Uint8Array),u:o.coefficient.toArrayLike(Uint8Array)}}let n=await K1(t-(t>>1),e,40),i=await K1(t>>1,e,40);n.lt(i)&&([i,n]=[n,i]);let a=i.dec().imul(n.dec());return{n:i.mul(n).toUint8Array(),e:e.toUint8Array(),d:e.modInv(a).toUint8Array(),p:i.toUint8Array(),q:n.toUint8Array(),u:i.modInv(n).toUint8Array()}}async function Cy(t,e,r,n,i,a){let s=await P.getBigInteger();if(t=new s(t),n=new s(n),i=new s(i),!n.mul(i).equal(t))return!1;let o=new s(2);if(a=new s(a),!n.mul(a).mod(i).isOne())return!1;e=new s(e),r=new s(r);let f=new s(Math.floor(t.bitLength()/3)),c=await jn(o,o.leftShift(f)),d=c.mul(r).mul(e);return!!(d.mod(n.dec()).equal(c)&&d.mod(i.dec()).equal(c))}async function ly(t,e,r,n){let i=await P.getBigInteger();e=new i(e);let a=new i(await sd(t,n,e.byteLength()));if(r=new i(r),a.gte(e))throw new Error("Message size cannot exceed modulus size");return a.modExp(r,e).toUint8Array("be",e.byteLength())}async function hy(t,e,r,n,i,a,s,o){let f=await Py(r,n,i,a,s,o),c={name:"RSASSA-PKCS1-v1_5",hash:{name:t}},d=await ca.importKey("jwk",f,c,!1,["sign"]);return new Uint8Array(await ca.sign({name:"RSASSA-PKCS1-v1_5",hash:t},d,e))}async function by(t,e,r,n,i,a,s,o){let{default:f}=await Promise.resolve().then(function(){return z0}),c=new f(a),d=new f(s),u=new f(i),p=u.mod(d.subn(1)),x=u.mod(c.subn(1)),S=fr.createSign(g.read(g.hash,t));S.write(e),S.end();let E={version:0,modulus:new f(r),publicExponent:new f(n),privateExponent:new f(i),prime1:new f(s),prime2:new f(a),exponent1:p,exponent2:x,coefficient:new f(o)};if(typeof fr.createPrivateKey!="undefined"){let K=ja.encode(E,"der");return new Uint8Array(S.sign({key:K,format:"der",type:"pkcs1"}))}let H=ja.encode(E,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(S.sign(H))}async function xy(t,e,r,n,i){let a=await P.getBigInteger();if(r=new a(r),e=new a(e),n=new a(n),e.gte(r))throw new Error("Signature size cannot exceed modulus size");let s=e.modExp(n,r).toUint8Array("be",r.byteLength()),o=await sd(t,i,r.byteLength());return P.equalsUint8Array(s,o)}async function yy(t,e,r,n,i){let a=Ry(n,i),s=await ca.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:t}},!1,["verify"]);return ca.verify({name:"RSASSA-PKCS1-v1_5",hash:t},s,r,e)}async function my(t,e,r,n,i){let{default:a}=await Promise.resolve().then(function(){return z0}),s=fr.createVerify(g.read(g.hash,t));s.write(e),s.end();let o={modulus:new a(n),publicExponent:new a(i)},f;typeof fr.createPrivateKey!="undefined"?f={key:Ro.encode(o,"der"),format:"der",type:"pkcs1"}:f=Ro.encode(o,"pem",{label:"RSA PUBLIC KEY"});try{return await s.verify(f,r)}catch(c){return!1}}async function vy(t,e,r){let{default:n}=await Promise.resolve().then(function(){return z0}),i={modulus:new n(e),publicExponent:new n(r)},a;return typeof fr.createPrivateKey!="undefined"?a={key:Ro.encode(i,"der"),format:"der",type:"pkcs1",padding:fr.constants.RSA_PKCS1_PADDING}:a={key:Ro.encode(i,"pem",{label:"RSA PUBLIC KEY"}),padding:fr.constants.RSA_PKCS1_PADDING},new Uint8Array(fr.publicEncrypt(a,t))}async function wy(t,e,r){let n=await P.getBigInteger();if(e=new n(e),t=new n(await id(t,e.byteLength())),r=new n(r),t.gte(e))throw new Error("Message size cannot exceed modulus size");return t.modExp(r,e).toUint8Array("be",e.byteLength())}async function Ay(t,e,r,n,i,a,s){let{default:o}=await Promise.resolve().then(function(){return z0}),f=new o(i),c=new o(a),d=new o(n),u=d.mod(c.subn(1)),p=d.mod(f.subn(1)),x={version:0,modulus:new o(e),publicExponent:new o(r),privateExponent:new o(n),prime1:new o(a),prime2:new o(i),exponent1:u,exponent2:p,coefficient:new o(s)},S;typeof fr.createPrivateKey!="undefined"?S={key:ja.encode(x,"der"),format:"der",type:"pkcs1",padding:fr.constants.RSA_PKCS1_PADDING}:S={key:ja.encode(x,"pem",{label:"RSA PRIVATE KEY"}),padding:fr.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(fr.privateDecrypt(S,t))}catch(E){throw new Error("Decryption error")}}async function ky(t,e,r,n,i,a,s){let o=await P.getBigInteger();if(t=new o(t),e=new o(e),r=new o(r),n=new o(n),i=new o(i),a=new o(a),s=new o(s),t.gte(e))throw new Error("Data too large.");let f=n.mod(a.dec()),c=n.mod(i.dec()),d=(await jn(new o(2),e)).mod(e),u=d.modInv(e).modExp(r,e);t=t.mul(u).mod(e);let p=t.modExp(c,i),x=t.modExp(f,a),E=s.mul(x.sub(p)).mod(a).mul(i).add(p);return E=E.mul(d).mod(e),ad(E.toUint8Array("be",e.byteLength()))}async function Py(t,e,r,n,i,a){let s=await P.getBigInteger(),o=new s(n),f=new s(i),c=new s(r),d=c.mod(f.dec()),u=c.mod(o.dec());return u=u.toUint8Array(),d=d.toUint8Array(),{kty:"RSA",n:vr(t,!0),e:vr(e,!0),d:vr(r,!0),p:vr(i,!0),q:vr(n,!0),dp:vr(d,!0),dq:vr(u,!0),qi:vr(a,!0),ext:!0}}function Ry(t,e){return{kty:"RSA",n:vr(t,!0),e:vr(e,!0),ext:!0}}var My=Object.freeze({__proto__:null,sign:py,verify:gy,encrypt:_y,decrypt:Sy,generate:Ey,validateParams:Cy});async function Ty(t,e,r,n){let i=await P.getBigInteger();e=new i(e),r=new i(r),n=new i(n);let a=await id(t,e.byteLength()),s=new i(a),o=await jn(new i(1),e.dec());return{c1:r.modExp(o,e).toUint8Array(),c2:n.modExp(o,e).imul(s).imod(e).toUint8Array()}}async function By(t,e,r,n){let i=await P.getBigInteger();t=new i(t),e=new i(e),r=new i(r),n=new i(n);let a=t.modExp(n,r).modInv(r).imul(e).imod(r);return ad(a.toUint8Array("be",r.byteLength()))}async function Iy(t,e,r,n){let i=await P.getBigInteger();t=new i(t),e=new i(e),r=new i(r);let a=new i(1);if(e.lte(a)||e.gte(t))return!1;let s=new i(t.bitLength()),o=new i(1023);if(s.lt(o)||!e.modExp(t.dec(),t).isOne())return!1;let f=e,c=new i(1),d=new i(2).leftShift(new i(17));for(;c.lt(d);){if(f=f.mul(e).imod(t),f.isOne())return!1;c.iinc()}n=new i(n);let u=new i(2),p=await jn(u.leftShift(s.dec()),u.leftShift(s)),x=t.dec().imul(p).iadd(n);return!!r.equal(e.modExp(x,t))}var Dy=Object.freeze({__proto__:null,encrypt:Ty,decrypt:By,validateParams:Iy}),Nr=class{constructor(e){if(e instanceof Nr)this.oid=e.oid;else if(P.isArray(e)||P.isUint8Array(e)){if(e=new Uint8Array(e),e[0]===6){if(e[1]!==e.length-2)throw new Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){let r=e[0];if(e.length>=1+r)return this.oid=e.subarray(1,1+r),1+this.oid.length}throw new Error("Invalid oid")}write(){return P.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return P.uint8ArrayToHex(this.oid)}getName(){let e=this.toHex();if(g.curve[e])return g.write(g.curve,e);throw new Error("Unknown curve object identifier.")}};function Mo(t,e){return t.keyPair({priv:e})}function To(t,e){let r=t.keyPair({pub:e});if(r.validate().result!==!0)throw new Error("Invalid elliptic public key");return r}async function Ha(t){if(!Ce.useIndutnyElliptic)throw new Error("This curve is only supported in the full build of OpenPGP.js");let{default:e}=await Promise.resolve().then(function(){return Ky});return new e.ec(t)}var od=P.getWebCrypto(),Bo=P.getNodeCrypto(),hn={p256:"P-256",p384:"P-384",p521:"P-521"},Hn=Bo?Bo.getCurves():[],vi=Bo?{secp256k1:Hn.includes("secp256k1")?"secp256k1":void 0,p256:Hn.includes("prime256v1")?"prime256v1":void 0,p384:Hn.includes("secp384r1")?"secp384r1":void 0,p521:Hn.includes("secp521r1")?"secp521r1":void 0,ed25519:Hn.includes("ED25519")?"ED25519":void 0,curve25519:Hn.includes("X25519")?"X25519":void 0,brainpoolP256r1:Hn.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:Hn.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:Hn.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},Io={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:g.publicKey.ecdsa,hash:g.hash.sha256,cipher:g.symmetric.aes128,node:vi.p256,web:hn.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:g.publicKey.ecdsa,hash:g.hash.sha384,cipher:g.symmetric.aes192,node:vi.p384,web:hn.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:g.publicKey.ecdsa,hash:g.hash.sha512,cipher:g.symmetric.aes256,node:vi.p521,web:hn.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:g.publicKey.ecdsa,hash:g.hash.sha256,cipher:g.symmetric.aes128,node:vi.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:g.publicKey.eddsa,hash:g.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:g.publicKey.ecdh,hash:g.hash.sha256,cipher:g.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:g.publicKey.ecdsa,hash:g.hash.sha256,cipher:g.symmetric.aes128,node:vi.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:g.publicKey.ecdsa,hash:g.hash.sha384,cipher:g.symmetric.aes192,node:vi.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:g.publicKey.ecdsa,hash:g.hash.sha512,cipher:g.symmetric.aes256,node:vi.brainpoolP512r1,payloadSize:64}},Wn=class{constructor(e,r){try{(P.isArray(e)||P.isUint8Array(e))&&(e=new Nr(e)),e instanceof Nr&&(e=e.getName()),this.name=g.write(g.curve,e)}catch(n){throw new Error("Not valid curve")}r=r||Io[this.name],this.keyType=r.keyType,this.oid=r.oid,this.hash=r.hash,this.cipher=r.cipher,this.node=r.node&&Io[this.name],this.web=r.web&&Io[this.name],this.payloadSize=r.payloadSize,this.web&&P.getWebCrypto()?this.type="web":this.node&&P.getNodeCrypto()?this.type="node":this.name==="curve25519"?this.type="curve25519":this.name==="ed25519"&&(this.type="ed25519")}async genKeyPair(){let e;switch(this.type){case"web":try{return await Uy(this.name)}catch(n){P.printDebugError("Browser did not support generating ec key "+n.message);break}case"node":return zy(this.name);case"curve25519":{let n=await un(32);n[0]=n[0]&127|64,n[31]&=248;let i=n.slice().reverse();return e=dn.box.keyPair.fromSecretKey(i),{publicKey:P.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:n}}case"ed25519":{let n=await un(32),i=dn.sign.keyPair.fromSeed(n);return{publicKey:P.concatUint8Array([new Uint8Array([64]),i.publicKey]),privateKey:n}}}return e=await(await Ha(this.name)).genKeyPair({entropy:P.uint8ArrayToStr(await un(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}}};async function Fy(t){let e=await P.getBigInteger();t=new Wn(t);let r=await t.genKeyPair(),n=new e(r.publicKey).toUint8Array(),i=new e(r.privateKey).toUint8Array("be",t.payloadSize);return{oid:t.oid,Q:n,secret:i,hash:t.hash,cipher:t.cipher}}function Ny(t){return Io[g.write(g.curve,t.toHex())].hash}async function F1(t,e,r,n){let i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:t===g.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},a=e.getName();if(!i[a])return!1;if(a==="curve25519"){n=n.slice().reverse();let{publicKey:f}=dn.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);let c=new Uint8Array([64,...f]);return!!P.equalsUint8Array(c,r)}let s=await Ha(a);try{r=To(s,r).getPublic()}catch(f){return!1}return!!Mo(s,n).getPublic().eq(r)}async function Uy(t){let e=await od.generateKey({name:"ECDSA",namedCurve:hn[t]},!0,["sign","verify"]),r=await od.exportKey("jwk",e.privateKey),n=await od.exportKey("jwk",e.publicKey);return{publicKey:N1(n),privateKey:In(r.d)}}async function zy(t){let e=Bo.createECDH(vi[t]);return await e.generateKeys(),{publicKey:new Uint8Array(e.getPublicKey()),privateKey:new Uint8Array(e.getPrivateKey())}}function N1(t){let e=In(t.x),r=In(t.y),n=new Uint8Array(e.length+r.length+1);return n[0]=4,n.set(e,1),n.set(r,e.length+1),n}function Do(t,e,r){let n=t,i=r.slice(1,n+1),a=r.slice(n+1,n*2+1);return{kty:"EC",crv:e,x:vr(i,!0),y:vr(a,!0),ext:!0}}function O1(t,e,r,n){let i=Do(t,e,r);return i.d=vr(n,!0),i}var Ko=P.getWebCrypto(),fa=P.getNodeCrypto();async function q1(t,e,r,n,i,a){let s=new Wn(t);if(r&&!P.isStream(r)){let o={publicKey:n,privateKey:i};switch(s.type){case"web":{try{return await qy(s,e,r,o)}catch(f){if(s.name!=="p521"&&(f.name==="DataError"||f.name==="OperationError"))throw f;P.printDebugError("Browser did not support signing: "+f.message)}break}case"node":{let f=await Ly(s,e,r,o);return{r:f.r.toArrayLike(Uint8Array),s:f.s.toArrayLike(Uint8Array)}}}}return Oy(s,a,i)}async function L1(t,e,r,n,i,a){let s=new Wn(t);if(n&&!P.isStream(n))switch(s.type){case"web":try{return await Hy(s,e,r,n,i)}catch(f){if(s.name!=="p521"&&(f.name==="DataError"||f.name==="OperationError"))throw f;P.printDebugError("Browser did not support verifying: "+f.message)}break;case"node":return Wy(s,e,r,n,i)}let o=typeof e=="undefined"?n:a;return jy(s,r,o,i)}async function $y(t,e,r){let n=new Wn(t);if(n.keyType!==g.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{let i=await un(8),a=g.hash.sha256,s=await Ao.digest(a,i);try{let o=await q1(t,a,i,e,r,s);return await L1(t,a,o,i,e,s)}catch(o){return!1}}default:return F1(g.publicKey.ecdsa,t,e,r)}}async function Oy(t,e,r){let n=await Ha(t.name),a=Mo(n,r).sign(e);return{r:a.r.toArrayLike(Uint8Array),s:a.s.toArrayLike(Uint8Array)}}async function jy(t,e,r,n){let i=await Ha(t.name);return To(i,n).verify(r,e)}async function qy(t,e,r,n){let i=t.payloadSize,a=O1(t.payloadSize,hn[t.name],n.publicKey,n.privateKey),s=await Ko.importKey("jwk",a,{name:"ECDSA",namedCurve:hn[t.name],hash:{name:g.read(g.webHash,t.hash)}},!1,["sign"]),o=new Uint8Array(await Ko.sign({name:"ECDSA",namedCurve:hn[t.name],hash:{name:g.read(g.webHash,e)}},s,r));return{r:o.slice(0,i),s:o.slice(i,i<<1)}}async function Hy(t,e,{r,s:n},i,a){let s=Do(t.payloadSize,hn[t.name],a),o=await Ko.importKey("jwk",s,{name:"ECDSA",namedCurve:hn[t.name],hash:{name:g.read(g.webHash,t.hash)}},!1,["verify"]),f=P.concatUint8Array([r,n]).buffer;return Ko.verify({name:"ECDSA",namedCurve:hn[t.name],hash:{name:g.read(g.webHash,e)}},o,f,i)}async function Ly(t,e,r,n){let i=fa.createSign(g.read(g.hash,e));i.write(r),i.end();let a=Yy.encode({version:1,parameters:t.oid,privateKey:Array.from(n.privateKey),publicKey:{unused:0,data:Array.from(n.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return j1.decode(i.sign(a),"der")}async function Wy(t,e,{r,s:n},i,a){let{default:s}=await Promise.resolve().then(function(){return z0}),o=fa.createVerify(g.read(g.hash,e));o.write(i),o.end();let f=Gy.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:t.oid},subjectPublicKey:{unused:0,data:Array.from(a)}},"pem",{label:"PUBLIC KEY"}),c=j1.encode({r:new s(r),s:new s(n)},"der");try{return o.verify(f,c)}catch(d){return!1}}var Uo=void 0,j1=fa?Uo.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,Yy=fa?Uo.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,Vy=fa?Uo.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,Gy=fa?Uo.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Vy),this.key("subjectPublicKey").bitstr())}):void 0,Zy=Object.freeze({__proto__:null,sign:q1,verify:L1,validateParams:$y});dn.hash=t=>new Uint8Array(T0().update(t).digest());async function Xy(t,e,r,n,i,a){let s=P.concatUint8Array([i,n.subarray(1)]),o=dn.sign.detached(a,s);return{r:o.subarray(0,32),s:o.subarray(32)}}async function Jy(t,e,{r,s:n},i,a,s){let o=P.concatUint8Array([r,n]);return dn.sign.detached.verify(s,o,a.subarray(1))}async function Qy(t,e,r){if(t.getName()!=="ed25519")return!1;let{publicKey:n}=dn.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return P.equalsUint8Array(e,i)}var em=Object.freeze({__proto__:null,sign:Xy,verify:Jy,validateParams:Qy});function H1(t,e){let r=new Ur["aes"+t.length*8](t),n=new Uint32Array([2795939494,2795939494]),i=zo(e),a=n,s=i,o=i.length/2,f=new Uint32Array([0,0]),c=new Uint32Array(4);for(let d=0;d<=5;++d)for(let u=0;u<o;++u)f[1]=o*d+(1+u),c[0]=a[0],c[1]=a[1],c[2]=s[2*u],c[3]=s[2*u+1],c=zo(r.encrypt(Fo(c))),a=c.subarray(0,2),a[0]^=f[0],a[1]^=f[1],s[2*u]=c[2],s[2*u+1]=c[3];return Fo(a,s)}function W1(t,e){let r=new Ur["aes"+t.length*8](t),n=new Uint32Array([2795939494,2795939494]),i=zo(e),a=i.subarray(0,2),s=i.subarray(2),o=i.length/2-1,f=new Uint32Array([0,0]),c=new Uint32Array(4);for(let d=5;d>=0;--d)for(let u=o-1;u>=0;--u)f[1]=o*d+(u+1),c[0]=a[0]^f[0],c[1]=a[1]^f[1],c[2]=s[2*u],c[3]=s[2*u+1],c=zo(r.decrypt(Fo(c))),a=c.subarray(0,2),s[2*u]=c[2],s[2*u+1]=c[3];if(a[0]===n[0]&&a[1]===n[1])return Fo(s);throw new Error("Key Data Integrity failed")}function tm(t){if(P.isString(t)){let{length:e}=t,r=new ArrayBuffer(e),n=new Uint8Array(r);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i);return r}return new Uint8Array(t).buffer}function zo(t){let{length:e}=t,r=tm(t),n=new DataView(r),i=new Uint32Array(e/4);for(let a=0;a<e/4;++a)i[a]=n.getUint32(4*a);return i}function Fo(){let t=0;for(let i=0;i<arguments.length;++i)t+=4*arguments[i].length;let e=new ArrayBuffer(t),r=new DataView(e),n=0;for(let i=0;i<arguments.length;++i){for(let a=0;a<arguments[i].length;++a)r.setUint32(n+4*a,arguments[i][a]);n+=4*arguments[i].length}return new Uint8Array(e)}var rm=Object.freeze({__proto__:null,wrap:H1,unwrap:W1});function $1(t){let e=8-t.length%8,r=new Uint8Array(t.length+e).fill(e);return r.set(t),r}function Y1(t){let e=t.length;if(e>0){let r=t[e-1];if(r>=1){let n=t.subarray(e-r),i=new Uint8Array(r).fill(r);if(P.equalsUint8Array(n,i))return t.subarray(0,e-r)}}throw new Error("Invalid padding")}var nm=Object.freeze({__proto__:null,encode:$1,decode:Y1}),wi=P.getWebCrypto(),G1=P.getNodeCrypto();async function im(t,e,r){return F1(g.publicKey.ecdh,t,e,r)}function V1(t,e,r,n){return P.concatUint8Array([e.write(),new Uint8Array([t]),r.write(),P.strToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function Z1(t,e,r,n,i=!1,a=!1){let s;if(i){for(s=0;s<e.length&&e[s]===0;s++);e=e.subarray(s)}if(a){for(s=e.length-1;s>=0&&e[s]===0;s--);e=e.subarray(0,s+1)}return(await Ao.digest(t,P.concatUint8Array([new Uint8Array([0,0,0,1]),e,n]))).subarray(0,r)}async function cm(t,e){switch(t.type){case"curve25519":{let r=await un(32),{secretKey:n,sharedKey:i}=await X1(t,e,null,r),{publicKey:a}=dn.box.keyPair.fromSecretKey(n);return a=P.concatUint8Array([new Uint8Array([64]),a]),{publicKey:a,sharedKey:i}}case"web":if(t.web&&P.getWebCrypto())try{return await am(t,e)}catch(r){P.printDebugError(r)}break;case"node":return om(t,e)}return sm(t,e)}async function fm(t,e,r,n,i){let a=$1(r),s=new Wn(t),{publicKey:o,sharedKey:f}=await cm(s,n),c=V1(g.publicKey.ecdh,t,e,i),d=g.read(g.symmetric,e.cipher),u=await Z1(e.hash,f,Ur[d].keySize,c),p=H1(u,a);return{publicKey:o,wrappedKey:p}}async function X1(t,e,r,n){if(n.length!==t.payloadSize){let i=new Uint8Array(t.payloadSize);i.set(n,t.payloadSize-n.length),n=i}switch(t.type){case"curve25519":{let i=n.slice().reverse(),a=dn.scalarMult(i,e.subarray(1));return{secretKey:i,sharedKey:a}}case"web":if(t.web&&P.getWebCrypto())try{return await dm(t,e,r,n)}catch(i){P.printDebugError(i)}break;case"node":return lm(t,e,n)}return um(t,e,n)}async function hm(t,e,r,n,i,a,s){let o=new Wn(t),{sharedKey:f}=await X1(o,r,i,a),c=V1(g.publicKey.ecdh,t,e,s),d=g.read(g.symmetric,e.cipher),u;for(let p=0;p<3;p++)try{let x=await Z1(e.hash,f,Ur[d].keySize,c,p===1,p===2);return Y1(W1(x,n))}catch(x){u=x}throw u}async function dm(t,e,r,n){let i=O1(t.payloadSize,t.web.web,r,n),a=wi.importKey("jwk",i,{name:"ECDH",namedCurve:t.web.web},!0,["deriveKey","deriveBits"]),s=Do(t.payloadSize,t.web.web,e),o=wi.importKey("jwk",s,{name:"ECDH",namedCurve:t.web.web},!0,[]);[a,o]=await Promise.all([a,o]);let f=wi.deriveBits({name:"ECDH",namedCurve:t.web.web,public:o},a,t.web.sharedSize),c=wi.exportKey("jwk",a);[f,c]=await Promise.all([f,c]);let d=new Uint8Array(f);return{secretKey:In(c.d),sharedKey:d}}async function am(t,e){let r=Do(t.payloadSize,t.web.web,e),n=wi.generateKey({name:"ECDH",namedCurve:t.web.web},!0,["deriveKey","deriveBits"]),i=wi.importKey("jwk",r,{name:"ECDH",namedCurve:t.web.web},!1,[]);[n,i]=await Promise.all([n,i]);let a=wi.deriveBits({name:"ECDH",namedCurve:t.web.web,public:i},n.privateKey,t.web.sharedSize),s=wi.exportKey("jwk",n.publicKey);[a,s]=await Promise.all([a,s]);let o=new Uint8Array(a);return{publicKey:new Uint8Array(N1(s)),sharedKey:o}}async function um(t,e,r){let n=await Ha(t.name);e=To(n,e),r=Mo(n,r);let i=new Uint8Array(r.getPrivate()),a=r.derive(e.getPublic()),s=n.curve.p.byteLength(),o=a.toArrayLike(Uint8Array,"be",s);return{secretKey:i,sharedKey:o}}async function sm(t,e){let r=await Ha(t.name),n=await t.genKeyPair();e=To(r,e);let i=Mo(r,n.privateKey),a=n.publicKey,s=i.derive(e.getPublic()),o=r.curve.p.byteLength(),f=s.toArrayLike(Uint8Array,"be",o);return{publicKey:a,sharedKey:f}}async function lm(t,e,r){let n=G1.createECDH(t.node.node);n.setPrivateKey(r);let i=new Uint8Array(n.computeSecret(e));return{secretKey:new Uint8Array(n.getPrivateKey()),sharedKey:i}}async function om(t,e){let r=G1.createECDH(t.node.node);r.generateKeys();let n=new Uint8Array(r.computeSecret(e));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:n}}var bm=Object.freeze({__proto__:null,validateParams:im,encrypt:fm,decrypt:hm}),pm=Object.freeze({__proto__:null,Curve:Wn,ecdh:bm,ecdsa:Zy,eddsa:em,generate:Fy,getPreferredHashAlgo:Ny});async function xm(t,e,r,n,i,a){let s=await P.getBigInteger(),o=new s(1);n=new s(n),i=new s(i),r=new s(r),a=new s(a);let f,c,d,u;r=r.mod(n),a=a.mod(i);let p=new s(e.subarray(0,i.byteLength())).mod(i);for(;;){if(f=await jn(o,i),c=r.modExp(f,n).imod(i),c.isZero())continue;let x=a.mul(c).imod(i);if(u=p.add(x).imod(i),d=f.modInv(i).imul(u).imod(i),!d.isZero())break}return{r:c.toUint8Array("be",i.byteLength()),s:d.toUint8Array("be",i.byteLength())}}async function ym(t,e,r,n,i,a,s,o){let f=await P.getBigInteger(),c=new f(0);if(e=new f(e),r=new f(r),a=new f(a),s=new f(s),i=new f(i),o=new f(o),e.lte(c)||e.gte(s)||r.lte(c)||r.gte(s))return P.printDebug("invalid DSA Signature"),!1;let d=new f(n.subarray(0,s.byteLength())).imod(s),u=r.modInv(s);if(u.isZero())return P.printDebug("invalid DSA Signature"),!1;i=i.mod(a),o=o.mod(a);let p=d.mul(u).imod(s),x=e.mul(u).imod(s),S=i.modExp(p,a),E=o.modExp(x,a);return S.mul(E).imod(a).imod(s).equal(e)}async function mm(t,e,r,n,i){let a=await P.getBigInteger();t=new a(t),e=new a(e),r=new a(r),n=new a(n);let s=new a(1);if(r.lte(s)||r.gte(t)||!t.dec().mod(e).isZero()||!r.modExp(e,t).isOne())return!1;let o=new a(e.bitLength()),f=new a(150);if(o.lt(f)||!await D1(e,null,32))return!1;i=new a(i);let c=new a(2),d=await jn(c.leftShift(o.dec()),c.leftShift(o)),u=e.mul(d).add(i);return!!n.equal(r.modExp(u,t))}var gm=Object.freeze({__proto__:null,sign:xm,verify:ym,validateParams:mm}),St={rsa:My,elgamal:Dy,elliptic:pm,dsa:gm,nacl:dn};function vm(t,e){let r=0;switch(t){case g.publicKey.rsaEncryptSign:case g.publicKey.rsaEncrypt:case g.publicKey.rsaSign:return{s:P.readMPI(e.subarray(r))};case g.publicKey.dsa:case g.publicKey.ecdsa:{let n=P.readMPI(e.subarray(r));r+=n.length+2;let i=P.readMPI(e.subarray(r));return{r:n,s:i}}case g.publicKey.eddsa:{let n=P.readMPI(e.subarray(r));r+=n.length+2,n=P.leftPad(n,32);let i=P.readMPI(e.subarray(r));return i=P.leftPad(i,32),{r:n,s:i}}default:throw new Error("Invalid signature algorithm.")}}async function wm(t,e,r,n,i,a){switch(t){case g.publicKey.rsaEncryptSign:case g.publicKey.rsaEncrypt:case g.publicKey.rsaSign:{let{n:s,e:o}=n,f=P.leftPad(r.s,s.length);return St.rsa.verify(e,i,f,s,o,a)}case g.publicKey.dsa:{let{g:s,p:o,q:f,y:c}=n,{r:d,s:u}=r;return St.dsa.verify(e,d,u,a,s,o,f,c)}case g.publicKey.ecdsa:{let{oid:s,Q:o}=n,f=new St.elliptic.Curve(s).payloadSize,c=P.leftPad(r.r,f),d=P.leftPad(r.s,f);return St.elliptic.ecdsa.verify(s,e,{r:c,s:d},i,o,a)}case g.publicKey.eddsa:{let{oid:s,Q:o}=n;return St.elliptic.eddsa.verify(s,e,r,i,o,a)}default:throw new Error("Invalid signature algorithm.")}}async function _m(t,e,r,n,i,a){if(!r||!n)throw new Error("Missing key parameters");switch(t){case g.publicKey.rsaEncryptSign:case g.publicKey.rsaEncrypt:case g.publicKey.rsaSign:{let{n:s,e:o}=r,{d:f,p:c,q:d,u}=n;return{s:await St.rsa.sign(e,i,s,o,f,c,d,u,a)}}case g.publicKey.dsa:{let{g:s,p:o,q:f}=r,{x:c}=n;return St.dsa.sign(e,a,s,o,f,c)}case g.publicKey.elgamal:throw new Error("Signing with Elgamal is not defined in the OpenPGP standard.");case g.publicKey.ecdsa:{let{oid:s,Q:o}=r,{d:f}=n;return St.elliptic.ecdsa.sign(s,e,i,o,f,a)}case g.publicKey.eddsa:{let{oid:s,Q:o}=r,{seed:f}=n;return St.elliptic.eddsa.sign(s,e,i,o,f,a)}default:throw new Error("Invalid signature algorithm.")}}var Am=Object.freeze({__proto__:null,parseSignatureParams:vm,verify:wm,sign:_m}),cd=class{constructor(e){typeof e=="undefined"?e=new Uint8Array([]):P.isString(e)?e=P.strToUint8Array(e):e=new Uint8Array(e),this.data=e}read(e){if(e.length>=1){let r=e[0];if(e.length>=1+r)return this.data=e.subarray(1,1+r),1+this.data.length}throw new Error("Invalid symmetric key")}write(){return P.concatUint8Array([new Uint8Array([this.data.length]),this.data])}},fd=class{constructor(e){if(e){let{hash:r,cipher:n}=e;this.hash=r,this.cipher=n}else this.hash=null,this.cipher=null}read(e){if(e.length<4||e[0]!==3||e[1]!==1)throw new Error("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}};async function km(t,e,r,n){switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:{let{n:i,e:a}=e;return{c:await St.rsa.encrypt(r,i,a)}}case g.publicKey.elgamal:{let{p:i,g:a,y:s}=e;return St.elgamal.encrypt(r,i,a,s)}case g.publicKey.ecdh:{let{oid:i,Q:a,kdfParams:s}=e,{publicKey:o,wrappedKey:f}=await St.elliptic.ecdh.encrypt(i,s,r,a,n);return{V:o,C:new cd(f)}}default:return[]}}async function Sm(t,e,r,n,i){switch(t){case g.publicKey.rsaEncryptSign:case g.publicKey.rsaEncrypt:{let{c:a}=n,{n:s,e:o}=e,{d:f,p:c,q:d,u}=r;return St.rsa.decrypt(a,s,o,f,c,d,u)}case g.publicKey.elgamal:{let{c1:a,c2:s}=n,o=e.p,f=r.x;return St.elgamal.decrypt(a,s,o,f)}case g.publicKey.ecdh:{let{oid:a,Q:s,kdfParams:o}=e,{d:f}=r,{V:c,C:d}=n;return St.elliptic.ecdh.decrypt(a,o,c,d.data,s,f,i)}default:throw new Error("Invalid public key encryption algorithm.")}}function Em(t,e){let r=0;switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:case g.publicKey.rsaSign:{let n=P.readMPI(e.subarray(r));r+=n.length+2;let i=P.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{n,e:i}}}case g.publicKey.dsa:{let n=P.readMPI(e.subarray(r));r+=n.length+2;let i=P.readMPI(e.subarray(r));r+=i.length+2;let a=P.readMPI(e.subarray(r));r+=a.length+2;let s=P.readMPI(e.subarray(r));return r+=s.length+2,{read:r,publicParams:{p:n,q:i,g:a,y:s}}}case g.publicKey.elgamal:{let n=P.readMPI(e.subarray(r));r+=n.length+2;let i=P.readMPI(e.subarray(r));r+=i.length+2;let a=P.readMPI(e.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:n,g:i,y:a}}}case g.publicKey.ecdsa:{let n=new Nr;r+=n.read(e);let i=P.readMPI(e.subarray(r));return r+=i.length+2,{read:r,publicParams:{oid:n,Q:i}}}case g.publicKey.eddsa:{let n=new Nr;r+=n.read(e);let i=P.readMPI(e.subarray(r));return r+=i.length+2,i=P.leftPad(i,33),{read:r,publicParams:{oid:n,Q:i}}}case g.publicKey.ecdh:{let n=new Nr;r+=n.read(e);let i=P.readMPI(e.subarray(r));r+=i.length+2;let a=new fd;return r+=a.read(e.subarray(r)),{read:r,publicParams:{oid:n,Q:i,kdfParams:a}}}default:throw new Error("Invalid public key encryption algorithm.")}}function Cm(t,e,r){let n=0;switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:case g.publicKey.rsaSign:{let i=P.readMPI(e.subarray(n));n+=i.length+2;let a=P.readMPI(e.subarray(n));n+=a.length+2;let s=P.readMPI(e.subarray(n));n+=s.length+2;let o=P.readMPI(e.subarray(n));return n+=o.length+2,{read:n,privateParams:{d:i,p:a,q:s,u:o}}}case g.publicKey.dsa:case g.publicKey.elgamal:{let i=P.readMPI(e.subarray(n));return n+=i.length+2,{read:n,privateParams:{x:i}}}case g.publicKey.ecdsa:case g.publicKey.ecdh:{let i=new Wn(r.oid),a=P.readMPI(e.subarray(n));return n+=a.length+2,a=P.leftPad(a,i.payloadSize),{read:n,privateParams:{d:a}}}case g.publicKey.eddsa:{let i=P.readMPI(e.subarray(n));return n+=i.length+2,i=P.leftPad(i,32),{read:n,privateParams:{seed:i}}}default:throw new Error("Invalid public key encryption algorithm.")}}function Pm(t,e){let r=0;switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:return{c:P.readMPI(e.subarray(r))};case g.publicKey.elgamal:{let n=P.readMPI(e.subarray(r));r+=n.length+2;let i=P.readMPI(e.subarray(r));return{c1:n,c2:i}}case g.publicKey.ecdh:{let n=P.readMPI(e.subarray(r));r+=n.length+2;let i=new cd;return i.read(e.subarray(r)),{V:n,C:i}}default:throw new Error("Invalid public key encryption algorithm.")}}function Rm(t,e){let r=Object.keys(e).map(n=>{let i=e[n];return P.isUint8Array(i)?P.uint8ArrayToMpi(i):i.write()});return P.concatUint8Array(r)}function Mm(t,e,r){switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:case g.publicKey.rsaSign:return St.rsa.generate(e,65537).then(({n,e:i,d:a,p:s,q:o,u:f})=>({privateParams:{d:a,p:s,q:o,u:f},publicParams:{n,e:i}}));case g.publicKey.ecdsa:return St.elliptic.generate(r).then(({oid:n,Q:i,secret:a})=>({privateParams:{d:a},publicParams:{oid:new Nr(n),Q:i}}));case g.publicKey.eddsa:return St.elliptic.generate(r).then(({oid:n,Q:i,secret:a})=>({privateParams:{seed:a},publicParams:{oid:new Nr(n),Q:i}}));case g.publicKey.ecdh:return St.elliptic.generate(r).then(({oid:n,Q:i,secret:a,hash:s,cipher:o})=>({privateParams:{d:a},publicParams:{oid:new Nr(n),Q:i,kdfParams:new fd({hash:s,cipher:o})}}));case g.publicKey.dsa:case g.publicKey.elgamal:throw new Error("Unsupported algorithm for key generation.");default:throw new Error("Invalid public key algorithm.")}}async function Tm(t,e,r){if(!e||!r)throw new Error("Missing key parameters");switch(t){case g.publicKey.rsaEncrypt:case g.publicKey.rsaEncryptSign:case g.publicKey.rsaSign:{let{n,e:i}=e,{d:a,p:s,q:o,u:f}=r;return St.rsa.validateParams(n,i,a,s,o,f)}case g.publicKey.dsa:{let{p:n,q:i,g:a,y:s}=e,{x:o}=r;return St.dsa.validateParams(n,i,a,s,o)}case g.publicKey.elgamal:{let{p:n,g:i,y:a}=e,{x:s}=r;return St.elgamal.validateParams(n,i,a,s)}case g.publicKey.ecdsa:case g.publicKey.ecdh:{let n=St.elliptic[g.read(g.publicKey,t)],{oid:i,Q:a}=e,{d:s}=r;return n.validateParams(i,a,s)}case g.publicKey.eddsa:{let{oid:n,Q:i}=e,{seed:a}=r;return St.elliptic.eddsa.validateParams(n,i,a)}default:throw new Error("Invalid public key algorithm.")}}async function Bm(t){let e=await un(Ur[t].blockSize),r=new Uint8Array([e[e.length-2],e[e.length-1]]);return P.concat([e,r])}function Im(t){return un(Ur[t].keySize)}var Dm=Object.freeze({__proto__:null,publicKeyEncrypt:km,publicKeyDecrypt:Sm,parsePublicKeyParams:Em,parsePrivateKeyParams:Cm,parseEncSessionKeyParams:Pm,serializeParams:Rm,generateParams:Mm,validateParams:Tm,getPrefixRandom:Bm,generateSessionKey:Im}),Re={cipher:Ur,hash:Ao,cfb:Y4,gcm:qa,experimentalGcm:qa,eax:K0,ocb:U0,publicKey:St,signature:Am,random:ay,pkcs1:uy,pkcs5:nm,aes_kw:rm};Object.assign(Re,Dm);var F0=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function J1(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)}var Q1={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray){t.set(e.subarray(r,r+n),i);return}for(let a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){let e,r,n,i,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;let s=new Uint8Array(n);for(i=0,e=0,r=t.length;e<r;e++)a=t[e],s.set(a,i),i+=a.length;return s}},e2={arraySet:function(t,e,r,n,i){for(let a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}},bn=F0?Uint8Array:Array,Er=F0?Uint16Array:Array,No=F0?Int32Array:Array,t2=F0?Q1.flattenChunks:e2.flattenChunks,pn=F0?Q1.arraySet:e2.arraySet,xn=0,Km=1,N0=2,Um=3,qt=4,dd=5,Oo=6,ht=0,$n=1,r2=2,Rt=-2,ud=-3,O0=-5,n2=-1,zm=1,qo=2,Fm=3,i2=4,Nm=0,a2=0,s2=1,o2=2,Wa=8;function $a(t){let e=t.length;for(;--e>=0;)t[e]=0}var Om=0,c2=1,qm=2,Lm=3,jm=258,ld=29,q0=256,L0=q0+1+ld,Ya=30,hd=19,f2=2*L0+1,da=15,bd=16,Hm=7,pd=256,d2=16,u2=17,l2=18,xd=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Lo=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Wm=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h2=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$m=512,Yn=new Array((L0+2)*2);$a(Yn);var j0=new Array(Ya*2);$a(j0);var H0=new Array($m);$a(H0);var W0=new Array(jm-Lm+1);$a(W0);var yd=new Array(ld);$a(yd);var jo=new Array(Ya);$a(jo);function md(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}var b2,p2,x2;function gd(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function y2(t){return t<256?H0[t]:H0[256+(t>>>7)]}function $0(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function xr(t,e,r){t.bi_valid>bd-r?(t.bi_buf|=e<<t.bi_valid&65535,$0(t,t.bi_buf),t.bi_buf=e>>bd-t.bi_valid,t.bi_valid+=r-bd):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function yn(t,e,r){xr(t,r[e*2],r[e*2+1])}function m2(t,e){let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1}function Ym(t){t.bi_valid===16?($0(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function Gm(t,e){let r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,f=e.stat_desc.max_length,c,d,u,p,x,S,E=0;for(p=0;p<=da;p++)t.bl_count[p]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<f2;c++)d=t.heap[c],p=r[r[d*2+1]*2+1]+1,p>f&&(p=f,E++),r[d*2+1]=p,!(d>n)&&(t.bl_count[p]++,x=0,d>=o&&(x=s[d-o]),S=r[d*2],t.opt_len+=S*(p+x),a&&(t.static_len+=S*(i[d*2+1]+x)));if(E!==0){do{for(p=f-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[f]--,E-=2}while(E>0);for(p=f;p!==0;p--)for(d=t.bl_count[p];d!==0;)u=t.heap[--c],!(u>n)&&(r[u*2+1]!==p&&(t.opt_len+=(p-r[u*2+1])*r[u*2],r[u*2+1]=p),d--)}}function g2(t,e,r){let n=new Array(da+1),i=0,a,s;for(a=1;a<=da;a++)n[a]=i=i+r[a-1]<<1;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=m2(n[o]++,o))}}function Vm(){let t,e,r,n,i,a=new Array(da+1);for(r=0,n=0;n<ld-1;n++)for(yd[n]=r,t=0;t<1<<xd[n];t++)W0[r++]=n;for(W0[r-1]=n,i=0,n=0;n<16;n++)for(jo[n]=i,t=0;t<1<<Lo[n];t++)H0[i++]=n;for(i>>=7;n<Ya;n++)for(jo[n]=i<<7,t=0;t<1<<Lo[n]-7;t++)H0[256+i++]=n;for(e=0;e<=da;e++)a[e]=0;for(t=0;t<=143;)Yn[t*2+1]=8,t++,a[8]++;for(;t<=255;)Yn[t*2+1]=9,t++,a[9]++;for(;t<=279;)Yn[t*2+1]=7,t++,a[7]++;for(;t<=287;)Yn[t*2+1]=8,t++,a[8]++;for(g2(Yn,L0+1,a),t=0;t<Ya;t++)j0[t*2+1]=5,j0[t*2]=m2(t,5);b2=new md(Yn,xd,q0+1,L0,da),p2=new md(j0,Lo,0,Ya,da),x2=new md(new Array(0),Wm,0,hd,Hm)}function v2(t){let e;for(e=0;e<L0;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Ya;e++)t.dyn_dtree[e*2]=0;for(e=0;e<hd;e++)t.bl_tree[e*2]=0;t.dyn_ltree[pd*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function w2(t){t.bi_valid>8?$0(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Zm(t,e,r,n){w2(t),n&&($0(t,r),$0(t,~r)),pn(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function _2(t,e,r,n){let i=e*2,a=r*2;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function vd(t,e,r){let n=t.heap[r],i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&_2(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!_2(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function A2(t,e,r){let n,i,a=0,s,o;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+a*2]<<8|t.pending_buf[t.d_buf+a*2+1],i=t.pending_buf[t.l_buf+a],a++,n===0?yn(t,i,e):(s=W0[i],yn(t,s+q0+1,e),o=xd[s],o!==0&&(i-=yd[s],xr(t,i,o)),n--,s=y2(n),yn(t,s,r),o=Lo[s],o!==0&&(n-=jo[s],xr(t,n,o)));while(a<t.last_lit);yn(t,pd,e)}function wd(t,e){let r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems,s,o,f=-1,c;for(t.heap_len=0,t.heap_max=f2,s=0;s<a;s++)r[s*2]!==0?(t.heap[++t.heap_len]=f=s,t.depth[s]=0):r[s*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=f<2?++f:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[c*2+1]);for(e.max_code=f,s=t.heap_len>>1;s>=1;s--)vd(t,r,s);c=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],vd(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,r[c*2]=r[s*2]+r[o*2],t.depth[c]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,r[s*2+1]=r[o*2+1]=c,t.heap[1]=c++,vd(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Gm(t,e),g2(r,f,t.bl_count)}function k2(t,e,r){let n,i=-1,a,s=e[0*2+1],o=0,f=7,c=4;for(s===0&&(f=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=e[(n+1)*2+1],!(++o<f&&a===s)&&(o<c?t.bl_tree[a*2]+=o:a!==0?(a!==i&&t.bl_tree[a*2]++,t.bl_tree[d2*2]++):o<=10?t.bl_tree[u2*2]++:t.bl_tree[l2*2]++,o=0,i=a,s===0?(f=138,c=3):a===s?(f=6,c=3):(f=7,c=4))}function S2(t,e,r){let n,i=-1,a,s=e[0*2+1],o=0,f=7,c=4;for(s===0&&(f=138,c=3),n=0;n<=r;n++)if(a=s,s=e[(n+1)*2+1],!(++o<f&&a===s)){if(o<c)do yn(t,a,t.bl_tree);while(--o!=0);else a!==0?(a!==i&&(yn(t,a,t.bl_tree),o--),yn(t,d2,t.bl_tree),xr(t,o-3,2)):o<=10?(yn(t,u2,t.bl_tree),xr(t,o-3,3)):(yn(t,l2,t.bl_tree),xr(t,o-11,7));o=0,i=a,s===0?(f=138,c=3):a===s?(f=6,c=3):(f=7,c=4)}}function Xm(t){let e;for(k2(t,t.dyn_ltree,t.l_desc.max_code),k2(t,t.dyn_dtree,t.d_desc.max_code),wd(t,t.bl_desc),e=hd-1;e>=3&&t.bl_tree[h2[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function Jm(t,e,r,n){let i;for(xr(t,e-257,5),xr(t,r-1,5),xr(t,n-4,4),i=0;i<n;i++)xr(t,t.bl_tree[h2[i]*2+1],3);S2(t,t.dyn_ltree,e-1),S2(t,t.dyn_dtree,r-1)}function Qm(t){let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return a2;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return s2;for(r=32;r<q0;r++)if(t.dyn_ltree[r*2]!==0)return s2;return a2}var E2=!1;function e7(t){E2||(Vm(),E2=!0),t.l_desc=new gd(t.dyn_ltree,b2),t.d_desc=new gd(t.dyn_dtree,p2),t.bl_desc=new gd(t.bl_tree,x2),t.bi_buf=0,t.bi_valid=0,v2(t)}function C2(t,e,r,n){xr(t,(Om<<1)+(n?1:0),3),Zm(t,e,r,!0)}function t7(t){xr(t,c2<<1,3),yn(t,pd,Yn),Ym(t)}function r7(t,e,r,n){let i,a,s=0;t.level>0?(t.strm.data_type===o2&&(t.strm.data_type=Qm(t)),wd(t,t.l_desc),wd(t,t.d_desc),s=Xm(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?C2(t,e,r,n):t.strategy===i2||a===i?(xr(t,(c2<<1)+(n?1:0),3),A2(t,Yn,j0)):(xr(t,(qm<<1)+(n?1:0),3),Jm(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),A2(t,t.dyn_ltree,t.dyn_dtree)),v2(t),n&&w2(t)}function _i(t,e,r){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(W0[r]+q0+1)*2]++,t.dyn_dtree[y2(e)*2]++),t.last_lit===t.lit_bufsize-1}function Y0(t,e,r,n){let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}function n7(){let t,e=[];for(let r=0;r<256;r++){t=r;for(let n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var i7=n7();function Lt(t,e,r,n){let i=i7,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1}var G0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},a7=9,s7=29,o7=256,_d=o7+1+s7,c7=30,f7=19,d7=2*_d+1,u7=15,nt=3,Ai=258,Or=Ai+nt+1,l7=32,Ho=42,Ad=69,Wo=73,$o=91,Yo=103,ua=113,V0=666,Ft=1,Z0=2,la=3,Ga=4,h7=3;function ki(t,e){return t.msg=G0[e],e}function P2(t){return(t<<1)-(t>4?9:0)}function Si(t){let e=t.length;for(;--e>=0;)t[e]=0}function Ei(t){let e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(pn(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function Vt(t,e){r7(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ei(t.strm)}function ft(t,e){t.pending_buf[t.pending++]=e}function X0(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function b7(t,e,r,n){let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,pn(e,t.input,t.next_in,i,r),t.state.wrap===1?t.adler=Y0(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Lt(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function R2(t,e){let r=t.max_chain_length,n=t.strstart,i,a,s=t.prev_length,o=t.nice_match,f=t.strstart>t.w_size-Or?t.strstart-(t.w_size-Or):0,c=t.window,d=t.w_mask,u=t.prev,p=t.strstart+Ai,x=c[n+s-1],S=c[n+s];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(i=e,!(c[i+s]!==S||c[i+s-1]!==x||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<p);if(a=Ai-(p-n),n=p-Ai,a>s){if(t.match_start=e,s=a,a>=o)break;x=c[n+s-1],S=c[n+s]}}while((e=u[e&d])>f&&--r!=0);return s<=t.lookahead?s:t.lookahead}function ha(t){let e=t.w_size,r,n,i,a,s;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Or)){pn(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);a+=e}if(t.strm.avail_in===0)break;if(n=b7(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=nt)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+nt-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<nt)););}while(t.lookahead<Or&&t.strm.avail_in!==0)}function p7(t,e){let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ha(t),t.lookahead===0&&e===xn)return Ft;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;let n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Vt(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Or&&(Vt(t,!1),t.strm.avail_out===0))return Ft}return t.insert=0,e===qt?(Vt(t,!0),t.strm.avail_out===0?la:Ga):(t.strstart>t.block_start&&(Vt(t,!1),t.strm.avail_out===0),Ft)}function kd(t,e){let r,n;for(;;){if(t.lookahead<Or){if(ha(t),t.lookahead<Or&&e===xn)return Ft;if(t.lookahead===0)break}if(r=0,t.lookahead>=nt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+nt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Or&&(t.match_length=R2(t,r)),t.match_length>=nt)if(n=_i(t,t.strstart-t.match_start,t.match_length-nt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=nt){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+nt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=_i(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Vt(t,!1),t.strm.avail_out===0))return Ft}return t.insert=t.strstart<nt-1?t.strstart:nt-1,e===qt?(Vt(t,!0),t.strm.avail_out===0?la:Ga):t.last_lit&&(Vt(t,!1),t.strm.avail_out===0)?Ft:Z0}function Va(t,e){let r,n,i;for(;;){if(t.lookahead<Or){if(ha(t),t.lookahead<Or&&e===xn)return Ft;if(t.lookahead===0)break}if(r=0,t.lookahead>=nt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+nt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=nt-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Or&&(t.match_length=R2(t,r),t.match_length<=5&&(t.strategy===zm||t.match_length===nt&&t.strstart-t.match_start>4096)&&(t.match_length=nt-1)),t.prev_length>=nt&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-nt,n=_i(t,t.strstart-1-t.prev_match,t.prev_length-nt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+nt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=nt-1,t.strstart++,n&&(Vt(t,!1),t.strm.avail_out===0))return Ft}else if(t.match_available){if(n=_i(t,0,t.window[t.strstart-1]),n&&Vt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Ft}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=_i(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<nt-1?t.strstart:nt-1,e===qt?(Vt(t,!0),t.strm.avail_out===0?la:Ga):t.last_lit&&(Vt(t,!1),t.strm.avail_out===0)?Ft:Z0}function x7(t,e){let r,n,i,a,s=t.window;for(;;){if(t.lookahead<=Ai){if(ha(t),t.lookahead<=Ai&&e===xn)return Ft;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=nt&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=t.strstart+Ai;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=Ai-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=nt?(r=_i(t,1,t.match_length-nt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=_i(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Vt(t,!1),t.strm.avail_out===0))return Ft}return t.insert=0,e===qt?(Vt(t,!0),t.strm.avail_out===0?la:Ga):t.last_lit&&(Vt(t,!1),t.strm.avail_out===0)?Ft:Z0}function y7(t,e){let r;for(;;){if(t.lookahead===0&&(ha(t),t.lookahead===0)){if(e===xn)return Ft;break}if(t.match_length=0,r=_i(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Vt(t,!1),t.strm.avail_out===0))return Ft}return t.insert=0,e===qt?(Vt(t,!0),t.strm.avail_out===0?la:Ga):t.last_lit&&(Vt(t,!1),t.strm.avail_out===0)?Ft:Z0}var qr=class{constructor(e,r,n,i,a){this.good_length=e,this.max_lazy=r,this.nice_length=n,this.max_chain=i,this.func=a}},J0=[new qr(0,0,0,0,p7),new qr(4,4,8,4,kd),new qr(4,5,16,8,kd),new qr(4,6,32,32,kd),new qr(4,4,16,16,Va),new qr(8,16,32,32,Va),new qr(8,16,128,128,Va),new qr(8,32,128,256,Va),new qr(32,128,258,1024,Va),new qr(32,258,258,4096,Va)];function m7(t){t.window_size=2*t.w_size,Si(t.head),t.max_lazy_match=J0[t.level].max_lazy,t.good_match=J0[t.level].good_length,t.nice_match=J0[t.level].nice_length,t.max_chain_length=J0[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=nt-1,t.match_available=0,t.ins_h=0}var M2=class{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Wa,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Er(d7*2),this.dyn_dtree=new Er((2*c7+1)*2),this.bl_tree=new Er((2*f7+1)*2),Si(this.dyn_ltree),Si(this.dyn_dtree),Si(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Er(u7+1),this.heap=new Er(2*_d+1),Si(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Er(2*_d+1),Si(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}};function g7(t){let e;return!t||!t.state?ki(t,Rt):(t.total_in=t.total_out=0,t.data_type=o2,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Ho:ua,t.adler=e.wrap===2?0:1,e.last_flush=xn,e7(e),ht)}function v7(t){let e=g7(t);return e===ht&&m7(t.state),e}function w7(t,e){return!t||!t.state||t.state.wrap!==2?Rt:(t.state.gzhead=e,ht)}function _7(t,e,r,n,i,a){if(!t)return Rt;let s=1;if(e===n2&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>a7||r!==Wa||n<8||n>15||e<0||e>9||a<0||a>i2)return ki(t,Rt);n===8&&(n=9);let o=new M2;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+nt-1)/nt),o.window=new bn(o.w_size*2),o.head=new Er(o.hash_size),o.prev=new Er(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new bn(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=e,o.strategy=a,o.method=r,v7(t)}function A7(t,e){let r,n,i,a;if(!t||!t.state||e>dd||e<0)return t?ki(t,Rt):Rt;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===V0&&e!==qt)return ki(t,t.avail_out===0?O0:Rt);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===Ho)if(n.wrap===2)t.adler=0,ft(n,31),ft(n,139),ft(n,8),n.gzhead?(ft(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ft(n,n.gzhead.time&255),ft(n,n.gzhead.time>>8&255),ft(n,n.gzhead.time>>16&255),ft(n,n.gzhead.time>>24&255),ft(n,n.level===9?2:n.strategy>=qo||n.level<2?4:0),ft(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(ft(n,n.gzhead.extra.length&255),ft(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Lt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Ad):(ft(n,0),ft(n,0),ft(n,0),ft(n,0),ft(n,0),ft(n,n.level===9?2:n.strategy>=qo||n.level<2?4:0),ft(n,h7),n.status=ua);else{let o=Wa+(n.w_bits-8<<4)<<8,f=-1;n.strategy>=qo||n.level<2?f=0:n.level<6?f=1:n.level===6?f=2:f=3,o|=f<<6,n.strstart!==0&&(o|=l7),o+=31-o%31,n.status=ua,X0(n,o),n.strstart!==0&&(X0(n,t.adler>>>16),X0(n,t.adler&65535)),t.adler=1}if(n.status===Ad)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lt(t.adler,n.pending_buf,n.pending-i,i)),Ei(t),i=n.pending,n.pending===n.pending_buf_size));)ft(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=Lt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Wo)}else n.status=Wo;if(n.status===Wo)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lt(t.adler,n.pending_buf,n.pending-i,i)),Ei(t),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}n.gzindex<n.gzhead.name.length?a=n.gzhead.name.charCodeAt(n.gzindex++)&255:a=0,ft(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Lt(t.adler,n.pending_buf,n.pending-i,i)),a===0&&(n.gzindex=0,n.status=$o)}else n.status=$o;if(n.status===$o)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lt(t.adler,n.pending_buf,n.pending-i,i)),Ei(t),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}n.gzindex<n.gzhead.comment.length?a=n.gzhead.comment.charCodeAt(n.gzindex++)&255:a=0,ft(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Lt(t.adler,n.pending_buf,n.pending-i,i)),a===0&&(n.status=Yo)}else n.status=Yo;if(n.status===Yo&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Ei(t),n.pending+2<=n.pending_buf_size&&(ft(n,t.adler&255),ft(n,t.adler>>8&255),t.adler=0,n.status=ua)):n.status=ua),n.pending!==0){if(Ei(t),t.avail_out===0)return n.last_flush=-1,ht}else if(t.avail_in===0&&P2(e)<=P2(r)&&e!==qt)return ki(t,O0);if(n.status===V0&&t.avail_in!==0)return ki(t,O0);if(t.avail_in!==0||n.lookahead!==0||e!==xn&&n.status!==V0){var s=n.strategy===qo?y7(n,e):n.strategy===Fm?x7(n,e):J0[n.level].func(n,e);if((s===la||s===Ga)&&(n.status=V0),s===Ft||s===la)return t.avail_out===0&&(n.last_flush=-1),ht;if(s===Z0&&(e===Km?t7(n):e!==dd&&(C2(n,0,0,!1),e===Um&&(Si(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ei(t),t.avail_out===0))return n.last_flush=-1,ht}return e!==qt?ht:n.wrap<=0?$n:(n.wrap===2?(ft(n,t.adler&255),ft(n,t.adler>>8&255),ft(n,t.adler>>16&255),ft(n,t.adler>>24&255),ft(n,t.total_in&255),ft(n,t.total_in>>8&255),ft(n,t.total_in>>16&255),ft(n,t.total_in>>24&255)):(X0(n,t.adler>>>16),X0(n,t.adler&65535)),Ei(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ht:$n)}function k7(t){let e;return!t||!t.state?Rt:(e=t.state.status,e!==Ho&&e!==Ad&&e!==Wo&&e!==$o&&e!==Yo&&e!==ua&&e!==V0?ki(t,Rt):(t.state=null,e===ua?ki(t,ud):ht))}function S7(t,e){let r=e.length,n,i,a,s,o,f,c,d;if(!t||!t.state||(n=t.state,s=n.wrap,s===2||s===1&&n.status!==Ho||n.lookahead))return Rt;for(s===1&&(t.adler=Y0(t.adler,e,r,0)),n.wrap=0,r>=n.w_size&&(s===0&&(Si(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new bn(n.w_size),pn(d,e,r-n.w_size,n.w_size,0),e=d,r=n.w_size),o=t.avail_in,f=t.next_in,c=t.input,t.avail_in=r,t.next_in=0,t.input=e,ha(n);n.lookahead>=nt;){i=n.strstart,a=n.lookahead-(nt-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+nt-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--a);n.strstart=i,n.lookahead=nt-1,ha(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=nt-1,n.match_available=0,t.next_in=f,t.input=c,t.avail_in=o,n.wrap=s,ht}try{String.fromCharCode.apply(null,[0])}catch(t){}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){}var Sd=new bn(256);for(let t=0;t<256;t++)Sd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Sd[254]=Sd[254]=1;function Ed(t){let e,r,n,i,a=0,s=t.length;for(n=0;n<s;n++)e=t.charCodeAt(n),(e&64512)==55296&&n+1<s&&(r=t.charCodeAt(n+1),(r&64512)==56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),a+=e<128?1:e<2048?2:e<65536?3:4;let o=new bn(a);for(i=0,n=0;i<a;n++)e=t.charCodeAt(n),(e&64512)==55296&&n+1<s&&(r=t.charCodeAt(n+1),(r&64512)==56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),e<128?o[i++]=e:e<2048?(o[i++]=192|e>>>6,o[i++]=128|e&63):e<65536?(o[i++]=224|e>>>12,o[i++]=128|e>>>6&63,o[i++]=128|e&63):(o[i++]=240|e>>>18,o[i++]=128|e>>>12&63,o[i++]=128|e>>>6&63,o[i++]=128|e&63);return o}function E7(t){let e=new bn(t.length);for(let r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e}var Cd=class{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},Go=class{constructor(e){this.options={level:n2,method:Wa,chunkSize:16384,windowBits:15,memLevel:8,strategy:Nm,...e||{}};let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cd,this.strm.avail_out=0;var n=_7(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(n!==ht)throw new Error(G0[n]);if(r.header&&w7(this.strm,r.header),r.dictionary){let i;if(typeof r.dictionary=="string"?i=Ed(r.dictionary):r.dictionary instanceof ArrayBuffer?i=new Uint8Array(r.dictionary):i=r.dictionary,n=S7(this.strm,i),n!==ht)throw new Error(G0[n]);this._dict_set=!0}}push(e,r){let{strm:n,options:{chunkSize:i}}=this;var a,s;if(this.ended)return!1;s=r===~~r?r:r===!0?qt:xn,typeof e=="string"?n.input=Ed(e):e instanceof ArrayBuffer?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new bn(i),n.next_out=0,n.avail_out=i),a=A7(n,s),a!==$n&&a!==ht)return this.onEnd(a),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(s===qt||s===N0))&&this.onData(J1(n.output,n.next_out))}while((n.avail_in>0||n.avail_out===0)&&a!==$n);return s===qt?(a=k7(this.strm),this.onEnd(a),this.ended=!0,a===ht):(s===N0&&(this.onEnd(ht),n.avail_out=0),!0)}onData(e){this.chunks.push(e)}onEnd(e){e===ht&&(this.result=t2(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}},Vo=30,C7=12;function P7(t,e){let r,n,i,a,s,o,f,c,d,u,p=t.state;r=t.next_in;let x=t.input,S=r+(t.avail_in-5);n=t.next_out;let E=t.output,H=n-(e-t.avail_out),K=n+(t.avail_out-257),ee=p.dmax,ie=p.wsize,F=p.whave,V=p.wnext,re=p.window;i=p.hold,a=p.bits;let te=p.lencode,X=p.distcode,se=(1<<p.lenbits)-1,M=(1<<p.distbits)-1;e:do{a<15&&(i+=x[r++]<<a,a+=8,i+=x[r++]<<a,a+=8),s=te[i&se];t:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,o===0)E[n++]=s&65535;else if(o&16){f=s&65535,o&=15,o&&(a<o&&(i+=x[r++]<<a,a+=8),f+=i&(1<<o)-1,i>>>=o,a-=o),a<15&&(i+=x[r++]<<a,a+=8,i+=x[r++]<<a,a+=8),s=X[i&M];r:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,o&16){if(c=s&65535,o&=15,a<o&&(i+=x[r++]<<a,a+=8,a<o&&(i+=x[r++]<<a,a+=8)),c+=i&(1<<o)-1,c>ee){t.msg="invalid distance too far back",p.mode=Vo;break e}if(i>>>=o,a-=o,o=n-H,c>o){if(o=c-o,o>F&&p.sane){t.msg="invalid distance too far back",p.mode=Vo;break e}if(d=0,u=re,V===0){if(d+=ie-o,o<f){f-=o;do E[n++]=re[d++];while(--o);d=n-c,u=E}}else if(V<o){if(d+=ie+V-o,o-=V,o<f){f-=o;do E[n++]=re[d++];while(--o);if(d=0,V<f){o=V,f-=o;do E[n++]=re[d++];while(--o);d=n-c,u=E}}}else if(d+=V-o,o<f){f-=o;do E[n++]=re[d++];while(--o);d=n-c,u=E}for(;f>2;)E[n++]=u[d++],E[n++]=u[d++],E[n++]=u[d++],f-=3;f&&(E[n++]=u[d++],f>1&&(E[n++]=u[d++]))}else{d=n-c;do E[n++]=E[d++],E[n++]=E[d++],E[n++]=E[d++],f-=3;while(f>2);f&&(E[n++]=E[d++],f>1&&(E[n++]=E[d++]))}}else if((o&64)==0){s=X[(s&65535)+(i&(1<<o)-1)];continue r}else{t.msg="invalid distance code",p.mode=Vo;break e}break}}else if((o&64)==0){s=te[(s&65535)+(i&(1<<o)-1)];continue t}else if(o&32){p.mode=C7;break e}else{t.msg="invalid literal/length code",p.mode=Vo;break e}break}}while(r<S&&n<K);f=a>>3,r-=f,a-=f<<3,i&=(1<<a)-1,t.next_in=r,t.next_out=n,t.avail_in=r<S?5+(S-r):5-(r-S),t.avail_out=n<K?257+(K-n):257-(n-K),p.hold=i,p.bits=a}var Za=15,T2=852,B2=592,I2=0,Pd=1,D2=2,R7=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],M7=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],T7=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],B7=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Q0(t,e,r,n,i,a,s,o){let f=o.bits,c=0,d=0,u=0,p=0,x=0,S=0,E=0,H=0,K=0,ee=0,ie,F,V,re,te=null,X=0,se,M=new Er(Za+1),l=new Er(Za+1),m=null,y=0,B,O,Z;for(c=0;c<=Za;c++)M[c]=0;for(d=0;d<n;d++)M[e[r+d]]++;for(x=f,p=Za;p>=1&&M[p]===0;p--);if(x>p&&(x=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<p&&M[u]===0;u++);for(x<u&&(x=u),H=1,c=1;c<=Za;c++)if(H<<=1,H-=M[c],H<0)return-1;if(H>0&&(t===I2||p!==1))return-1;for(l[1]=0,c=1;c<Za;c++)l[c+1]=l[c]+M[c];for(d=0;d<n;d++)e[r+d]!==0&&(s[l[e[r+d]]++]=d);t===I2?(te=m=s,se=19):t===Pd?(te=R7,X-=257,m=M7,y-=257,se=256):(te=T7,m=B7,se=-1),ee=0,d=0,c=u,re=a,S=x,E=0,V=-1,K=1<<x;let T=K-1;if(t===Pd&&K>T2||t===D2&&K>B2)return 1;for(;;){B=c-E,s[d]<se?(O=0,Z=s[d]):s[d]>se?(O=m[y+s[d]],Z=te[X+s[d]]):(O=32+64,Z=0),ie=1<<c-E,F=1<<S,u=F;do F-=ie,i[re+(ee>>E)+F]=B<<24|O<<16|Z|0;while(F!==0);for(ie=1<<c-1;ee&ie;)ie>>=1;if(ie!==0?(ee&=ie-1,ee+=ie):ee=0,d++,--M[c]==0){if(c===p)break;c=e[r+s[d]]}if(c>x&&(ee&T)!==V){for(E===0&&(E=x),re+=u,S=c-E,H=1<<S;S+E<p&&(H-=M[S+E],!(H<=0));)S++,H<<=1;if(K+=1<<S,t===Pd&&K>T2||t===D2&&K>B2)return 1;V=ee&T,i[V]=x<<24|S<<16|re-a|0}}return ee!==0&&(i[re+ee]=c-E<<24|64<<16|0),o.bits=x,0}var I7=0,K2=1,U2=2,z2=1,F2=2,N2=3,O2=4,q2=5,L2=6,j2=7,H2=8,W2=9,$2=10,Zo=11,Gn=12,Rd=13,Y2=14,Md=15,G2=16,V2=17,Z2=18,X2=19,Xo=20,Jo=21,J2=22,Q2=23,eb=24,tb=25,rb=26,Td=27,nb=28,ib=29,Mt=30,D7=32,K7=852,U7=592;function ab(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}var sb=class{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Er(320),this.work=new Er(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}};function z7(t){let e;return!t||!t.state?Rt:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=z2,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new No(K7),e.distcode=e.distdyn=new No(U7),e.sane=1,e.back=-1,ht)}function F7(t){let e;return!t||!t.state?Rt:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,z7(t))}function N7(t,e){let r,n;return!t||!t.state||(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Rt:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,F7(t))}function O7(t,e){let r,n;return t?(n=new sb,t.state=n,n.window=null,r=N7(t,e),r!==ht&&(t.state=null),r):Rt}var ob=!0,Bd,Id;function q7(t){if(ob){let e;for(Bd=new No(512),Id=new No(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Q0(K2,t.lens,0,288,Bd,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Q0(U2,t.lens,0,32,Id,0,t.work,{bits:5}),ob=!1}t.lencode=Bd,t.lenbits=9,t.distcode=Id,t.distbits=5}function cb(t,e,r,n){let i,a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new bn(a.wsize)),n>=a.wsize?(pn(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),pn(a.window,e,r-n,i,a.wnext),n-=i,n?(pn(a.window,e,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function L7(t,e){let r,n,i,a,s,o,f,c,d,u,p,x,S,E,H=0,K,ee,ie,F,V,re,te,X,se=new bn(4),M,l,m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Rt;r=t.state,r.mode===Gn&&(r.mode=Rd),s=t.next_out,i=t.output,f=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,u=o,p=f,X=ht;e:for(;;)switch(r.mode){case z2:if(r.wrap===0){r.mode=Rd;break}for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.wrap&2&&c===35615){r.check=0,se[0]=c&255,se[1]=c>>>8&255,r.check=Lt(r.check,se,2,0),c=0,d=0,r.mode=F2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Mt;break}if((c&15)!==Wa){t.msg="unknown compression method",r.mode=Mt;break}if(c>>>=4,d-=4,te=(c&15)+8,r.wbits===0)r.wbits=te;else if(te>r.wbits){t.msg="invalid window size",r.mode=Mt;break}r.dmax=1<<te,t.adler=r.check=1,r.mode=c&512?$2:Gn,c=0,d=0;break;case F2:for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==Wa){t.msg="unknown compression method",r.mode=Mt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Mt;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(se[0]=c&255,se[1]=c>>>8&255,r.check=Lt(r.check,se,2,0)),c=0,d=0,r.mode=N2;case N2:for(;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&(se[0]=c&255,se[1]=c>>>8&255,se[2]=c>>>16&255,se[3]=c>>>24&255,r.check=Lt(r.check,se,4,0)),c=0,d=0,r.mode=O2;case O2:for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(se[0]=c&255,se[1]=c>>>8&255,r.check=Lt(r.check,se,2,0)),c=0,d=0,r.mode=q2;case q2:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(se[0]=c&255,se[1]=c>>>8&255,r.check=Lt(r.check,se,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=L2;case L2:if(r.flags&1024&&(x=r.length,x>o&&(x=o),x&&(r.head&&(te=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),pn(r.head.extra,n,a,x,te)),r.flags&512&&(r.check=Lt(r.check,n,x,a)),o-=x,a+=x,r.length-=x),r.length))break e;r.length=0,r.mode=j2;case j2:if(r.flags&2048){if(o===0)break e;x=0;do te=n[a+x++],r.head&&te&&r.length<65536&&(r.head.name+=String.fromCharCode(te));while(te&&x<o);if(r.flags&512&&(r.check=Lt(r.check,n,x,a)),o-=x,a+=x,te)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=H2;case H2:if(r.flags&4096){if(o===0)break e;x=0;do te=n[a+x++],r.head&&te&&r.length<65536&&(r.head.comment+=String.fromCharCode(te));while(te&&x<o);if(r.flags&512&&(r.check=Lt(r.check,n,x,a)),o-=x,a+=x,te)break e}else r.head&&(r.head.comment=null);r.mode=W2;case W2:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Mt;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Gn;break;case $2:for(;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}t.adler=r.check=ab(c),c=0,d=0,r.mode=Zo;case Zo:if(r.havedict===0)return t.next_out=s,t.avail_out=f,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=d,r2;t.adler=r.check=1,r.mode=Gn;case Gn:if(e===dd||e===Oo)break e;case Rd:if(r.last){c>>>=d&7,d-=d&7,r.mode=Td;break}for(;d<3;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=Y2;break;case 1:if(q7(r),r.mode=Xo,e===Oo){c>>>=2,d-=2;break e}break;case 2:r.mode=V2;break;case 3:t.msg="invalid block type",r.mode=Mt}c>>>=2,d-=2;break;case Y2:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if((c&65535)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Mt;break}if(r.length=c&65535,c=0,d=0,r.mode=Md,e===Oo)break e;case Md:r.mode=G2;case G2:if(x=r.length,x){if(x>o&&(x=o),x>f&&(x=f),x===0)break e;pn(i,n,a,x,s),o-=x,a+=x,f-=x,s+=x,r.length-=x;break}r.mode=Gn;break;case V2:for(;d<14;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Mt;break}r.have=0,r.mode=Z2;case Z2:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.lens[m[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[m[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},X=Q0(I7,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,X){t.msg="invalid code lengths set",r.mode=Mt;break}r.have=0,r.mode=X2;case X2:for(;r.have<r.nlen+r.ndist;){for(;H=r.lencode[c&(1<<r.lenbits)-1],K=H>>>24,ee=H>>>16&255,ie=H&65535,!(K<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(ie<16)c>>>=K,d-=K,r.lens[r.have++]=ie;else{if(ie===16){for(l=K+2;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(c>>>=K,d-=K,r.have===0){t.msg="invalid bit length repeat",r.mode=Mt;break}te=r.lens[r.have-1],x=3+(c&3),c>>>=2,d-=2}else if(ie===17){for(l=K+3;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=K,d-=K,te=0,x=3+(c&7),c>>>=3,d-=3}else{for(l=K+7;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=K,d-=K,te=0,x=11+(c&127),c>>>=7,d-=7}if(r.have+x>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Mt;break}for(;x--;)r.lens[r.have++]=te}}if(r.mode===Mt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Mt;break}if(r.lenbits=9,M={bits:r.lenbits},X=Q0(K2,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,X){t.msg="invalid literal/lengths set",r.mode=Mt;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},X=Q0(U2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,X){t.msg="invalid distances set",r.mode=Mt;break}if(r.mode=Xo,e===Oo)break e;case Xo:r.mode=Jo;case Jo:if(o>=6&&f>=258){t.next_out=s,t.avail_out=f,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=d,P7(t,p),s=t.next_out,i=t.output,f=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,r.mode===Gn&&(r.back=-1);break}for(r.back=0;H=r.lencode[c&(1<<r.lenbits)-1],K=H>>>24,ee=H>>>16&255,ie=H&65535,!(K<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(ee&&(ee&240)==0){for(F=K,V=ee,re=ie;H=r.lencode[re+((c&(1<<F+V)-1)>>F)],K=H>>>24,ee=H>>>16&255,ie=H&65535,!(F+K<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=F,d-=F,r.back+=F}if(c>>>=K,d-=K,r.back+=K,r.length=ie,ee===0){r.mode=rb;break}if(ee&32){r.back=-1,r.mode=Gn;break}if(ee&64){t.msg="invalid literal/length code",r.mode=Mt;break}r.extra=ee&15,r.mode=J2;case J2:if(r.extra){for(l=r.extra;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Q2;case Q2:for(;H=r.distcode[c&(1<<r.distbits)-1],K=H>>>24,ee=H>>>16&255,ie=H&65535,!(K<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if((ee&240)==0){for(F=K,V=ee,re=ie;H=r.distcode[re+((c&(1<<F+V)-1)>>F)],K=H>>>24,ee=H>>>16&255,ie=H&65535,!(F+K<=d);){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}c>>>=F,d-=F,r.back+=F}if(c>>>=K,d-=K,r.back+=K,ee&64){t.msg="invalid distance code",r.mode=Mt;break}r.offset=ie,r.extra=ee&15,r.mode=eb;case eb:if(r.extra){for(l=r.extra;d<l;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Mt;break}r.mode=tb;case tb:if(f===0)break e;if(x=p-f,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Mt;break}x>r.wnext?(x-=r.wnext,S=r.wsize-x):S=r.wnext-x,x>r.length&&(x=r.length),E=r.window}else E=i,S=s-r.offset,x=r.length;x>f&&(x=f),f-=x,r.length-=x;do i[s++]=E[S++];while(--x);r.length===0&&(r.mode=Jo);break;case rb:if(f===0)break e;i[s++]=r.length,f--,r.mode=Jo;break;case Td:if(r.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[a++]<<d,d+=8}if(p-=f,t.total_out+=p,r.total+=p,p&&(t.adler=r.check=r.flags?Lt(r.check,i,p,s-p):Y0(r.check,i,p,s-p)),p=f,(r.flags?c:ab(c))!==r.check){t.msg="incorrect data check",r.mode=Mt;break}c=0,d=0}r.mode=nb;case nb:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,c+=n[a++]<<d,d+=8}if(c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Mt;break}c=0,d=0}r.mode=ib;case ib:X=$n;break e;case Mt:X=ud;break e;case D7:default:return Rt}return t.next_out=s,t.avail_out=f,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Mt&&(r.mode<Td||e!==qt))&&cb(t,t.output,t.next_out,p-t.avail_out),u-=t.avail_in,p-=t.avail_out,t.total_in+=u,t.total_out+=p,r.total+=p,r.wrap&&p&&(t.adler=r.check=r.flags?Lt(r.check,i,p,t.next_out-p):Y0(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Gn?128:0)+(r.mode===Xo||r.mode===Md?256:0),(u===0&&p===0||e===qt)&&X===ht&&(X=O0),X}function j7(t){if(!t||!t.state)return Rt;let e=t.state;return e.window&&(e.window=null),t.state=null,ht}function H7(t,e){let r;return!t||!t.state||(r=t.state,(r.wrap&2)==0)?Rt:(r.head=e,e.done=!1,ht)}function fb(t,e){let r=e.length,n,i;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==Zo)?Rt:n.mode===Zo&&(i=1,i=Y0(i,e,r,0),i!==n.check)?ud:(cb(t,e,r,r),n.havedict=1,ht)}var db=class{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},Dd=class{constructor(e){this.options={chunkSize:16384,windowBits:0,...e||{}};let r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)==0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cd,this.strm.avail_out=0;let n=O7(this.strm,r.windowBits);if(n!==ht)throw new Error(G0[n]);if(this.header=new db,H7(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Ed(r.dictionary):r.dictionary instanceof ArrayBuffer&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=fb(this.strm,r.dictionary),n!==ht)))throw new Error(G0[n])}push(e,r){let{strm:n,options:{chunkSize:i,dictionary:a}}=this,s,o,f=!1;if(this.ended)return!1;o=r===~~r?r:r===!0?qt:xn,typeof e=="string"?n.input=E7(e):e instanceof ArrayBuffer?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new bn(i),n.next_out=0,n.avail_out=i),s=L7(n,xn),s===r2&&a&&(s=fb(this.strm,a)),s===O0&&f===!0&&(s=ht,f=!1),s!==$n&&s!==ht)return this.onEnd(s),this.ended=!0,!1;n.next_out&&(n.avail_out===0||s===$n||n.avail_in===0&&(o===qt||o===N0))&&this.onData(J1(n.output,n.next_out)),n.avail_in===0&&n.avail_out===0&&(f=!0)}while((n.avail_in>0||n.avail_out===0)&&s!==$n);return s===$n&&(o=qt),o===qt?(s=j7(this.strm),this.onEnd(s),this.ended=!0,s===ht):(o===N0&&(this.onEnd(ht),n.avail_out=0),!0)}onData(e){this.chunks.push(e)}onEnd(e){e===ht&&(this.result=t2(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}},ub=[0,1,3,7,15,31,63,127,255],es=function(t){this.stream=t,this.bitOffset=0,this.curByte=0,this.hasByte=!1};es.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)};es.prototype.read=function(t){for(var e=0;t>0;){this._ensureByte();var r=8-this.bitOffset;if(t>=r)e<<=r,e|=ub[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,t-=r;else{e<<=t;var n=r-t;e|=(this.curByte&ub[t]<<n)>>n,this.bitOffset+=t,t=0}}return e};es.prototype.seek=function(t){var e=t%8,r=(t-e)/8;this.bitOffset=e,this.stream.seek(r),this.hasByte=!1};es.prototype.pi=function(){var t=new Uint8Array(6),e;for(e=0;e<t.length;e++)t[e]=this.read(8);return W7(t)};function W7(t){return Array.prototype.map.call(t,e=>("00"+e.toString(16)).slice(-2)).join("")}var $7=es,ba=function(){};ba.prototype.readByte=function(){throw new Error("abstract method readByte() not implemented")};ba.prototype.read=function(t,e,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return n===0?-1:n;t[e++]=i,n++}return n};ba.prototype.seek=function(t){throw new Error("abstract method seek() not implemented")};ba.prototype.writeByte=function(t){throw new Error("abstract method readByte() not implemented")};ba.prototype.write=function(t,e,r){var n;for(n=0;n<r;n++)this.writeByte(t[e++]);return r};ba.prototype.flush=function(){};var ts=ba,lb=function(){var t=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),e=function(){var r=4294967295;this.getCRC=function(){return~r>>>0},this.updateCRC=function(n){r=r<<8^t[(r>>>24^n)&255]},this.updateCRCRun=function(n,i){for(;i-- >0;)r=r<<8^t[(r>>>24^n)&255]}};return e}(),Qo=20,hb=258,bb=0,Y7=1,G7=2,V7=6,Z7=50,X7="314159265359",J7="177245385090",pb=function(t,e){var r=t[e],n;for(n=e;n>0;n--)t[n]=t[n-1];return t[0]=r,r},Et={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},Ci={};Ci[Et.LAST_BLOCK]="Bad file checksum";Ci[Et.NOT_BZIP_DATA]="Not bzip data";Ci[Et.UNEXPECTED_INPUT_EOF]="Unexpected input EOF";Ci[Et.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF";Ci[Et.DATA_ERROR]="Data error";Ci[Et.OUT_OF_MEMORY]="Out of memory";Ci[Et.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var Zt=function(t,e){var r=Ci[t]||"unknown error";e&&(r+=": "+e);var n=new TypeError(r);throw n.errorCode=t,n},Pi=function(t,e){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(t,e)};Pi.prototype._init_block=function(){var t=this._get_next_block();return t?(this.blockCRC=new lb,!0):(this.writeCount=-1,!1)};Pi.prototype._start_bunzip=function(t,e){var r=new Uint8Array(4);(t.read(r,0,4)!==4||String.fromCharCode(r[0],r[1],r[2])!=="BZh")&&Zt(Et.NOT_BZIP_DATA,"bad magic");var n=r[3]-48;(n<1||n>9)&&Zt(Et.NOT_BZIP_DATA,"level out of range"),this.reader=new $7(t),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=e,this.streamCRC=0};Pi.prototype._get_next_block=function(){var t,e,r,n=this.reader,i=n.pi();if(i===J7)return!1;i!==X7&&Zt(Et.NOT_BZIP_DATA),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&Zt(Et.OBSOLETE_INPUT);var a=n.read(24);a>this.dbufSize&&Zt(Et.DATA_ERROR,"initial position out of bounds");var s=n.read(16),o=new Uint8Array(256),f=0;for(t=0;t<16;t++)if(s&1<<15-t){var c=t*16;for(r=n.read(16),e=0;e<16;e++)r&1<<15-e&&(o[f++]=c+e)}var d=n.read(3);(d<G7||d>V7)&&Zt(Et.DATA_ERROR);var u=n.read(15);u===0&&Zt(Et.DATA_ERROR);var p=new Uint8Array(256);for(t=0;t<d;t++)p[t]=t;var x=new Uint8Array(u);for(t=0;t<u;t++){for(e=0;n.read(1);e++)e>=d&&Zt(Et.DATA_ERROR);x[t]=pb(p,e)}var S=f+2,E=[],H;for(e=0;e<d;e++){var K=new Uint8Array(S),ee=new Uint16Array(Qo+1);for(s=n.read(5),t=0;t<S;t++){for(;(s<1||s>Qo)&&Zt(Et.DATA_ERROR),!!n.read(1);)n.read(1)?s--:s++;K[t]=s}var ie,F;for(ie=F=K[0],t=1;t<S;t++)K[t]>F?F=K[t]:K[t]<ie&&(ie=K[t]);H={},E.push(H),H.permute=new Uint16Array(hb),H.limit=new Uint32Array(Qo+2),H.base=new Uint32Array(Qo+1),H.minLen=ie,H.maxLen=F;var V=0;for(t=ie;t<=F;t++)for(ee[t]=H.limit[t]=0,s=0;s<S;s++)K[s]===t&&(H.permute[V++]=s);for(t=0;t<S;t++)ee[K[t]]++;for(V=s=0,t=ie;t<F;t++)V+=ee[t],H.limit[t]=V-1,V<<=1,s+=ee[t],H.base[t+1]=V-s;H.limit[F+1]=Number.MAX_VALUE,H.limit[F]=V+ee[F]-1,H.base[ie]=0}var re=new Uint32Array(256);for(t=0;t<256;t++)p[t]=t;var te=0,X=0,se=0,M,l=this.dbuf=new Uint32Array(this.dbufSize);for(S=0;;){for(S--||(S=Z7-1,se>=u&&Zt(Et.DATA_ERROR),H=E[x[se++]]),t=H.minLen,e=n.read(t);t>H.maxLen&&Zt(Et.DATA_ERROR),!(e<=H.limit[t]);t++)e=e<<1|n.read(1);e-=H.base[t],(e<0||e>=hb)&&Zt(Et.DATA_ERROR);var m=H.permute[e];if(m===bb||m===Y7){te||(te=1,s=0),m===bb?s+=te:s+=2*te,te<<=1;continue}if(te)for(te=0,X+s>this.dbufSize&&Zt(Et.DATA_ERROR),M=o[p[0]],re[M]+=s;s--;)l[X++]=M;if(m>f)break;X>=this.dbufSize&&Zt(Et.DATA_ERROR),t=m-1,M=pb(p,t),M=o[M],re[M]++,l[X++]=M}for((a<0||a>=X)&&Zt(Et.DATA_ERROR),e=0,t=0;t<256;t++)r=e+re[t],re[t]=e,e=r;for(t=0;t<X;t++)M=l[t]&255,l[re[M]]|=t<<8,re[M]++;var y=0,B=0,O=0;return X&&(y=l[a],B=y&255,y>>=8,O=-1),this.writePos=y,this.writeCurrent=B,this.writeCount=X,this.writeRun=O,!0};Pi.prototype._read_bunzip=function(t,e){var r,n,i;if(this.writeCount<0)return 0;var a=this.dbuf,s=this.writePos,o=this.writeCurrent,f=this.writeCount;this.outputsize;for(var c=this.writeRun;f;){for(f--,n=o,s=a[s],o=s&255,s>>=8,c++==3?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(c=0)}return this.writeCount=f,this.blockCRC.getCRC()!==this.targetBlockCRC&&Zt(Et.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var Kd=function(t){if("readByte"in t)return t;var e=new ts;return e.pos=0,e.readByte=function(){return t[this.pos++]},e.seek=function(r){this.pos=r},e.eof=function(){return this.pos>=t.length},e},xb=function(t){var e=new ts,r=!0;if(t)if(typeof t=="number")e.buffer=new Uint8Array(t),r=!1;else{if("writeByte"in t)return t;e.buffer=t,r=!1}else e.buffer=new Uint8Array(16384);return e.pos=0,e.writeByte=function(n){if(r&&this.pos>=this.buffer.length){var i=new Uint8Array(this.buffer.length*2);i.set(this.buffer),this.buffer=i}this.buffer[this.pos++]=n},e.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var n=new Uint8Array(this.pos);n.set(this.buffer.subarray(0,this.pos)),this.buffer=n}return this.buffer},e._coerced=!0,e},Q7=function(t,e,r){for(var n=Kd(t),i=xb(e),a=new Pi(n,i);!("eof"in n&&n.eof());)if(a._init_block())a._read_bunzip();else{var s=a.reader.read(32)>>>0;if(s!==a.streamCRC&&Zt(Et.DATA_ERROR,"Bad stream CRC (got "+a.streamCRC.toString(16)+" expected "+s.toString(16)+")"),r&&"eof"in n&&!n.eof())a._start_bunzip(n,i);else break}if("getBuffer"in i)return i.getBuffer()},eg=function(t,e,r){var n=Kd(t),i=xb(r),a=new Pi(n,i);a.reader.seek(e);var s=a._get_next_block();if(s&&(a.blockCRC=new lb,a.writeCopies=0,a._read_bunzip()),"getBuffer"in i)return i.getBuffer()},tg=function(t,e,r){var n=new ts;n.delegate=Kd(t),n.pos=0,n.readByte=function(){return this.pos++,this.delegate.readByte()},n.delegate.eof&&(n.eof=n.delegate.eof.bind(n.delegate));var i=new ts;i.pos=0,i.writeByte=function(){this.pos++};for(var a=new Pi(n,i),s=a.dbufSize;!("eof"in n&&n.eof());){var o=n.pos*8+a.reader.bitOffset;if(a.reader.hasByte&&(o-=8),a._init_block()){var f=i.pos;a._read_bunzip(),e(o,i.pos-f)}else if(a.reader.read(32),r&&"eof"in n&&!n.eof())a._start_bunzip(n,i),console.assert(a.dbufSize===s,"shouldn't change block size within multistream file");else break}},rg={Bunzip:Pi,Stream:ts,Err:Et,decode:Q7,decodeBlock:eg,table:tg},yb=rg.decode,Xa=class{constructor(e=Ce){this.tag=g.packet.compressedData,this.packets=null,this.algorithm=g.read(g.compression,e.compression),this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,r,n){await xe.parse(e,async i=>{this.algorithm=g.read(g.compression,await i.readByte()),this.compressed=i.remainder(),await this.decompress(n)})}write(){return this.compressed===null&&this.compress(),P.concat([new Uint8Array([g.write(g.compression,this.algorithm)]),this.compressed])}async decompress(e){if(!gb[this.algorithm])throw new Error(this.algorithm+" decompression not supported");await this.packets.read(gb[this.algorithm](this.compressed),{LiteralDataPacket:Ri,OnePassSignaturePacket:Lr,SignaturePacket:jt},e)}compress(){if(!mb[this.algorithm])throw new Error(this.algorithm+" compression not supported");this.compressed=mb[this.algorithm](this.packets.write(),this.deflateLevel)}},Ja=P.getNodeZlib();function vb(t){return t}function ec(t,e={}){return function(r){return xe.nodeToWeb(xe.webToNode(r).pipe(t(e)))}}function tc(t,e={}){return function(r){let n=new t(e);return xe.transform(r,i=>{if(i.length)return n.push(i,N0),n.result},()=>{if(t===Go)return n.push([],qt),n.result})}}function wb(t){return function(e){return xe.fromAsync(async()=>t(await xe.readToEnd(e)))}}var mb=Ja?{zip:(t,e)=>ec(Ja.createDeflateRaw,{level:e})(t),zlib:(t,e)=>ec(Ja.createDeflate,{level:e})(t)}:{zip:(t,e)=>tc(Go,{raw:!0,level:e})(t),zlib:(t,e)=>tc(Go,{level:e})(t)},gb=Ja?{uncompressed:vb,zip:ec(Ja.createInflateRaw),zlib:ec(Ja.createInflate),bzip2:wb(yb)}:{uncompressed:vb,zip:tc(Dd,{raw:!0}),zlib:tc(Dd),bzip2:wb(yb)},Ud=1,zd=class{constructor(){this.tag=g.packet.symEncryptedIntegrityProtectedData,this.version=Ud,this.encrypted=null,this.modification=!1,this.packets=null}async read(e){await xe.parse(e,async r=>{if(await r.readByte()!==Ud)throw new Error("Invalid packet version.");this.encrypted=r.remainder()})}write(){return P.concat([new Uint8Array([Ud]),this.encrypted])}async encrypt(e,r,n,i=Ce){let a=this.packets.write();n||(a=await xe.readToEnd(a));let s=await Re.getPrefixRandom(e),o=new Uint8Array([211,20]),f=P.concat([s,a,o]),c=await Re.hash.sha1(xe.passiveClone(f)),d=P.concat([f,c]);return this.encrypted=await Re.cfb.encrypt(e,r,d,new Uint8Array(Re.cipher[e].blockSize),i),!0}async decrypt(e,r,n,i=Ce){let a=xe.clone(this.encrypted);n||(a=await xe.readToEnd(a));let s=await Re.cfb.decrypt(e,r,a,new Uint8Array(Re.cipher[e].blockSize)),o=xe.slice(xe.passiveClone(s),-20),f=xe.slice(s,0,-20),c=Promise.all([xe.readToEnd(await Re.hash.sha1(xe.passiveClone(f))),xe.readToEnd(o)]).then(([p,x])=>{if(!P.equalsUint8Array(p,x))throw new Error("Modification detected.");return new Uint8Array}),d=xe.slice(f,Re.cipher[e].blockSize+2),u=xe.slice(d,0,-2);return u=xe.concat([u,xe.fromAsync(()=>c)]),(!P.isStream(a)||!i.allowUnauthenticatedStream)&&(u=await xe.readToEnd(u)),await this.packets.read(u,{LiteralDataPacket:Ri,CompressedDataPacket:Xa,OnePassSignaturePacket:Lr,SignaturePacket:jt},n),!0}},_b=1,Fd=class{constructor(){this.tag=g.packet.AEADEncryptedData,this.version=_b,this.cipherAlgo=null,this.aeadAlgorithm="eax",this.aeadAlgo=null,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await xe.parse(e,async r=>{if(await r.readByte()!==_b)throw new Error("Invalid packet version.");this.cipherAlgo=await r.readByte(),this.aeadAlgo=await r.readByte(),this.chunkSizeByte=await r.readByte();let n=Re[g.read(g.aead,this.aeadAlgo)];this.iv=await r.readBytes(n.ivLength),this.encrypted=r.remainder()})}write(){return P.concat([new Uint8Array([this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,r,n){await this.packets.read(await this.crypt("decrypt",r,xe.clone(this.encrypted),n),{LiteralDataPacket:Ri,CompressedDataPacket:Xa,OnePassSignaturePacket:Lr,SignaturePacket:jt},n)}async encrypt(e,r,n,i=Ce){this.cipherAlgo=g.write(g.symmetric,e),this.aeadAlgo=g.write(g.aead,this.aeadAlgorithm);let a=Re[g.read(g.aead,this.aeadAlgo)];this.iv=await Re.random.getRandomBytes(a.ivLength),this.chunkSizeByte=i.aeadChunkSizeByte;let s=this.packets.write();this.encrypted=await this.crypt("encrypt",r,s,n)}async crypt(e,r,n,i){let a=g.read(g.symmetric,this.cipherAlgo),s=Re[g.read(g.aead,this.aeadAlgo)],o=await s(a,r),f=e==="decrypt"?s.tagLength:0,c=e==="encrypt"?s.tagLength:0,d=2**(this.chunkSizeByte+6)+f,u=new ArrayBuffer(21),p=new Uint8Array(u,0,13),x=new Uint8Array(u),S=new DataView(u),E=new Uint8Array(u,5,8);p.set([192|this.tag,this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte],0);let H=0,K=Promise.resolve(),ee=0,ie=0,F=this.iv;return xe.transformPair(n,async(V,re)=>{let te=xe.getReader(V),X=new xe.TransformStream({},{highWaterMark:i?P.getHardwareConcurrency()*2**(this.chunkSizeByte+6):Infinity,size:M=>M.length});xe.pipe(X.readable,re);let se=xe.getWriter(X.writable);try{for(;;){let M=await te.readBytes(d+f)||new Uint8Array,l=M.subarray(M.length-f);M=M.subarray(0,M.length-f);let m,y;if(!H||M.length?(te.unshift(l),m=o[e](M,s.getNonce(F,E),p),ie+=M.length-f+c):(S.setInt32(13+4,ee),m=o[e](l,s.getNonce(F,E),x),ie+=c,y=!0),ee+=M.length-f,K=K.then(()=>m).then(async B=>{await se.ready,await se.write(B),ie-=B.length}).catch(B=>se.abort(B)),(y||ie>se.desiredSize)&&await K,!y)S.setInt32(5+4,++H);else{await se.close();break}}}catch(M){await se.abort(M)}})}},Nd=class{constructor(){this.tag=g.packet.publicKeyEncryptedSessionKey,this.version=3,this.publicKeyId=new Dn,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(e){this.version=e[0],this.publicKeyId.read(e.subarray(1,e.length)),this.publicKeyAlgorithm=g.read(g.publicKey,e[9]);let r=g.write(g.publicKey,this.publicKeyAlgorithm);this.encrypted=Re.parseEncSessionKeyParams(r,e.subarray(10))}write(){let e=g.write(g.publicKey,this.publicKeyAlgorithm),r=[new Uint8Array([this.version]),this.publicKeyId.write(),new Uint8Array([g.write(g.publicKey,this.publicKeyAlgorithm)]),Re.serializeParams(e,this.encrypted)];return P.concatUint8Array(r)}async encrypt(e){let r=P.concatUint8Array([new Uint8Array([g.write(g.symmetric,this.sessionKeyAlgorithm)]),this.sessionKey,P.writeChecksum(this.sessionKey)]),n=g.write(g.publicKey,this.publicKeyAlgorithm);return this.encrypted=await Re.publicKeyEncrypt(n,e.publicParams,r,e.getFingerprintBytes()),!0}async decrypt(e){let r=g.write(g.publicKey,this.publicKeyAlgorithm),n=g.write(g.publicKey,e.algorithm);if(r!==n)throw new Error("Decryption error");let i=await Re.publicKeyDecrypt(r,e.publicParams,e.privateParams,this.encrypted,e.getFingerprintBytes()),a=i.subarray(i.length-2),s=i.subarray(1,i.length-2);if(P.equalsUint8Array(a,P.writeChecksum(s)))this.sessionKey=s,this.sessionKeyAlgorithm=g.read(g.symmetric,i[0]);else throw new Error("Decryption error");return!0}},Qa=class{constructor(e=Ce){this.algorithm="sha256",this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}get_count(){let e=6;return 16+(this.c&15)<<(this.c>>4)+e}read(e){let r=0;switch(this.type=g.read(g.s2k,e[r++]),this.algorithm=e[r++],this.type!=="gnu"&&(this.algorithm=g.read(g.hash,this.algorithm)),this.type){case"simple":break;case"salted":this.salt=e.subarray(r,r+8),r+=8;break;case"iterated":this.salt=e.subarray(r,r+8),r+=8,this.c=e[r++];break;case"gnu":if(P.uint8ArrayToStr(e.subarray(r,r+3))==="GNU")if(r+=3,1e3+e[r++]===1001)this.type="gnu-dummy";else throw new Error("Unknown s2k gnu protection mode.");else throw new Error("Unknown s2k type.");break;default:throw new Error("Unknown s2k type.")}return r}write(){if(this.type==="gnu-dummy")return new Uint8Array([101,0,...P.strToUint8Array("GNU"),1]);let e=[new Uint8Array([g.write(g.s2k,this.type),g.write(g.hash,this.algorithm)])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}return P.concatUint8Array(e)}async produce_key(e,r){e=P.encodeUtf8(e);let n=g.write(g.hash,this.algorithm),i=[],a=0,s=0;for(;a<r;){let o;switch(this.type){case"simple":o=P.concatUint8Array([new Uint8Array(s),e]);break;case"salted":o=P.concatUint8Array([new Uint8Array(s),this.salt,e]);break;case"iterated":{let c=P.concatUint8Array([this.salt,e]),d=c.length,u=Math.max(this.get_count(),d);o=new Uint8Array(s+u),o.set(c,s);for(let p=s+d;p<u;p+=d,d*=2)o.copyWithin(p,s,p);break}case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}let f=await Re.hash.digest(n,o);i.push(f),a+=f.length,s++}return P.concatUint8Array(i).subarray(0,r)}},rc=class{constructor(e=Ce){this.tag=g.packet.symEncryptedSessionKey,this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm="aes256",this.aeadAlgorithm=g.read(g.aead,e.aeadMode),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let r=0;this.version=e[r++];let n=g.read(g.symmetric,e[r++]);if(this.version===5&&(this.aeadAlgorithm=g.read(g.aead,e[r++])),this.s2k=new Qa,r+=this.s2k.read(e.subarray(r,e.length)),this.version===5){let i=Re[this.aeadAlgorithm];this.iv=e.subarray(r,r+=i.ivLength)}this.version===5||r<e.length?(this.encrypted=e.subarray(r,e.length),this.sessionKeyEncryptionAlgorithm=n):this.sessionKeyAlgorithm=n}write(){let e=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm,r;return this.version===5?r=P.concatUint8Array([new Uint8Array([this.version,g.write(g.symmetric,e),g.write(g.aead,this.aeadAlgorithm)]),this.s2k.write(),this.iv,this.encrypted]):(r=P.concatUint8Array([new Uint8Array([this.version,g.write(g.symmetric,e)]),this.s2k.write()]),this.encrypted!==null&&(r=P.concatUint8Array([r,this.encrypted]))),r}async decrypt(e){let r=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,n=Re.cipher[r].keySize,i=await this.s2k.produce_key(e,n);if(this.version===5){let a=Re[this.aeadAlgorithm],s=new Uint8Array([192|this.tag,this.version,g.write(g.symmetric,this.sessionKeyEncryptionAlgorithm),g.write(g.aead,this.aeadAlgorithm)]),o=await a(r,i);this.sessionKey=await o.decrypt(this.encrypted,this.iv,s)}else if(this.encrypted!==null){let a=await Re.cfb.decrypt(r,i,this.encrypted,new Uint8Array(Re.cipher[r].blockSize));this.sessionKeyAlgorithm=g.read(g.symmetric,a[0]),this.sessionKey=a.subarray(1,a.length)}else this.sessionKey=i}async encrypt(e,r=Ce){let n=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=n,this.s2k=new Qa(r),this.s2k.salt=await Re.random.getRandomBytes(8);let i=Re.cipher[n].keySize,a=await this.s2k.produce_key(e,i);if(this.sessionKey===null&&(this.sessionKey=await Re.generateSessionKey(this.sessionKeyAlgorithm)),this.version===5){let s=Re[this.aeadAlgorithm];this.iv=await Re.random.getRandomBytes(s.ivLength);let o=new Uint8Array([192|this.tag,this.version,g.write(g.symmetric,this.sessionKeyEncryptionAlgorithm),g.write(g.aead,this.aeadAlgorithm)]),f=await s(n,a);this.encrypted=await f.encrypt(this.sessionKey,this.iv,o)}else{let s=new Uint8Array([g.write(g.symmetric,this.sessionKeyAlgorithm)]),o=P.concatUint8Array([s,this.sessionKey]);this.encrypted=await Re.cfb.encrypt(n,a,o,new Uint8Array(Re.cipher[n].blockSize),r)}}},Ri=class{constructor(e=new Date){this.tag=g.packet.literalData,this.format="utf8",this.date=P.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,r="utf8"){this.format=r,this.text=e,this.data=null}getText(e=!1){return(this.text===null||P.isStream(this.text))&&(this.text=P.decodeUtf8(P.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,r){this.format=r,this.data=e,this.text=null}getBytes(e=!1){return this.data===null&&(this.data=P.canonicalizeEOL(P.encodeUtf8(this.text))),e?xe.passiveClone(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await xe.parse(e,async r=>{let n=g.read(g.literal,await r.readByte()),i=await r.readByte();this.filename=P.decodeUtf8(await r.readBytes(i)),this.date=P.readDate(await r.readBytes(4));let a=r.remainder();this.setBytes(a,n)})}writeHeader(){let e=P.encodeUtf8(this.filename),r=new Uint8Array([e.length]),n=new Uint8Array([g.write(g.literal,this.format)]),i=P.writeDate(this.date);return P.concatUint8Array([n,r,e,i])}write(){let e=this.writeHeader(),r=this.getBytes();return P.concat([e,r])}},mn=class{constructor(e=new Date,r=Ce){this.tag=g.packet.publicKey,this.version=r.v5Keys?5:4,this.created=P.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyid=null}read(e){let r=0;if(this.version=e[r++],this.version===4||this.version===5){this.created=P.readDate(e.subarray(r,r+4)),r+=4,this.algorithm=g.read(g.publicKey,e[r++]);let n=g.write(g.publicKey,this.algorithm);this.version===5&&(r+=4);try{let{read:i,publicParams:a}=Re.parsePublicKeyParams(n,e.subarray(r));this.publicParams=a,r+=i}catch(i){throw new Error("Error reading MPIs")}return r}throw new Error("Version "+this.version+" of the key packet is unsupported.")}write(){let e=[];e.push(new Uint8Array([this.version])),e.push(P.writeDate(this.created));let r=g.write(g.publicKey,this.algorithm);e.push(new Uint8Array([r]));let n=Re.serializeParams(r,this.publicParams);return this.version===5&&e.push(P.writeNumber(n.length,4)),e.push(n),P.concatUint8Array(e)}writeForHash(e){let r=this.writePublicKey();return e===5?P.concatUint8Array([new Uint8Array([154]),P.writeNumber(r.length,4),r]):P.concatUint8Array([new Uint8Array([153]),P.writeNumber(r.length,2),r])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyId(){return this.keyid?this.keyid:(this.keyid=new Dn,this.version===5?this.keyid.read(P.hexToUint8Array(this.getFingerprint()).subarray(0,8)):this.version===4&&this.keyid.read(P.hexToUint8Array(this.getFingerprint()).subarray(12,20)),this.keyid)}getFingerprintBytes(){if(this.fingerprint)return this.fingerprint;let e=this.writeForHash(this.version);return this.version===5?this.fingerprint=Fa.bytes(e):this.version===4&&(this.fingerprint=Un.bytes(e)),this.fingerprint}getFingerprint(){return P.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&P.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){let e={};e.algorithm=this.algorithm;let r=this.publicParams.n||this.publicParams.p;return r?e.bits=r.length*8:e.curve=this.publicParams.oid.getName(),e}};mn.prototype.readPublicKey=mn.prototype.read;mn.prototype.writePublicKey=mn.prototype.write;var Ab=class{constructor(){this.tag=g.packet.symmetricallyEncryptedData,this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,r,n,i=Ce){if(!i.allowUnauthenticatedMessages)throw new Error("Message is not authenticated.");let a=await xe.readToEnd(xe.clone(this.encrypted)),s=await Re.cfb.decrypt(e,r,a.subarray(Re.cipher[e].blockSize+2),a.subarray(2,Re.cipher[e].blockSize+2));await this.packets.read(s,{LiteralDataPacket:Ri,CompressedDataPacket:Xa,OnePassSignaturePacket:Lr,SignaturePacket:jt},n)}async encrypt(e,r,n,i=Ce){let a=this.packets.write(),s=await Re.getPrefixRandom(e),o=await Re.cfb.encrypt(e,r,s,new Uint8Array(Re.cipher[e].blockSize),i),f=await Re.cfb.encrypt(e,r,a,o.subarray(2),i);this.encrypted=P.concat([o,f])}};var nc=class extends mn{constructor(e,r){super(e,r);this.tag=g.packet.publicSubkey}};function kb(t){let e=0,r,n=t[0];return n<192?([e]=t,r=1):n<255?(e=(t[0]-192<<8)+t[1]+192,r=2):n===255&&(e=P.readNumber(t.subarray(1,1+4)),r=5),{len:e,offset:r}}function rs(t){return t<192?new Uint8Array([t]):t>191&&t<8384?new Uint8Array([(t-192>>8)+192,t-192&255]):P.concatUint8Array([new Uint8Array([255]),P.writeNumber(t,4)])}function ng(t){if(t<0||t>30)throw new Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+t])}function Sb(t){return new Uint8Array([192|t])}function Eb(t,e){return P.concatUint8Array([Sb(t),rs(e)])}function ic(t){return[g.packet.literalData,g.packet.compressedData,g.packet.symmetricallyEncryptedData,g.packet.symEncryptedIntegrityProtectedData,g.packet.AEADEncryptedData].includes(t)}async function ig(t,e,r){let n=xe.getReader(t),i,a;try{let s=await n.peekBytes(2);if(!s||s.length<2||(s[0]&128)==0)throw new Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");let o=await n.readByte(),f=-1,c=-1,d;c=0,(o&64)!=0&&(c=1);let u;c?f=o&63:(f=(o&63)>>2,u=o&3);let p=ic(f),x=null;if(e&&p){let H=new xe.TransformStream;i=xe.getWriter(H.writable),x=H.readable,a=r({tag:f,packet:x})}else x=[];let S;do{if(c){let H=await n.readByte();if(S=!1,H<192)d=H;else if(H>=192&&H<224)d=(H-192<<8)+await n.readByte()+192;else if(H>223&&H<255){if(d=1<<(H&31),S=!0,!p)throw new TypeError("This packet type does not support partial lengths.")}else d=await n.readByte()<<24|await n.readByte()<<16|await n.readByte()<<8|await n.readByte()}else switch(u){case 0:d=await n.readByte();break;case 1:d=await n.readByte()<<8|await n.readByte();break;case 2:d=await n.readByte()<<24|await n.readByte()<<16|await n.readByte()<<8|await n.readByte();break;default:d=Infinity;break}if(d>0){let H=0;for(;;){i&&await i.ready;let{done:K,value:ee}=await n.read();if(K){if(d===Infinity)break;throw new Error("Unexpected end of packet")}let ie=d===Infinity?ee:ee.subarray(0,d-H);if(i?await i.write(ie):x.push(ie),H+=ee.length,H>=d){n.unshift(ee.subarray(d-H+ee.length));break}}}}while(S);let E=await n.peekBytes(p?Infinity:2);return i?(await i.ready,await i.close()):(x=P.concatUint8Array(x),await r({tag:f,packet:x})),!E||!E.length}catch(s){if(i)return await i.abort(s),!0;throw s}finally{i&&await a,n.releaseLock()}}var ac=class{constructor(){this.tag=g.packet.userAttribute,this.attributes=[]}read(e){let r=0;for(;r<e.length;){let n=kb(e.subarray(r,e.length));r+=n.offset,this.attributes.push(P.uint8ArrayToStr(e.subarray(r,r+n.len))),r+=n.len}}write(){let e=[];for(let r=0;r<this.attributes.length;r++)e.push(rs(this.attributes[r].length)),e.push(P.strToUint8Array(this.attributes[r]));return P.concatUint8Array(e)}equals(e){return!e||!(e instanceof ac)?!1:this.attributes.every(function(r,n){return r===e.attributes[n]})}},jt=class{constructor(e=new Date){this.tag=g.packet.signature,this.version=4,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=P.normalizeDate(e),this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyId=new Dn,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserId=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAeadAlgorithms=null,this.verified=null,this.revoked=null}read(e){let r=0;if(this.version=e[r++],this.version!==4&&this.version!==5)throw new Error("Version "+this.version+" of the signature is unsupported.");this.signatureType=e[r++],this.publicKeyAlgorithm=e[r++],this.hashAlgorithm=e[r++],r+=this.read_sub_packets(e.subarray(r,e.length),!0),this.signatureData=e.subarray(0,r),r+=this.read_sub_packets(e.subarray(r,e.length),!1),this.signedHashValue=e.subarray(r,r+2),r+=2,this.params=Re.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(r,e.length))}write_params(){return this.params instanceof Promise?xe.fromAsync(async()=>Re.serializeParams(this.publicKeyAlgorithm,await this.params)):Re.serializeParams(this.publicKeyAlgorithm,this.params)}write(){let e=[];return e.push(this.signatureData),e.push(this.write_unhashed_sub_packets()),e.push(this.signedHashValue),e.push(this.write_params()),P.concat(e)}async sign(e,r,n=!1,i=!1){let a=g.write(g.signature,this.signatureType),s=g.write(g.publicKey,this.publicKeyAlgorithm),o=g.write(g.hash,this.hashAlgorithm);e.version===5&&(this.version=5);let f=[new Uint8Array([this.version,a,s,o])];this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyId=e.getKeyId(),f.push(this.write_hashed_sub_packets()),this.signatureData=P.concat(f);let c=this.toHash(a,r,n),d=await this.hash(a,r,c,n);this.signedHashValue=xe.slice(xe.clone(d),0,2);let u=async()=>Re.signature.sign(s,o,e.publicParams,e.privateParams,c,await xe.readToEnd(d));i?this.params=u():(this.params=await u(),this.verified=!0)}write_hashed_sub_packets(){let e=g.signatureSubpacket,r=[],n;this.created!==null&&r.push(Ct(e.signatureCreationTime,P.writeDate(this.created))),this.signatureExpirationTime!==null&&r.push(Ct(e.signatureExpirationTime,P.writeNumber(this.signatureExpirationTime,4))),this.exportable!==null&&r.push(Ct(e.exportableCertification,new Uint8Array([this.exportable?1:0]))),this.trustLevel!==null&&(n=new Uint8Array([this.trustLevel,this.trustAmount]),r.push(Ct(e.trustSignature,n))),this.regularExpression!==null&&r.push(Ct(e.regularExpression,this.regularExpression)),this.revocable!==null&&r.push(Ct(e.revocable,new Uint8Array([this.revocable?1:0]))),this.keyExpirationTime!==null&&r.push(Ct(e.keyExpirationTime,P.writeNumber(this.keyExpirationTime,4))),this.preferredSymmetricAlgorithms!==null&&(n=P.strToUint8Array(P.uint8ArrayToStr(this.preferredSymmetricAlgorithms)),r.push(Ct(e.preferredSymmetricAlgorithms,n))),this.revocationKeyClass!==null&&(n=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),n=P.concat([n,this.revocationKeyFingerprint]),r.push(Ct(e.revocationKey,n))),this.rawNotations.forEach(([{name:s,value:o,humanReadable:f}])=>{n=[new Uint8Array([f?128:0,0,0,0])],n.push(P.writeNumber(s.length,2)),n.push(P.writeNumber(o.length,2)),n.push(P.strToUint8Array(s)),n.push(o),n=P.concat(n),r.push(Ct(e.notationData,n))}),this.preferredHashAlgorithms!==null&&(n=P.strToUint8Array(P.uint8ArrayToStr(this.preferredHashAlgorithms)),r.push(Ct(e.preferredHashAlgorithms,n))),this.preferredCompressionAlgorithms!==null&&(n=P.strToUint8Array(P.uint8ArrayToStr(this.preferredCompressionAlgorithms)),r.push(Ct(e.preferredCompressionAlgorithms,n))),this.keyServerPreferences!==null&&(n=P.strToUint8Array(P.uint8ArrayToStr(this.keyServerPreferences)),r.push(Ct(e.keyServerPreferences,n))),this.preferredKeyServer!==null&&r.push(Ct(e.preferredKeyServer,P.strToUint8Array(this.preferredKeyServer))),this.isPrimaryUserID!==null&&r.push(Ct(e.primaryUserId,new Uint8Array([this.isPrimaryUserID?1:0]))),this.policyURI!==null&&r.push(Ct(e.policyUri,P.strToUint8Array(this.policyURI))),this.keyFlags!==null&&(n=P.strToUint8Array(P.uint8ArrayToStr(this.keyFlags)),r.push(Ct(e.keyFlags,n))),this.signersUserId!==null&&r.push(Ct(e.signersUserId,P.strToUint8Array(this.signersUserId))),this.reasonForRevocationFlag!==null&&(n=P.strToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),r.push(Ct(e.reasonForRevocation,n))),this.features!==null&&(n=P.strToUint8Array(P.uint8ArrayToStr(this.features)),r.push(Ct(e.features,n))),this.signatureTargetPublicKeyAlgorithm!==null&&(n=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],n.push(P.strToUint8Array(this.signatureTargetHash)),n=P.concat(n),r.push(Ct(e.signatureTarget,n))),this.preferredAeadAlgorithms!==null&&(n=P.strToUint8Array(P.uint8ArrayToStr(this.preferredAeadAlgorithms)),r.push(Ct(e.preferredAeadAlgorithms,n)));let i=P.concat(r),a=P.writeNumber(i.length,2);return P.concat([a,i])}write_unhashed_sub_packets(){let e=g.signatureSubpacket,r=[],n;!this.issuerKeyId.isNull()&&this.issuerKeyVersion!==5&&r.push(Ct(e.issuer,this.issuerKeyId.write())),this.embeddedSignature!==null&&r.push(Ct(e.embeddedSignature,this.embeddedSignature.write())),this.issuerFingerprint!==null&&(n=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],n=P.concat(n),r.push(Ct(e.issuerFingerprint,n))),this.unhashedSubpackets.forEach(s=>{r.push(rs(s.length)),r.push(s)});let i=P.concat(r),a=P.writeNumber(i.length,2);return P.concat([a,i])}read_sub_packet(e,r=!0){let n=0,i=(o,f)=>{this[o]=[];for(let c=0;c<f.length;c++)this[o].push(f[c])},a=e[n]&128,s=e[n]&127;if(!r&&![g.signatureSubpacket.issuer,g.signatureSubpacket.issuerFingerprint,g.signatureSubpacket.embeddedSignature].includes(s)){this.unhashedSubpackets.push(e.subarray(n,e.length));return}switch(n++,s){case 2:this.created=P.readDate(e.subarray(n,e.length));break;case 3:{let o=P.readNumber(e.subarray(n,e.length));this.signatureNeverExpires=o===0,this.signatureExpirationTime=o;break}case 4:this.exportable=e[n++]===1;break;case 5:this.trustLevel=e[n++],this.trustAmount=e[n++];break;case 6:this.regularExpression=e[n];break;case 7:this.revocable=e[n++]===1;break;case 9:{let o=P.readNumber(e.subarray(n,e.length));this.keyExpirationTime=o,this.keyNeverExpires=o===0;break}case 11:i("preferredSymmetricAlgorithms",e.subarray(n,e.length));break;case 12:this.revocationKeyClass=e[n++],this.revocationKeyAlgorithm=e[n++],this.revocationKeyFingerprint=e.subarray(n,n+20);break;case 16:this.issuerKeyId.read(e.subarray(n,e.length));break;case 20:{let o=!!(e[n]&128);n+=4;let f=P.readNumber(e.subarray(n,n+2));n+=2;let c=P.readNumber(e.subarray(n,n+2));n+=2;let d=P.uint8ArrayToStr(e.subarray(n,n+f)),u=e.subarray(n+f,n+f+c);this.rawNotations.push({name:d,humanReadable:o,value:u,critical:a}),o&&(this.notations[d]=P.uint8ArrayToStr(u));break}case 21:i("preferredHashAlgorithms",e.subarray(n,e.length));break;case 22:i("preferredCompressionAlgorithms",e.subarray(n,e.length));break;case 23:i("keyServerPreferences",e.subarray(n,e.length));break;case 24:this.preferredKeyServer=P.uint8ArrayToStr(e.subarray(n,e.length));break;case 25:this.isPrimaryUserID=e[n++]!==0;break;case 26:this.policyURI=P.uint8ArrayToStr(e.subarray(n,e.length));break;case 27:i("keyFlags",e.subarray(n,e.length));break;case 28:this.signersUserId=P.uint8ArrayToStr(e.subarray(n,e.length));break;case 29:this.reasonForRevocationFlag=e[n++],this.reasonForRevocationString=P.uint8ArrayToStr(e.subarray(n,e.length));break;case 30:i("features",e.subarray(n,e.length));break;case 31:{this.signatureTargetPublicKeyAlgorithm=e[n++],this.signatureTargetHashAlgorithm=e[n++];let o=Re.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=P.uint8ArrayToStr(e.subarray(n,n+o));break}case 32:this.embeddedSignature=new jt,this.embeddedSignature.read(e.subarray(n,e.length));break;case 33:this.issuerKeyVersion=e[n++],this.issuerFingerprint=e.subarray(n,e.length),this.issuerKeyVersion===5?this.issuerKeyId.read(this.issuerFingerprint):this.issuerKeyId.read(this.issuerFingerprint.subarray(-8));break;case 34:i.call(this,"preferredAeadAlgorithms",e.subarray(n,e.length));break;default:{let o=new Error("Unknown signature subpacket type "+s+" @:"+n);if(a)throw o;P.printDebug(o)}}}read_sub_packets(e,r=!0,n){let i=P.readNumber(e.subarray(0,2)),a=2;for(;a<2+i;){let s=kb(e.subarray(a,e.length));a+=s.offset,this.read_sub_packet(e.subarray(a,a+s.len),r,n),a+=s.len}return a}toSign(e,r){let n=g.signature;switch(e){case n.binary:return r.text!==null?P.encodeUtf8(r.getText(!0)):r.getBytes(!0);case n.text:{let i=r.getBytes(!0);return P.canonicalizeEOL(i)}case n.standalone:return new Uint8Array(0);case n.certGeneric:case n.certPersona:case n.certCasual:case n.certPositive:case n.certRevocation:{let i,a;if(r.userId)a=180,i=r.userId;else if(r.userAttribute)a=209,i=r.userAttribute;else throw new Error("Either a userId or userAttribute packet needs to be supplied for certification.");let s=i.write();return P.concat([this.toSign(n.key,r),new Uint8Array([a]),P.writeNumber(s.length,4),s])}case n.subkeyBinding:case n.subkeyRevocation:case n.keyBinding:return P.concat([this.toSign(n.key,r),this.toSign(n.key,{key:r.bind})]);case n.key:if(r.key===void 0)throw new Error("Key packet is required for this signature.");return r.key.writeForHash(this.version);case n.keyRevocation:return this.toSign(n.key,r);case n.timestamp:return new Uint8Array(0);case n.thirdParty:throw new Error("Not implemented");default:throw new Error("Unknown signature type.")}}calculateTrailer(e,r){let n=0;return xe.transform(xe.clone(this.signatureData),i=>{n+=i.length},()=>{let i=[];return this.version===5&&(this.signatureType===g.signature.binary||this.signatureType===g.signature.text)&&(r?i.push(new Uint8Array(6)):i.push(e.writeHeader())),i.push(new Uint8Array([this.version,255])),this.version===5&&i.push(new Uint8Array(4)),i.push(P.writeNumber(n,4)),P.concat(i)})}toHash(e,r,n=!1){let i=this.toSign(e,r);return P.concat([i,this.signatureData,this.calculateTrailer(r,n)])}async hash(e,r,n,i=!1,a=!0){let s=g.write(g.hash,this.hashAlgorithm);return n||(n=this.toHash(e,r,i)),!a&&P.isStream(n)?xe.fromAsync(async()=>this.hash(e,r,await xe.readToEnd(n),i)):Re.hash.digest(s,n)}async verify(e,r,n,i=!1,a=!1,s=Ce){let o=g.write(g.publicKey,this.publicKeyAlgorithm),f=g.write(g.hash,this.hashAlgorithm);if(o!==g.write(g.publicKey,e.algorithm))throw new Error("Public key algorithm used to sign signature does not match issuer key algorithm.");let c,d;if(this.hashed?d=await this.hashed:(c=this.toHash(r,n,i),a||(c=await xe.readToEnd(c)),d=await this.hash(r,n,c)),d=await xe.readToEnd(d),this.signedHashValue[0]!==d[0]||this.signedHashValue[1]!==d[1])throw new Error("Message digest did not match");if(this.params=await this.params,!await Re.signature.verify(o,f,this.params,e.publicParams,c,d))throw new Error("Signature verification failed");if(s.rejectHashAlgorithms.has(f))throw new Error("Insecure hash algorithm: "+g.read(g.hash,f).toUpperCase());if(s.rejectMessageHashAlgorithms.has(f)&&[g.signature.binary,g.signature.text].includes(this.signatureType))throw new Error("Insecure message hash algorithm: "+g.read(g.hash,f).toUpperCase());if(this.rawNotations.forEach(({name:p,critical:x})=>{if(x&&s.knownNotations.indexOf(p)<0)throw new Error(`Unknown critical notation: ${p}`)}),this.revocationKeyClass!==null)throw new Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.");this.verified=!0}isExpired(e=new Date){let r=P.normalizeDate(e);if(r!==null){let n=this.getExpirationTime();return!(this.created<=r&&r<=n)}return!1}getExpirationTime(){return this.signatureNeverExpires?Infinity:new Date(this.created.getTime()+this.signatureExpirationTime*1e3)}};function Ct(t,e){let r=[];return r.push(rs(e.length+1)),r.push(new Uint8Array([t])),r.push(e),P.concat(r)}var Lr=class{constructor(){this.tag=g.packet.onePassSignature,this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyId=null,this.flags=null}read(e){let r=0;return this.version=e[r++],this.signatureType=e[r++],this.hashAlgorithm=e[r++],this.publicKeyAlgorithm=e[r++],this.issuerKeyId=new Dn,this.issuerKeyId.read(e.subarray(r,r+8)),r+=8,this.flags=e[r++],this}write(){let e=new Uint8Array([3,g.write(g.signature,this.signatureType),g.write(g.hash,this.hashAlgorithm),g.write(g.publicKey,this.publicKeyAlgorithm)]),r=new Uint8Array([this.flags]);return P.concatUint8Array([e,this.issuerKeyId.write(),r])}calculateTrailer(...e){return xe.fromAsync(async()=>jt.prototype.calculateTrailer.apply(await this.correspondingSig,e))}async verify(){let e=await this.correspondingSig;if(!e||e.tag!==g.packet.signature)throw new Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyId.equals(this.issuerKeyId))throw new Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}};Lr.prototype.hash=jt.prototype.hash;Lr.prototype.toHash=jt.prototype.toHash;Lr.prototype.toSign=jt.prototype.toSign;var ns=class extends mn{constructor(e=new Date,r=Ce){super(e,r);this.tag=g.packet.secretKey,this.keyMaterial=null,this.isEncrypted=null,this.s2k_usage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}read(e){let r=this.readPublicKey(e);if(this.s2k_usage=e[r++],this.version===5&&r++,this.s2k_usage===255||this.s2k_usage===254||this.s2k_usage===253){if(this.symmetric=e[r++],this.symmetric=g.read(g.symmetric,this.symmetric),this.s2k_usage===253&&(this.aead=e[r++],this.aead=g.read(g.aead,this.aead)),this.s2k=new Qa,r+=this.s2k.read(e.subarray(r,e.length)),this.s2k.type==="gnu-dummy")return}else this.s2k_usage&&(this.symmetric=this.s2k_usage,this.symmetric=g.read(g.symmetric,this.symmetric));if(this.s2k_usage&&(this.iv=e.subarray(r,r+Re.cipher[this.symmetric].blockSize),r+=this.iv.length),this.version===5&&(r+=4),this.keyMaterial=e.subarray(r),this.isEncrypted=!!this.s2k_usage,!this.isEncrypted){let n=this.keyMaterial.subarray(0,-2);if(!P.equalsUint8Array(P.writeChecksum(n),this.keyMaterial.subarray(-2)))throw new Error("Key checksum mismatch");try{let i=g.write(g.publicKey,this.algorithm),{privateParams:a}=Re.parsePrivateKeyParams(i,n,this.publicParams);this.privateParams=a}catch(i){throw new Error("Error reading MPIs")}}}write(){let e=[this.writePublicKey()];e.push(new Uint8Array([this.s2k_usage]));let r=[];if((this.s2k_usage===255||this.s2k_usage===254||this.s2k_usage===253)&&(r.push(g.write(g.symmetric,this.symmetric)),this.s2k_usage===253&&r.push(g.write(g.aead,this.aead)),r.push(...this.s2k.write())),this.s2k_usage&&this.s2k.type!=="gnu-dummy"&&r.push(...this.iv),this.version===5&&e.push(new Uint8Array([r.length])),e.push(new Uint8Array(r)),!this.isDummy()){if(!this.s2k_usage){let n=g.write(g.publicKey,this.algorithm),i=Re.serializeParams(n,this.privateParams);this.keyMaterial=P.concatUint8Array([i,P.writeChecksum(i)])}this.version===5&&e.push(P.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial)}return P.concatUint8Array(e)}isDecrypted(){return this.isEncrypted===!1}isDummy(){return!!(this.s2k&&this.s2k.type==="gnu-dummy")}makeDummy(e=Ce){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new Qa(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2k_usage=254,this.symmetric="aes256")}async encrypt(e,r=Ce){if(this.isDummy())return;if(!this.isDecrypted())throw new Error("Key packet is already encrypted");if(this.isDecrypted()&&!e){this.s2k_usage=0;return}else if(!e)throw new Error("The key must be decrypted before removing passphrase protection.");this.s2k=new Qa(r),this.s2k.salt=await Re.random.getRandomBytes(8);let n=g.write(g.publicKey,this.algorithm),i=Re.serializeParams(n,this.privateParams);this.symmetric="aes256";let a=await Cb(this.s2k,e,this.symmetric),s=Re.cipher[this.symmetric].blockSize;if(this.iv=await Re.random.getRandomBytes(s),r.aeadProtect){this.s2k_usage=253,this.aead="eax";let o=Re[this.aead],f=await o(this.symmetric,a);this.keyMaterial=await f.encrypt(i,this.iv.subarray(0,o.ivLength),new Uint8Array)}else this.s2k_usage=254,this.keyMaterial=await Re.cfb.encrypt(this.symmetric,a,P.concatUint8Array([i,await Re.hash.sha1(i,r)]),this.iv,r)}async decrypt(e){if(this.isDummy())return!1;if(this.isDecrypted())throw new Error("Key packet is already decrypted.");let r;if(this.s2k_usage===254||this.s2k_usage===253)r=await Cb(this.s2k,e,this.symmetric);else throw this.s2k_usage===255?new Error("Encrypted private key is authenticated using an insecure two-byte hash"):new Error("Private key is encrypted using an insecure S2K function: unsalted MD5");let n;if(this.s2k_usage===253){let i=Re[this.aead];try{n=await(await i(this.symmetric,r)).decrypt(this.keyMaterial,this.iv.subarray(0,i.ivLength),new Uint8Array)}catch(a){throw a.message==="Authentication tag mismatch"?new Error("Incorrect key passphrase: "+a.message):a}}else{let i=await Re.cfb.decrypt(this.symmetric,r,this.keyMaterial,this.iv);n=i.subarray(0,-20);let a=await Re.hash.sha1(n);if(!P.equalsUint8Array(a,i.subarray(-20)))throw new Error("Incorrect key passphrase")}try{let i=g.write(g.publicKey,this.algorithm),{privateParams:a}=Re.parsePrivateKeyParams(i,n,this.publicParams);this.privateParams=a}catch(i){throw new Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2k_usage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw new Error("Key is not decrypted");let e=g.write(g.publicKey,this.algorithm),r;try{r=await Re.validateParams(e,this.publicParams,this.privateParams)}catch(n){r=!1}if(!r)throw new Error("Key is invalid")}async generate(e,r){let n=g.write(g.publicKey,this.algorithm),{privateParams:i,publicParams:a}=await Re.generateParams(n,e,r);this.privateParams=i,this.publicParams=a,this.isEncrypted=!1}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach(e=>{this.privateParams[e].fill(0),delete this.privateParams[e]}),this.privateParams=null,this.isEncrypted=!0)}};async function Cb(t,e,r){return t.produce_key(e,Re.cipher[r].keySize)}var ag=nn(function(t){(function(e){function r(c){function d(){return qe<We}function u(){return ot[qe]}function p(){return qe}function x(he){qe=he}function S(){qe+=1}function E(){qe=0,We=ot.length}function H(he,de){return{name:he,tokens:de||"",semantic:de||"",children:[]}}function K(he,de){var ge;return de===null?null:(ge=H(he),ge.tokens=de.tokens,ge.semantic=de.semantic,ge.children.push(de),ge)}function ee(he,de){return de!==null&&(he.tokens+=de.tokens,he.semantic+=de.semantic),he.children.push(de),he}function ie(he){var de;return d()?(de=u(),he(de)?(S(),H("token",de)):null):null}function F(he){return function(){return K("literal",ie(function(ge){return ge===he}))}}function V(){var he=arguments;return function(){var ge,ke,Se,Ue;for(Ue=p(),ke=H("and"),ge=0;ge<he.length;ge+=1){if(Se=he[ge](),Se===null)return x(Ue),null;ee(ke,Se)}return ke}}function re(){var he=arguments;return function(){var ge,ke,Se;for(Se=p(),ge=0;ge<he.length;ge+=1){if(ke=he[ge](),ke!==null)return ke;x(Se)}return null}}function te(he){return function(){var ge,ke;return ke=p(),ge=he(),ge!==null?ge:(x(ke),H("opt"))}}function X(he){return function(){var ge=he();return ge!==null&&(ge.semantic=""),ge}}function se(he){return function(){var ge=he();return ge!==null&&ge.semantic.length>0&&(ge.semantic=" "),ge}}function M(he,de){return function(){var ke,Se,Ue,zt,Rr;for(zt=p(),ke=H("star"),Ue=0,Rr=de===void 0?0:de;(Se=he())!==null;)Ue=Ue+1,ee(ke,Se);return Ue>=Rr?ke:(x(zt),null)}}function l(he){return he.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}function m(he){return he.charCodeAt(0)>=128}function y(){return K("cr",F("\r")())}function B(){return K("crlf",V(y,T)())}function O(){return K("dquote",F('"')())}function Z(){return K("htab",F("	")())}function T(){return K("lf",F(`
`)())}function C(){return K("sp",F(" ")())}function b(){return K("vchar",ie(function(de){var ge=de.charCodeAt(0),ke=33<=ge&&ge<=126;return c.rfc6532&&(ke=ke||m(de)),ke}))}function N(){return K("wsp",re(C,Z)())}function pe(){var he=K("quoted-pair",re(V(F("\\"),re(b,N)),fe)());return he===null?null:(he.semantic=he.semantic[1],he)}function ue(){return K("fws",re(Me,V(te(V(M(N),X(B))),M(N,1)))())}function me(){return K("ctext",re(function(){return ie(function(ge){var ke=ge.charCodeAt(0),Se=33<=ke&&ke<=39||42<=ke&&ke<=91||93<=ke&&ke<=126;return c.rfc6532&&(Se=Se||m(ge)),Se})},ae)())}function be(){return K("ccontent",re(me,pe,ve)())}function ve(){return K("comment",V(F("("),M(V(te(ue),be)),te(ue),F(")"))())}function L(){return K("cfws",re(V(M(V(te(ue),ve),1),te(ue)),ue)())}function oe(){return K("atext",ie(function(de){var ge="a"<=de&&de<="z"||"A"<=de&&de<="Z"||"0"<=de&&de<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(de)>=0;return c.rfc6532&&(ge=ge||m(de)),ge}))}function Q(){return K("atom",V(se(te(L)),M(oe,1),se(te(L)))())}function J(){var he,de;return he=K("dot-atom-text",M(oe,1)()),he===null||(de=M(V(F("."),M(oe,1)))(),de!==null&&ee(he,de)),he}function le(){return K("dot-atom",V(X(te(L)),J,X(te(L)))())}function ye(){return K("qtext",re(function(){return ie(function(ge){var ke=ge.charCodeAt(0),Se=ke===33||35<=ke&&ke<=91||93<=ke&&ke<=126;return c.rfc6532&&(Se=Se||m(ge)),Se})},ce)())}function we(){return K("qcontent",re(ye,pe)())}function k(){return K("quoted-string",V(X(te(L)),X(O),M(V(te(se(ue)),we)),te(X(ue)),X(O),X(te(L)))())}function v(){return K("word",re(Q,k)())}function R(){return K("phrase",re(Be,M(v,1))())}function U(){return K("address",re(w,h)())}function w(){return K("mailbox",re(_,Y)())}function _(){return K("name-addr",V(te(q),A)())}function A(){return K("angle-addr",re(V(X(te(L)),F("<"),Y,F(">"),X(te(L))),Te)())}function h(){return K("group",V(q,F(":"),te(z),F(";"),X(te(L)))())}function q(){return K("display-name",function(){var de=R();return de!==null&&(de.semantic=l(de.semantic)),de}())}function I(){return K("mailbox-list",re(V(w,M(V(F(","),w))),ze)())}function D(){return K("address-list",re(V(U,M(V(F(","),U))),st)())}function z(){return K("group-list",re(I,X(L),je)())}function $(){return K("local-part",re($e,le,k)())}function j(){return K("dtext",re(function(){return ie(function(ge){var ke=ge.charCodeAt(0),Se=33<=ke&&ke<=90||94<=ke&&ke<=126;return c.rfc6532&&(Se=Se||m(ge)),Se})},et)())}function W(){return K("domain-literal",V(X(te(L)),F("["),M(V(te(ue),j)),te(ue),F("]"),X(te(L)))())}function G(){return K("domain",function(){var de=re(mt,le,W)();return c.rejectTLD&&de&&de.semantic&&de.semantic.indexOf(".")<0?null:(de&&(de.semantic=de.semantic.replace(/\s+/g,"")),de)}())}function Y(){return K("addr-spec",V($,F("@"),G)())}function Oe(){return K("from",re(I,D)())}function it(){return K("sender",re(w,U)())}function Le(){return K("reply-to",D())}function ne(){return c.strict?null:K("obs-NO-WS-CTL",ie(function(he){var de=he.charCodeAt(0);return 1<=de&&de<=8||de===11||de===12||14<=de&&de<=31||de===127}))}function ae(){return c.strict?null:K("obs-ctext",ne())}function ce(){return c.strict?null:K("obs-qtext",ne())}function fe(){return c.strict?null:K("obs-qp",V(F("\\"),re(F("\0"),ne,T,y))())}function Be(){return c.strict?null:c.atInDisplayName?K("obs-phrase",V(v,M(re(v,F("."),F("@"),se(L))))()):K("obs-phrase",V(v,M(re(v,F("."),se(L))))())}function Me(){return c.strict?null:K("obs-FWS",M(V(X(te(B)),N),1)())}function Te(){return c.strict?null:K("obs-angle-addr",V(X(te(L)),F("<"),Ve,Y,F(">"),X(te(L)))())}function Ve(){return c.strict?null:K("obs-route",V(De,F(":"))())}function De(){return c.strict?null:K("obs-domain-list",V(M(re(X(L),F(","))),F("@"),G,M(V(F(","),X(te(L)),te(V(F("@"),G)))))())}function ze(){return c.strict?null:K("obs-mbox-list",V(M(V(X(te(L)),F(","))),w,M(V(F(","),te(V(w,X(L))))))())}function st(){return c.strict?null:K("obs-addr-list",V(M(V(X(te(L)),F(","))),U,M(V(F(","),te(V(U,X(L))))))())}function je(){return c.strict?null:K("obs-group-list",V(M(V(X(te(L)),F(",")),1),X(te(L)))())}function $e(){return c.strict?null:K("obs-local-part",V(v,M(V(F("."),v)))())}function mt(){return c.strict?null:K("obs-domain",V(Q,M(V(F("."),Q)))())}function et(){return c.strict?null:K("obs-dtext",re(ne,pe)())}function Ke(he,de){var ge,ke,Se;if(de==null)return null;for(ke=[de];ke.length>0;){if(Se=ke.pop(),Se.name===he)return Se;for(ge=Se.children.length-1;ge>=0;ge-=1)ke.push(Se.children[ge])}return null}function Yt(he,de){var ge,ke,Se,Ue;if(de==null)return null;for(ke=[de],Ue=[];ke.length>0;)for(Se=ke.pop(),Se.name===he&&Ue.push(Se),ge=Se.children.length-1;ge>=0;ge-=1)ke.push(Se.children[ge]);return Ue}function rt(he,de){var ge,ke,Se,Ue,zt;if(de==null)return null;for(ke=[de],Ue=[],zt={},ge=0;ge<he.length;ge+=1)zt[he[ge]]=!0;for(;ke.length>0;)if(Se=ke.pop(),Se.name in zt)Ue.push(Se);else for(ge=Se.children.length-1;ge>=0;ge-=1)ke.push(Se.children[ge]);return Ue}function at(he){var de,ge,ke,Se,Ue;if(he===null)return null;for(de=[],ge=rt(["group","mailbox"],he),ke=0;ke<ge.length;ke+=1)Se=ge[ke],Se.name==="group"?de.push(ur(Se)):Se.name==="mailbox"&&de.push(He(Se));return Ue={ast:he,addresses:de},c.simple&&(Ue=xt(Ue)),c.oneResult?Ge(Ue):c.simple?Ue&&Ue.addresses:Ue}function ur(he){var de,ge=Ke("display-name",he),ke=[],Se=rt(["mailbox"],he);for(de=0;de<Se.length;de+=1)ke.push(He(Se[de]));return{node:he,parts:{name:ge},type:he.name,name:Fe(ge),addresses:ke}}function He(he){var de=Ke("display-name",he),ge=Ke("addr-spec",he),ke=Yt("cfws",he),Se=rt(["comment"],he),Ue=Ke("local-part",ge),zt=Ke("domain",ge);return{node:he,parts:{name:de,address:ge,local:Ue,domain:zt,comments:ke},type:he.name,name:Fe(de),address:Fe(ge),local:Fe(Ue),domain:Fe(zt),comments:Ye(Se),groupName:Fe(he.groupName)}}function Fe(he){return he!=null?he.semantic:null}function xt(he){var de;if(he&&he.addresses)for(de=0;de<he.addresses.length;de+=1)delete he.addresses[de].node;return he}function Ye(he){var de="";if(he)for(var ge=0;ge<he.length;ge+=1)de+=Fe(he[ge]);return de}function Ge(he){return!he||!c.partial&&he.addresses.length>1?null:he.addresses&&he.addresses[0]}var ot,qe,We,ct,dt;if(c=f(c,{}),c===null)return null;if(ot=c.input,dt={address:U,"address-list":D,"angle-addr":A,from:Oe,group:h,mailbox:w,"mailbox-list":I,"reply-to":Le,sender:it}[c.startAt]||D,!c.strict){if(E(),c.strict=!0,ct=dt(ot),c.partial||!d())return at(ct);c.strict=!1}return E(),ct=dt(ot),!c.partial&&d()?null:at(ct)}function n(c){return r(f(c,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))}function i(c){return r(f(c,{rfc6532:!0,simple:!0,startAt:"address-list"}))}function a(c){return r(f(c,{rfc6532:!0,simple:!0,startAt:"from"}))}function s(c){return r(f(c,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))}function o(c){return r(f(c,{rfc6532:!0,simple:!0,startAt:"reply-to"}))}function f(c,d){function u(H){return Object.prototype.toString.call(H)==="[object String]"}function p(H){return H===Object(H)}function x(H){return H==null}var S,E;if(u(c))c={input:c};else if(!p(c))return null;if(!u(c.input)||!d)return null;S={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1};for(E in S)x(c[E])&&(c[E]=x(d[E])?S[E]:d[E]);return c}r.parseOneAddress=n,r.parseAddressList=i,r.parseFrom=a,r.parseSender=s,r.parseReplyTo=o,t.exports=r})()}),is=class{constructor(){this.tag=g.packet.userID,this.userid="",this.name="",this.email="",this.comment=""}static fromObject(e){if(P.isString(e)||e.name&&!P.isString(e.name)||e.email&&!P.isEmailAddress(e.email)||e.comment&&!P.isString(e.comment))throw new Error("Invalid user ID format");let r=new is;Object.assign(r,e);let n=[];return r.name&&n.push(r.name),r.comment&&n.push(`(${r.comment})`),r.email&&n.push(`<${r.email}>`),r.userid=n.join(" "),r}read(e,r=Ce){let n=P.decodeUtf8(e);if(n.length>r.maxUseridLength)throw new Error("User ID string is too long");try{let{name:i,address:a,comments:s}=ag.parseOneAddress({input:n,atInDisplayName:!0});this.comment=s.replace(/^\(|\)$/g,""),this.name=i,this.email=a}catch(i){}this.userid=n}write(){return P.encodeUtf8(this.userid)}},sc=class extends ns{constructor(e=new Date,r=Ce){super(e,r);this.tag=g.packet.secretSubkey}};function og(t,e){let r=sg(t);if(!e[r])throw new Error("Packet not allowed in this context: "+r);return new e[r]}function sg(t){return t.substr(0,1).toUpperCase()+t.substr(1)+"Packet"}var vt=class extends Array{async read(e,r,n,i=Ce){this.stream=xe.transformPair(e,async(s,o)=>{let f=xe.getWriter(o);try{for(;;)if(await f.ready,await ig(s,n,async d=>{try{let u=g.read(g.packet,d.tag),p=og(u,r);p.packets=new vt,p.fromStream=P.isStream(d.packet),await p.read(d.packet,i,n),await f.write(p)}catch(u){(!i.tolerant||ic(d.tag))&&await f.abort(u),P.printDebugError(u)}})){await f.ready,await f.close();return}}catch(c){await f.abort(c)}});let a=xe.getReader(this.stream);for(;;){let{done:s,value:o}=await a.read();if(s?this.stream=null:this.push(o),s||ic(o.tag))break}a.releaseLock()}write(){let e=[];for(let r=0;r<this.length;r++){let n=this[r].write();if(P.isStream(n)&&ic(this[r].tag)){let i=[],a=0,s=512;e.push(Sb(this[r].tag)),e.push(xe.transform(n,o=>{if(i.push(o),a+=o.length,a>=s){let f=Math.min(Math.log(a)/Math.LN2|0,30),c=2**f,d=P.concat([ng(f)].concat(i));return i=[d.subarray(1+c)],a=i[0].length,d.subarray(0,1+c)}},()=>P.concat([rs(a)].concat(i))))}else{if(P.isStream(n)){let i=0;e.push(xe.transform(xe.clone(n),a=>{i+=a.length},()=>Eb(this[r].tag,i)))}else e.push(Eb(this[r].tag,n.length));e.push(n)}}return P.concat(e)}push(e){!e||(e.packets=e.packets||new vt,super.push(e))}filterByTag(...e){let r=new vt,n=i=>a=>i===a;for(let i=0;i<this.length;i++)e.some(n(this[i].tag))&&r.push(this[i]);return r}findPacket(e){return this.find(r=>r.tag===e)}indexOfTag(...e){let r=[],n=this,i=a=>s=>a===s;for(let a=0;a<this.length;a++)e.some(i(n[a].tag))&&r.push(a);return r}concat(e){if(e)for(let r=0;r<e.length;r++)this.push(e[r]);return this}},Od=class{constructor(e){this.packets=e||new vt}write(){return this.packets.write()}armor(e=Ce){return po(g.armor.signature,this.write(),void 0,void 0,void 0,e)}};var cg={PublicKeyPacket:mn,PublicSubkeyPacket:nc,SecretKeyPacket:ns,SecretSubkeyPacket:sc,UserIDPacket:is,UserAttributePacket:ac,SignaturePacket:jt};async function Pb(t,e){let r=new sc(t.date,e);return r.packets=null,r.algorithm=g.read(g.publicKey,t.algorithm),await r.generate(t.rsaBits,t.curve),r}async function fg(t,e){let r=new ns(t.date,e);return r.packets=null,r.algorithm=g.read(g.publicKey,t.algorithm),await r.generate(t.rsaBits,t.curve,t.config),r}async function Mi(t,e,r,n,i=new Date,a){let s,o;for(let f=t.length-1;f>=0;f--)try{(!s||t[f].created>=s.created)&&!t[f].isExpired(i)&&(t[f].verified||await t[f].verify(e,r,n,void 0,void 0,a),s=t[f])}catch(c){o=c}if(!s)throw P.wrapError(`Could not find valid ${g.read(g.signature,r)} signature in key ${e.getKeyId().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(f,c,d)=>c+" "+d.toLowerCase()),o);return s}function Rb(t,e,r=new Date){let n=P.normalizeDate(r);if(n!==null){let i=qd(t,e);return!(t.created<=n&&n<=i)||e&&e.isExpired(r)}return!1}async function Mb(t,e,r,n){let i={};i.key=e,i.bind=t;let a=new jt(r.date);return a.signatureType=g.signature.subkeyBinding,a.publicKeyAlgorithm=e.algorithm,a.hashAlgorithm=await oc(null,t,void 0,void 0,n),r.sign?(a.keyFlags=[g.keyFlags.signData],a.embeddedSignature=await e0(i,null,t,{signatureType:g.signature.keyBinding},r.date,void 0,void 0,void 0,n)):a.keyFlags=[g.keyFlags.encryptCommunication|g.keyFlags.encryptStorage],r.keyExpirationTime>0&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1),await a.sign(e,i),a}async function oc(t,e,r=new Date,n={},i){let a=i.preferHashAlgorithm,s=a;if(t){let o=await t.getPrimaryUser(r,n,i);o.selfCertification.preferredHashAlgorithms&&([s]=o.selfCertification.preferredHashAlgorithms,a=Re.hash.getHashByteLength(a)<=Re.hash.getHashByteLength(s)?s:a)}switch(Object.getPrototypeOf(e)){case ns.prototype:case mn.prototype:case sc.prototype:case nc.prototype:switch(e.algorithm){case"ecdh":case"ecdsa":case"eddsa":s=Re.publicKey.elliptic.getPreferredHashAlgo(e.publicParams.oid)}}return Re.hash.getHashByteLength(a)<=Re.hash.getHashByteLength(s)?s:a}async function Tb(t,e,r=new Date,n=[],i=Ce){let a=t==="symmetric"?"preferredSymmetricAlgorithms":"preferredAeadAlgorithms",s=t==="symmetric"?g.symmetric.aes128:g.aead.eax,o={};await Promise.all(e.map(async function(c,d){let u=await c.getPrimaryUser(r,n[d],i);if(!u.selfCertification[a])return s;u.selfCertification[a].forEach(function(p,x){let S=o[p]||(o[p]={prio:0,count:0,algo:p});S.prio+=64>>x,S.count++})}));let f={prio:0,algo:s};return Object.values(o).forEach(({prio:c,count:d,algo:u})=>{try{u!==g[t].plaintext&&u!==g[t].idea&&g.read(g[t],u)&&d===e.length&&c>f.prio&&(f=o[u])}catch(p){}}),f.algo}async function e0(t,e,r,n,i,a,s=!1,o=!1,f){if(r.isDummy())throw new Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw new Error("Private key is not decrypted.");let c=new jt(i);return Object.assign(c,n),c.publicKeyAlgorithm=r.algorithm,c.hashAlgorithm=await oc(e,r,i,a,f),await c.sign(r,t,s,o),c}async function pa(t,e,r,n){t=t[r],t&&(e[r].length?await Promise.all(t.map(async function(i){!i.isExpired()&&(!n||await n(i))&&!e[r].some(function(a){return P.equalsUint8Array(a.write_params(),i.write_params())})&&e[r].push(i)})):e[r]=t)}async function t0(t,e,r,n,i,a,s=new Date,o){a=a||t;let f=P.normalizeDate(s),c=[];return await Promise.all(n.map(async function(d){try{(!i||d.issuerKeyId.equals(i.issuerKeyId))&&!(o.revocationsExpire&&d.isExpired(f))&&(d.verified||await d.verify(a,e,r,void 0,void 0,o),c.push(d.issuerKeyId))}catch(u){}})),i?(i.revoked=c.some(d=>d.equals(i.issuerKeyId))?!0:i.revoked||!1,i.revoked):c.length>0}function qd(t,e){let r;return e.keyNeverExpires===!1&&(r=t.created.getTime()+e.keyExpirationTime*1e3),r?new Date(r):Infinity}async function dg(t,e=new Date,r=[],n=Ce){let i=!0;return await Promise.all(t.map(async function(a,s){let o=await a.getPrimaryUser(e,r[s],n);(!o.selfCertification.features||!(o.selfCertification.features[0]&g.features.aead))&&(i=!1)})),i}function Ld(t,e={}){switch(t.type=t.type||e.type,t.curve=t.curve||e.curve,t.rsaBits=t.rsaBits||e.rsaBits,t.keyExpirationTime=t.keyExpirationTime!==void 0?t.keyExpirationTime:e.keyExpirationTime,t.passphrase=P.isString(t.passphrase)?t.passphrase:e.passphrase,t.date=t.date||e.date,t.sign=t.sign||!1,t.type){case"ecc":try{t.curve=g.write(g.curve,t.curve)}catch(r){throw new Error("Invalid curve")}(t.curve===g.curve.ed25519||t.curve===g.curve.curve25519)&&(t.curve=t.sign?g.curve.ed25519:g.curve.curve25519),t.sign?t.algorithm=t.curve===g.curve.ed25519?g.publicKey.eddsa:g.publicKey.ecdsa:t.algorithm=g.publicKey.ecdh;break;case"rsa":t.algorithm=g.publicKey.rsaEncryptSign;break;default:throw new Error(`Unsupported key type ${t.type}`)}return t}function Bb(t,e){if(!e.verified||e.revoked!==!1)throw new Error("Signature not verified");return t.algorithm!==g.read(g.publicKey,g.publicKey.rsaEncrypt)&&t.algorithm!==g.read(g.publicKey,g.publicKey.elgamal)&&t.algorithm!==g.read(g.publicKey,g.publicKey.ecdh)&&(!e.keyFlags||(e.keyFlags[0]&g.keyFlags.signData)!=0)}function Ib(t,e){if(!e.verified||e.revoked!==!1)throw new Error("Signature not verified");return t.algorithm!==g.read(g.publicKey,g.publicKey.dsa)&&t.algorithm!==g.read(g.publicKey,g.publicKey.rsaSign)&&t.algorithm!==g.read(g.publicKey,g.publicKey.ecdsa)&&t.algorithm!==g.read(g.publicKey,g.publicKey.eddsa)&&(!e.keyFlags||(e.keyFlags[0]&g.keyFlags.encryptCommunication)!=0||(e.keyFlags[0]&g.keyFlags.encryptStorage)!=0)}function Db(t,e){if(!t.verified)throw new Error("Signature not verified");return e.allowInsecureDecryptionWithSigningKeys?!0:!t.keyFlags||(t.keyFlags[0]&g.keyFlags.encryptCommunication)!=0||(t.keyFlags[0]&g.keyFlags.encryptStorage)!=0}var r0=class{constructor(e){if(!(this instanceof r0))return new r0(e);this.userId=e.tag===g.packet.userID?e:null,this.userAttribute=e.tag===g.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[]}toPacketlist(){let e=new vt;return e.push(this.userId||this.userAttribute),e.concat(this.revocationSignatures),e.concat(this.selfCertifications),e.concat(this.otherCertifications),e}async sign(e,r,n){let i={userId:this.userId,userAttribute:this.userAttribute,key:e},a=new r0(i.userId||i.userAttribute);return a.otherCertifications=await Promise.all(r.map(async function(s){if(s.isPublic())throw new Error("Need private key for signing");if(s.hasSameFingerprintAs(e))throw new Error("Not implemented for self signing");let o=await s.getSigningKey(void 0,void 0,void 0,n);return e0(i,s,o.keyPacket,{signatureType:g.signature.certGeneric,keyFlags:[g.keyFlags.certifyKeys|g.keyFlags.signData]},void 0,void 0,void 0,void 0,n)})),await a.update(this,e),a}async isRevoked(e,r,n,i=new Date,a){return t0(e,g.signature.certRevocation,{key:e,userId:this.userId,userAttribute:this.userAttribute},this.revocationSignatures,r,n,i,a)}async verifyCertificate(e,r,n,i=new Date,a){let s=this,o=r.issuerKeyId,f={userId:this.userId,userAttribute:this.userAttribute,key:e};return(await Promise.all(n.map(async function(d){if(!d.getKeyIds().some(p=>p.equals(o)))return null;let u=await d.getSigningKey(o,i,void 0,a);if(r.revoked||await s.isRevoked(e,r,u.keyPacket,i,a))throw new Error("User certificate is revoked");try{r.verified||await r.verify(u.keyPacket,g.signature.certGeneric,f,void 0,void 0,a)}catch(p){throw P.wrapError("User certificate is invalid",p)}if(r.isExpired(i))throw new Error("User certificate is expired");return!0}))).find(d=>d!==null)||null}async verifyAllCertifications(e,r,n=new Date,i){let a=this,s=this.selfCertifications.concat(this.otherCertifications);return Promise.all(s.map(async function(o){return{keyid:o.issuerKeyId,valid:await a.verifyCertificate(e,o,r,n,i).catch(()=>!1)}}))}async verify(e,r=new Date,n){if(!this.selfCertifications.length)throw new Error("No self-certifications");let i=this,a={userId:this.userId,userAttribute:this.userAttribute,key:e},s;for(let o=this.selfCertifications.length-1;o>=0;o--)try{let f=this.selfCertifications[o];if(f.revoked||await i.isRevoked(e,f,void 0,r,n))throw new Error("Self-certification is revoked");try{f.verified||await f.verify(e,g.signature.certGeneric,a,void 0,void 0,n)}catch(c){throw P.wrapError("Self-certification is invalid",c)}if(f.isExpired(r))throw new Error("Self-certification is expired");return!0}catch(f){s=f}throw s}async update(e,r,n){let i={userId:this.userId,userAttribute:this.userAttribute,key:r};await pa(e,this,"selfCertifications",async function(a){try{return a.verified||await a.verify(r,g.signature.certGeneric,i,void 0,void 0,n),!0}catch(s){return!1}}),await pa(e,this,"otherCertifications"),await pa(e,this,"revocationSignatures",function(a){return t0(r,g.signature.certRevocation,i,[a],void 0,void 0,void 0,n)})}},Ti=class{constructor(e){if(!(this instanceof Ti))return new Ti(e);this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[]}toPacketlist(){let e=new vt;return e.push(this.keyPacket),e.concat(this.revocationSignatures),e.concat(this.bindingSignatures),e}async isRevoked(e,r,n,i=new Date,a=Ce){return t0(e,g.signature.subkeyRevocation,{key:e,bind:this.keyPacket},this.revocationSignatures,r,n,i,a)}async verify(e,r=new Date,n=Ce){let i={key:e,bind:this.keyPacket},a=await Mi(this.bindingSignatures,e,g.signature.subkeyBinding,i,r,n);if(a.revoked||await this.isRevoked(e,a,null,r,n))throw new Error("Subkey is revoked");if(Rb(this.keyPacket,a,r))throw new Error("Subkey is expired");return a}async getExpirationTime(e,r=new Date,n=Ce){let i={key:e,bind:this.keyPacket},a;try{a=await Mi(this.bindingSignatures,e,g.signature.subkeyBinding,i,r,n)}catch(f){return null}let s=qd(this.keyPacket,a),o=a.getExpirationTime();return s<o?s:o}async update(e,r,n=Ce){if(!this.hasSameFingerprintAs(e))throw new Error("SubKey update method: fingerprints of subkeys not equal");this.keyPacket.tag===g.packet.publicSubkey&&e.keyPacket.tag===g.packet.secretSubkey&&(this.keyPacket=e.keyPacket);let i=this,a={key:r,bind:i.keyPacket};await pa(e,this,"bindingSignatures",async function(s){for(let o=0;o<i.bindingSignatures.length;o++)if(i.bindingSignatures[o].issuerKeyId.equals(s.issuerKeyId))return s.created>i.bindingSignatures[o].created&&(i.bindingSignatures[o]=s),!1;try{return s.verified||await s.verify(r,g.signature.subkeyBinding,a,void 0,void 0,n),!0}catch(o){return!1}}),await pa(e,this,"revocationSignatures",function(s){return t0(r,g.signature.subkeyRevocation,a,[s],void 0,void 0,void 0,n)})}async revoke(e,{flag:r=g.reasonForRevocation.noReason,string:n=""}={},i=new Date,a=Ce){let s={key:e,bind:this.keyPacket},o=new Ti(this.keyPacket);return o.revocationSignatures.push(await e0(s,null,e,{signatureType:g.signature.subkeyRevocation,reasonForRevocationFlag:g.write(g.reasonForRevocation,r),reasonForRevocationString:n},i,void 0,void 0,void 0,a)),await o.update(this,e),o}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}};["getKeyId","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(t=>{Ti.prototype[t]=function(){return this.keyPacket[t]()}});var gn=class{constructor(e){if(!(this instanceof gn))return new gn(e);if(this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subKeys=[],this.packetlist2structure(e),!this.keyPacket)throw new Error("Invalid key: need at least key packet")}get primaryKey(){return this.keyPacket}packetlist2structure(e){let r,n,i;for(let a=0;a<e.length;a++)switch(e[a].tag){case g.packet.publicKey:case g.packet.secretKey:if(this.keyPacket)throw new Error("Key block contains multiple keys");this.keyPacket=e[a],n=this.getKeyId();break;case g.packet.userID:case g.packet.userAttribute:r=new r0(e[a]),this.users.push(r);break;case g.packet.publicSubkey:case g.packet.secretSubkey:r=null,i=new Ti(e[a]),this.subKeys.push(i);break;case g.packet.signature:switch(e[a].signatureType){case g.signature.certGeneric:case g.signature.certPersona:case g.signature.certCasual:case g.signature.certPositive:if(!r){P.printDebug("Dropping certification signatures without preceding user packet");continue}e[a].issuerKeyId.equals(n)?r.selfCertifications.push(e[a]):r.otherCertifications.push(e[a]);break;case g.signature.certRevocation:r?r.revocationSignatures.push(e[a]):this.directSignatures.push(e[a]);break;case g.signature.key:this.directSignatures.push(e[a]);break;case g.signature.subkeyBinding:if(!i){P.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}i.bindingSignatures.push(e[a]);break;case g.signature.keyRevocation:this.revocationSignatures.push(e[a]);break;case g.signature.subkeyRevocation:if(!i){P.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}i.revocationSignatures.push(e[a]);break}break}}toPacketlist(){let e=new vt;return e.push(this.keyPacket),e.concat(this.revocationSignatures),e.concat(this.directSignatures),this.users.map(r=>e.concat(r.toPacketlist())),this.subKeys.map(r=>e.concat(r.toPacketlist())),e}async clone(){return new gn(this.toPacketlist())}getSubkeys(e=null){let r=[];return this.subKeys.forEach(n=>{(!e||n.getKeyId().equals(e,!0))&&r.push(n)}),r}getKeys(e=null){let r=[];return(!e||this.getKeyId().equals(e,!0))&&r.push(this),r.concat(this.getSubkeys(e))}getKeyIds(){return this.getKeys().map(e=>e.getKeyId())}getUserIds(){return this.users.map(e=>e.userId?e.userId.userid:null).filter(e=>e!==null)}isPublic(){return this.keyPacket.tag===g.packet.publicKey}isPrivate(){return this.keyPacket.tag===g.packet.secretKey}toPublic(){let e=new vt,r=this.toPacketlist(),n,i,a;for(let s=0;s<r.length;s++)switch(r[s].tag){case g.packet.secretKey:n=r[s].writePublicKey(),i=new mn,i.read(n),e.push(i);break;case g.packet.secretSubkey:n=r[s].writePublicKey(),a=new nc,a.read(n),e.push(a);break;default:e.push(r[s])}return new gn(e)}armor(e=Ce){let r=this.isPublic()?g.armor.publicKey:g.armor.privateKey;return po(r,this.toPacketlist().write(),void 0,void 0,void 0,e)}async getSigningKey(e=null,r=new Date,n={},i=Ce){await this.verifyPrimaryKey(r,n,i);let a=this.keyPacket,s=this.subKeys.slice().sort((c,d)=>d.keyPacket.created-c.keyPacket.created),o;for(let c=0;c<s.length;c++)if(!e||s[c].getKeyId().equals(e))try{await s[c].verify(a,r,i);let d={key:a,bind:s[c].keyPacket},u=await Mi(s[c].bindingSignatures,a,g.signature.subkeyBinding,d,r,i);if(u&&u.embeddedSignature&&Bb(s[c].keyPacket,u)&&await Mi([u.embeddedSignature],s[c].keyPacket,g.signature.keyBinding,d,r,i))return s[c]}catch(d){o=d}let f=await this.getPrimaryUser(r,n,i);if((!e||a.getKeyId().equals(e))&&Bb(a,f.selfCertification))return this;throw P.wrapError("Could not find valid signing key packet in key "+this.getKeyId().toHex(),o)}async getEncryptionKey(e,r=new Date,n={},i=Ce){await this.verifyPrimaryKey(r,n,i);let a=this.keyPacket,s=this.subKeys.slice().sort((c,d)=>d.keyPacket.created-c.keyPacket.created),o;for(let c=0;c<s.length;c++)if(!e||s[c].getKeyId().equals(e))try{await s[c].verify(a,r,i);let d={key:a,bind:s[c].keyPacket},u=await Mi(s[c].bindingSignatures,a,g.signature.subkeyBinding,d,r,i);if(u&&Ib(s[c].keyPacket,u))return s[c]}catch(d){o=d}let f=await this.getPrimaryUser(r,n,i);if((!e||a.getKeyId().equals(e))&&Ib(a,f.selfCertification))return this;throw P.wrapError("Could not find valid encryption key packet in key "+this.getKeyId().toHex(),o)}async getDecryptionKeys(e,r=new Date,n={},i=Ce){let a=this.keyPacket,s=[];for(let f=0;f<this.subKeys.length;f++)if(!e||this.subKeys[f].getKeyId().equals(e,!0))try{let c={key:a,bind:this.subKeys[f].keyPacket},d=await Mi(this.subKeys[f].bindingSignatures,a,g.signature.subkeyBinding,c,r,i);d&&Db(d,i)&&s.push(this.subKeys[f])}catch(c){}let o=await this.getPrimaryUser(r,n,i);return(!e||a.getKeyId().equals(e,!0))&&Db(o.selfCertification,i)&&s.push(this),s}async encrypt(e,r=null,n=Ce){if(!this.isPrivate())throw new Error("Nothing to encrypt in a public key");let i=this.getKeys(r);if(e=P.isArray(e)?e:new Array(i.length).fill(e),e.length!==i.length)throw new Error("Invalid number of passphrases for key");await Promise.all(i.map(async function(a,s){let{keyPacket:o}=a;await o.encrypt(e[s],n),o.clearPrivateParams()}))}async decrypt(e,r=null,n=Ce){if(!this.isPrivate())throw new Error("Nothing to decrypt in a public key");e=P.isArray(e)?e:[e],await Promise.all(this.getKeys(r).map(async function(i){let a=!1,s=null;if(await Promise.all(e.map(async function(o){try{await i.keyPacket.decrypt(o),r&&await i.keyPacket.validate(),a=!0}catch(f){s=f}})),!a)throw s})),r||await this.validate(n)}isDecrypted(){return this.getKeys().some(({keyPacket:e})=>e.isDecrypted())}async validate(e=Ce){if(!this.isPrivate())throw new Error("Cannot validate a public key");let r;if(!this.primaryKey.isDummy())r=this.primaryKey;else{let n=await this.getSigningKey(null,null,void 0,e);n&&!n.keyPacket.isDummy()&&(r=n.keyPacket)}if(r)return r.validate();{let n=this.getKeys();if(n.map(a=>a.keyPacket.isDummy()).every(Boolean))throw new Error("Cannot validate an all-gnu-dummy key");return Promise.all(n.map(async a=>a.keyPacket.validate()))}}clearPrivateParams(){if(!this.isPrivate())throw new Error("Can't clear private parameters of a public key");this.getKeys().forEach(({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()})}async isRevoked(e,r,n=new Date,i=Ce){return t0(this.keyPacket,g.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,r,n,i)}async verifyPrimaryKey(e=new Date,r={},n=Ce){let i=this.keyPacket;if(await this.isRevoked(null,null,e,n))throw new Error("Primary key is revoked");let{selfCertification:a}=await this.getPrimaryUser(e,r,n);if(Rb(i,a,e))throw new Error("Primary key is expired")}async getExpirationTime(e,r,n,i=Ce){let s=(await this.getPrimaryUser(null,n,i)).selfCertification,o=qd(this.keyPacket,s),f=s.getExpirationTime(),c=o<f?o:f;if(e==="encrypt"||e==="encrypt_sign"){let d=await this.getEncryptionKey(r,c,n,i).catch(()=>{})||await this.getEncryptionKey(r,null,n,i).catch(()=>{});if(!d)return null;let u=await d.getExpirationTime(this.keyPacket,void 0,i);u<c&&(c=u)}if(e==="sign"||e==="encrypt_sign"){let d=await this.getSigningKey(r,c,n,i).catch(()=>{})||await this.getSigningKey(r,null,n,i).catch(()=>{});if(!d)return null;let u=await d.getExpirationTime(this.keyPacket,void 0,i);u<c&&(c=u)}return c}async getPrimaryUser(e=new Date,r={},n=Ce){let i=this.keyPacket,a=[],s;for(let d=0;d<this.users.length;d++)try{let u=this.users[d];if(!u.userId)continue;if(r.name!==void 0&&u.userId.name!==r.name||r.email!==void 0&&u.userId.email!==r.email||r.comment!==void 0&&u.userId.comment!==r.comment)throw new Error("Could not find user that matches that user ID");let p={userId:u.userId,key:i},x=await Mi(u.selfCertifications,i,g.signature.certGeneric,p,e,n);a.push({index:d,user:u,selfCertification:x})}catch(u){s=u}if(!a.length)throw s||new Error("Could not find primary user");await Promise.all(a.map(async function(d){return d.user.revoked||d.user.isRevoked(i,d.selfCertification,null,e,n)}));let o=a.sort(function(d,u){let p=d.selfCertification,x=u.selfCertification;return x.revoked-p.revoked||p.isPrimaryUserID-x.isPrimaryUserID||p.created-x.created}).pop(),{user:f,selfCertification:c}=o;if(c.revoked||await f.isRevoked(i,c,null,e,n))throw new Error("Primary user is revoked");return o}async update(e,r=Ce){if(!this.hasSameFingerprintAs(e))throw new Error("Key update method: fingerprints of keys not equal");if(this.isPublic()&&e.isPrivate()){if(!(this.subKeys.length===e.subKeys.length&&this.subKeys.every(i=>e.subKeys.some(a=>i.hasSameFingerprintAs(a)))))throw new Error("Cannot update public key with private key if subkey mismatch");this.keyPacket=e.keyPacket}await pa(e,this,"revocationSignatures",n=>t0(this.keyPacket,g.signature.keyRevocation,this,[n],null,e.keyPacket,void 0,r)),await pa(e,this,"directSignatures"),await Promise.all(e.users.map(async n=>{let i=!1;await Promise.all(this.users.map(async a=>{(n.userId&&a.userId&&n.userId.userid===a.userId.userid||n.userAttribute&&n.userAttribute.equals(a.userAttribute))&&(await a.update(n,this.keyPacket,r),i=!0)})),i||this.users.push(n)})),await Promise.all(e.subKeys.map(async n=>{let i=!1;await Promise.all(this.subKeys.map(async a=>{a.hasSameFingerprintAs(n)&&(await a.update(n,this.keyPacket,r),i=!0)})),i||this.subKeys.push(n)}))}async revoke({flag:e=g.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=Ce){if(this.isPublic())throw new Error("Need private key for revoking");let a={key:this.keyPacket},s=await this.clone();return s.revocationSignatures.push(await e0(a,null,this.keyPacket,{signatureType:g.signature.keyRevocation,reasonForRevocationFlag:g.write(g.reasonForRevocation,e),reasonForRevocationString:r},n,void 0,void 0,void 0,i)),s}async getRevocationCertificate(e=new Date,r=Ce){let n={key:this.keyPacket},i=await Mi(this.revocationSignatures,this.keyPacket,g.signature.keyRevocation,n,e,r),a=new vt;return a.push(i),po(g.armor.publicKey,a.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,r=Ce){let n=await bo(e,r),i=new vt;await i.read(n.data,{SignaturePacket:jt},void 0,r);let a=i.findPacket(g.packet.signature);if(!a||a.signatureType!==g.signature.keyRevocation)throw new Error("Could not find revocation signature packet");if(!a.issuerKeyId.equals(this.getKeyId()))throw new Error("Revocation signature does not match key");if(a.isExpired())throw new Error("Revocation signature is expired");try{await a.verify(this.keyPacket,g.signature.keyRevocation,{key:this.keyPacket},void 0,void 0,r)}catch(o){throw P.wrapError("Could not verify revocation signature",o)}let s=await this.clone();return s.revocationSignatures.push(a),s}async signPrimaryUser(e,r,n,i=Ce){let{index:a,user:s}=await this.getPrimaryUser(r,n,i),o=await s.sign(this.keyPacket,e,i),f=await this.clone();return f.users[a]=o,f}async signAllUsers(e,r=Ce){let n=this,i=await this.clone();return i.users=await Promise.all(this.users.map(function(a){return a.sign(n.keyPacket,e,r)})),i}async verifyPrimaryUser(e,r,n,i=Ce){let a=this.keyPacket,{user:s}=await this.getPrimaryUser(r,n,i);return e?await s.verifyAllCertifications(a,e,void 0,i):[{keyid:a.keyid,valid:await s.verify(a,void 0,i).catch(()=>!1)}]}async verifyAllUsers(e,r=Ce){let n=[],i=this.keyPacket;return await Promise.all(this.users.map(async function(a){(e?await a.verifyAllCertifications(i,e,void 0,r):[{keyid:i.keyid,valid:await a.verify(i,void 0,r).catch(()=>!1)}]).forEach(o=>{n.push({userid:a.userId.userid,keyid:o.keyid,valid:o.valid})})})),n}async addSubkey(e={}){let r={...Ce,...e.config};if(!this.isPrivate())throw new Error("Cannot add a subkey to a public key");if(e.passphrase)throw new Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<r.minRsaBits)throw new Error(`rsaBits should be at least ${r.minRsaBits}, got: ${e.rsaBits}`);let n=this.primaryKey;if(n.isDummy())throw new Error("Cannot add subkey to gnu-dummy primary key");if(!n.isDecrypted())throw new Error("Key is not decrypted");let i=n.getAlgorithmInfo();i.type=i.curve?"ecc":"rsa",i.rsaBits=i.bits||4096,i.curve=i.curve||"curve25519",e=Ld(e,i);let a=await Pb(e),s=await Mb(a,n,e,r),o=this.toPacketlist();return o.push(a),o.push(s),new gn(o)}};["getKeyId","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(t=>{gn.prototype[t]=Ti.prototype[t]});async function lg(t,e){t.sign=!0,t=Ld(t),t.subkeys=t.subkeys.map((n,i)=>Ld(t.subkeys[i],t));let r=[fg(t,e)];return r=r.concat(t.subkeys.map(n=>Pb(n,e))),Promise.all(r).then(n=>ug(n[0],n.slice(1),t,e))}async function ug(t,e,r,n){r.passphrase&&await t.encrypt(r.passphrase,n),await Promise.all(e.map(async function(s,o){let f=r.subkeys[o].passphrase;f&&await s.encrypt(f,n)}));let i=new vt;i.push(t),await Promise.all(r.userIds.map(async function(s,o){function f(p,x){if(x){let S=p.indexOf(x);S>=1&&p.splice(S,1),S!==0&&p.unshift(x)}return p}let c=is.fromObject(s),d={};d.userId=c,d.key=t;let u=new jt(r.date);return u.signatureType=g.signature.certGeneric,u.publicKeyAlgorithm=t.algorithm,u.hashAlgorithm=await oc(null,t,void 0,void 0,n),u.keyFlags=[g.keyFlags.certifyKeys|g.keyFlags.signData],u.preferredSymmetricAlgorithms=f([g.symmetric.aes256,g.symmetric.aes128,g.symmetric.aes192],n.encryptionCipher),n.aeadProtect&&(u.preferredAeadAlgorithms=f([g.aead.eax,g.aead.ocb],n.aeadMode)),u.preferredHashAlgorithms=f([g.hash.sha256,g.hash.sha512],n.preferHashAlgorithm),u.preferredCompressionAlgorithms=f([g.compression.zlib,g.compression.zip,g.compression.uncompressed],n.compression),o===0&&(u.isPrimaryUserID=!0),u.features=[0],u.features[0]|=g.features.modificationDetection,n.aeadProtect&&(u.features[0]|=g.features.aead),n.v5Keys&&(u.features[0]|=g.features.v5Keys),r.keyExpirationTime>0&&(u.keyExpirationTime=r.keyExpirationTime,u.keyNeverExpires=!1),await u.sign(t,d),{userIdPacket:c,signaturePacket:u}})).then(s=>{s.forEach(({userIdPacket:o,signaturePacket:f})=>{i.push(o),i.push(f)})}),await Promise.all(e.map(async function(s,o){let f=r.subkeys[o],c=await Mb(s,t,f,n);return{secretSubkeyPacket:s,subkeySignaturePacket:c}})).then(s=>{s.forEach(({secretSubkeyPacket:o,subkeySignaturePacket:f})=>{i.push(o),i.push(f)})});let a={key:t};return i.push(await e0(a,null,t,{signatureType:g.signature.keyRevocation,reasonForRevocationFlag:g.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,void 0,n)),r.passphrase&&t.clearPrivateParams(),await Promise.all(e.map(async function(s,o){r.subkeys[o].passphrase&&s.clearPrivateParams()})),new gn(i)}async function Bi({armoredKey:t,binaryKey:e,config:r}){if(r={...Ce,...r},!t&&!e)throw new Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");let n;if(t){let{type:a,data:s}=await bo(t,r);if(!(a===g.armor.publicKey||a===g.armor.privateKey))throw new Error("Armored text not of type key");n=s}else n=e;let i=new vt;return await i.read(n,cg,void 0,r),new gn(i)}var Xt=class{constructor(e){this.packets=e||new vt}getEncryptionKeyIds(){let e=[];return this.packets.filterByTag(g.packet.publicKeyEncryptedSessionKey).forEach(function(n){e.push(n.publicKeyId)}),e}getSigningKeyIds(){let e=[],r=this.unwrapCompressed();return r.packets.filterByTag(g.packet.onePassSignature).forEach(function(i){e.push(i.issuerKeyId)}),e.length||r.packets.filterByTag(g.packet.signature).forEach(function(a){e.push(a.issuerKeyId)}),e}async decrypt(e,r,n,i,a=Ce){let s=n||await this.decryptSessionKeys(e,r,a),o=this.packets.filterByTag(g.packet.symmetricallyEncryptedData,g.packet.symEncryptedIntegrityProtectedData,g.packet.AEADEncryptedData);if(o.length===0)return this;let f=o[0],c=null,d=Promise.all(s.map(async p=>{if(!p||!P.isUint8Array(p.data)||!P.isString(p.algorithm))throw new Error("Invalid session key for decryption.");try{await f.decrypt(p.algorithm,p.data,i,a)}catch(x){P.printDebugError(x),c=x}}));if(xe.cancel(f.encrypted),f.encrypted=null,await d,!f.packets||!f.packets.length)throw c||new Error("Decryption failed.");let u=new Xt(f.packets);return f.packets=new vt,u}async decryptSessionKeys(e,r,n=Ce){let i=[],a;if(r){let s=this.packets.filterByTag(g.packet.symEncryptedSessionKey);if(!s)throw new Error("No symmetrically encrypted session key packet found.");await Promise.all(r.map(async function(o,f){let c;f?(c=new vt,await c.read(s.write(),{SymEncryptedSessionKeyPacket:rc})):c=s,await Promise.all(c.map(async function(d){try{await d.decrypt(o),i.push(d)}catch(u){P.printDebugError(u)}}))}))}else if(e){let s=this.packets.filterByTag(g.packet.publicKeyEncryptedSessionKey);if(!s)throw new Error("No public key encrypted session key packet found.");await Promise.all(s.map(async function(o){await Promise.all(e.map(async function(f){let c=[g.symmetric.aes256,g.symmetric.aes128,g.symmetric.tripledes,g.symmetric.cast5];try{let u=await f.getPrimaryUser(void 0,void 0,n);u.selfCertification.preferredSymmetricAlgorithms&&(c=c.concat(u.selfCertification.preferredSymmetricAlgorithms))}catch(u){}let d=(await f.getDecryptionKeys(o.publicKeyId,null,void 0,n)).map(u=>u.keyPacket);await Promise.all(d.map(async function(u){if(!(!u||u.isDummy())){if(!u.isDecrypted())throw new Error("Private key is not decrypted.");try{if(await o.decrypt(u),!c.includes(g.write(g.symmetric,o.sessionKeyAlgorithm)))throw new Error("A non-preferred symmetric algorithm was used.");i.push(o)}catch(p){P.printDebugError(p),a=p}}}))})),xe.cancel(o.encrypted),o.encrypted=null}))}else throw new Error("No key or password specified.");if(i.length){if(i.length>1){let s={};i=i.filter(function(o){let f=o.sessionKeyAlgorithm+P.uint8ArrayToStr(o.sessionKey);return s.hasOwnProperty(f)?!1:(s[f]=!0,!0)})}return i.map(s=>({data:s.sessionKey,algorithm:s.sessionKeyAlgorithm}))}throw a||new Error("Session key decryption failed.")}getLiteralData(){let r=this.unwrapCompressed().packets.findPacket(g.packet.literalData);return r&&r.getBytes()||null}getFilename(){let r=this.unwrapCompressed().packets.findPacket(g.packet.literalData);return r&&r.getFilename()||null}getText(){let r=this.unwrapCompressed().packets.findPacket(g.packet.literalData);return r?r.getText():null}static async generateSessionKey(e=[],r=new Date,n=[],i=Ce){let a=g.read(g.symmetric,await Tb("symmetric",e,r,n,i)),s=i.aeadProtect&&await dg(e,r,n,i)?g.read(g.aead,await Tb("aead",e,r,n,i)):void 0;return{data:await Re.generateSessionKey(a),algorithm:a,aeadAlgorithm:s}}async encrypt(e,r,n,i=!1,a=[],s=new Date,o=[],f,c=Ce){if(n){if(!P.isUint8Array(n.data)||!P.isString(n.algorithm))throw new Error("Invalid session key for encryption.")}else if(e&&e.length)n=await Xt.generateSessionKey(e,s,o,c);else if(r&&r.length)n=await Xt.generateSessionKey(void 0,void 0,void 0,c);else throw new Error("No keys, passwords, or session key provided.");let{data:d,algorithm:u,aeadAlgorithm:p}=n,x=await Xt.encryptSessionKey(d,u,p,e,r,i,a,s,o,c),S;return p?(S=new Fd,S.aeadAlgorithm=p):S=new zd,S.packets=this.packets,await S.encrypt(u,d,f,c),x.packets.push(S),S.packets=new vt,x}static async encryptSessionKey(e,r,n,i,a,s=!1,o=[],f=new Date,c=[],d=Ce){let u=new vt;if(i){let p=await Promise.all(i.map(async function(x,S){let E=await x.getEncryptionKey(o[S],f,c,d),H=new Nd;return H.publicKeyId=s?Dn.wildcard():E.getKeyId(),H.publicKeyAlgorithm=E.keyPacket.algorithm,H.sessionKey=e,H.sessionKeyAlgorithm=r,await H.encrypt(E.keyPacket),delete H.sessionKey,H}));u.concat(p)}if(a){let p=async function(H,K){try{return await H.decrypt(K),1}catch(ee){return 0}},x=(H,K)=>H+K,S=async function(H,K,ee,ie){let F=new rc(d);return F.sessionKey=H,F.sessionKeyAlgorithm=K,ee&&(F.aeadAlgorithm=ee),await F.encrypt(ie,d),d.passwordCollisionCheck&&(await Promise.all(a.map(re=>p(F,re)))).reduce(x)!==1?S(H,K,ie):(delete F.sessionKey,F)},E=await Promise.all(a.map(H=>S(e,r,n,H)));u.concat(E)}return new Xt(u)}async sign(e=[],r=null,n=[],i=new Date,a=[],s=!1,o=Ce){let f=new vt,c=this.packets.findPacket(g.packet.literalData);if(!c)throw new Error("No literal data packet to sign.");let d,u,p=c.text===null?g.signature.binary:g.signature.text;if(r)for(u=r.packets.filterByTag(g.packet.signature),d=u.length-1;d>=0;d--){let x=u[d],S=new Lr;S.signatureType=x.signatureType,S.hashAlgorithm=x.hashAlgorithm,S.publicKeyAlgorithm=x.publicKeyAlgorithm,S.issuerKeyId=x.issuerKeyId,!e.length&&d===0&&(S.flags=1),f.push(S)}return await Promise.all(Array.from(e).reverse().map(async function(x,S){if(x.isPublic())throw new Error("Need private key for signing");let E=n[e.length-1-S],H=await x.getSigningKey(E,i,a,o),K=new Lr;return K.signatureType=p,K.hashAlgorithm=await oc(x,H.keyPacket,i,a,o),K.publicKeyAlgorithm=H.keyPacket.algorithm,K.issuerKeyId=H.getKeyId(),S===e.length-1&&(K.flags=1),K})).then(x=>{x.forEach(S=>f.push(S))}),f.push(c),f.concat(await Kb(c,e,r,n,i,a,!1,s,o)),new Xt(f)}compress(e=Ce){if(e.compression===g.compression.uncompressed)return this;let r=new Xa(e);r.packets=this.packets;let n=new vt;return n.push(r),new Xt(n)}async signDetached(e=[],r=null,n=[],i=new Date,a=[],s=!1,o=Ce){let f=this.packets.findPacket(g.packet.literalData);if(!f)throw new Error("No literal data packet to sign.");return new Od(await Kb(f,e,r,n,i,a,!0,s,o))}async verify(e,r=new Date,n,i=Ce){let a=this.unwrapCompressed(),s=a.packets.filterByTag(g.packet.literalData);if(s.length!==1)throw new Error("Can only verify message with one literal data packet.");n||a.packets.concat(await xe.readToEnd(a.packets.stream,c=>c));let o=a.packets.filterByTag(g.packet.onePassSignature).reverse(),f=a.packets.filterByTag(g.packet.signature);return n&&o.length&&!f.length&&a.packets.stream?(await Promise.all(o.map(async c=>{c.correspondingSig=new Promise((d,u)=>{c.correspondingSigResolve=d,c.correspondingSigReject=u}),c.signatureData=xe.fromAsync(async()=>(await c.correspondingSig).signatureData),c.hashed=xe.readToEnd(await c.hash(c.signatureType,s[0],void 0,!1,n)),c.hashed.catch(()=>{})})),a.packets.stream=xe.transformPair(a.packets.stream,async(c,d)=>{let u=xe.getReader(c),p=xe.getWriter(d);try{for(let x=0;x<o.length;x++){let{value:S}=await u.read();o[x].correspondingSigResolve(S)}await u.readToEnd(),await p.ready,await p.close()}catch(x){o.forEach(S=>{S.correspondingSigReject(x)}),await p.abort(x)}}),jd(o,s,e,r,!1,n,i)):jd(f,s,e,r,!1,n,i)}verifyDetached(e,r,n=new Date,i,a=Ce){let o=this.unwrapCompressed().packets.filterByTag(g.packet.literalData);if(o.length!==1)throw new Error("Can only verify message with one literal data packet.");let f=e.packets;return jd(f,o,r,n,!0,void 0,a)}unwrapCompressed(){let e=this.packets.filterByTag(g.packet.compressedData);return e.length?new Xt(e[0].packets):this}async appendSignature(e){await this.packets.read(P.isUint8Array(e)?e:(await bo(e)).data,{SignaturePacket:jt})}write(){return this.packets.write()}armor(e=Ce){return po(g.armor.message,this.write(),null,null,null,e)}static fromText(e,r,n=new Date,i="utf8"){let a=P.isStream(e);a==="node"&&(e=xe.nodeToWeb(e));let s=new Ri(n);s.setText(e,i),r!==void 0&&s.setFilename(r);let o=new vt;o.push(s);let f=new Xt(o);return f.fromStream=a,f}static fromBinary(e,r,n=new Date,i="binary"){let a=P.isStream(e);if(!P.isUint8Array(e)&&!a)throw new Error("Data must be in the form of a Uint8Array or Stream");a==="node"&&(e=xe.nodeToWeb(e));let s=new Ri(n);s.setBytes(e,i),r!==void 0&&s.setFilename(r);let o=new vt;o.push(s);let f=new Xt(o);return f.fromStream=a,f}};async function Kb(t,e,r=null,n=[],i=new Date,a=[],s=!1,o=!1,f=Ce){let c=new vt,d=t.text===null?g.signature.binary:g.signature.text;if(await Promise.all(e.map(async(u,p)=>{let x=a[p];if(u.isPublic())throw new Error("Need private key for signing");let S=await u.getSigningKey(n[p],i,x,f);return e0(t,u,S.keyPacket,{signatureType:d},i,x,s,o,f)})).then(u=>{u.forEach(p=>c.push(p))}),r){let u=r.packets.filterByTag(g.packet.signature);c.concat(u)}return c}async function hg(t,e,r,n=new Date,i=!1,a=!1,s=Ce){let o=null,f=null;await Promise.all(r.map(async function(u){try{f=await u.getSigningKey(t.issuerKeyId,null,void 0,s),o=u}catch(p){}}));let c=t.correspondingSig||t,d={keyid:t.issuerKeyId,verified:(async()=>{if(!f)return null;await t.verify(f.keyPacket,t.signatureType,e[0],i,a,s);let u=await c;if(u.isExpired(n)||!(u.created>=f.getCreationTime()&&u.created<await(f===o?f.getExpirationTime(void 0,void 0,void 0,s):f.getExpirationTime(o,n,void 0,s))))throw new Error("Signature is expired");return!0})(),signature:(async()=>{let u=await c,p=new vt;return p.push(u),new Od(p)})()};return d.signature.catch(()=>{}),d.verified.catch(()=>{}),d}async function jd(t,e,r,n=new Date,i=!1,a=!1,s=Ce){return Promise.all(t.filter(function(o){return["text","binary"].includes(g.read(g.signature,o.signatureType))}).map(async function(o){return hg(o,e,r,n,i,a,s)}))}async function Ub({armoredMessage:t,binaryMessage:e,config:r}){r={...Ce,...r};let n=t||e;if(!n)throw new Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");let i=P.isStream(n);if(i==="node"&&(n=xe.nodeToWeb(n)),t){let{type:o,data:f}=await bo(n,r);if(o!==g.armor.message)throw new Error("Armored text not of type message");n=f}let a=new vt;await a.read(n,{LiteralDataPacket:Ri,CompressedDataPacket:Xa,AEADEncryptedDataPacket:Fd,SymEncryptedIntegrityProtectedDataPacket:zd,SymmetricallyEncryptedDataPacket:Ab,PublicKeyEncryptedSessionKeyPacket:Nd,SymEncryptedSessionKeyPacket:rc,OnePassSignaturePacket:Lr,SignaturePacket:jt},i,r);let s=new Xt(a);return s.fromStream=i,s}var Hd;if(ut.ReadableStream)try{Hd=Mh(ut.ReadableStream)}catch(t){}function Wd({userIds:t=[],passphrase:e="",type:r="ecc",rsaBits:n=4096,curve:i="curve25519",keyExpirationTime:a=0,date:s=new Date,subkeys:o=[{}],config:f}){f={...Ce,...f},t=vn(t);let c={userIds:t,passphrase:e,type:r,rsaBits:n,curve:i,keyExpirationTime:a,date:s,subkeys:o};if(r==="rsa"&&n<f.minRsaBits)throw new Error(`rsaBits should be at least ${f.minRsaBits}, got: ${n}`);return lg(c,f).then(async d=>{let u=await d.getRevocationCertificate(s,f);return d.revocationSignatures=[],{key:d,privateKeyArmored:d.armor(f),publicKeyArmored:d.toPublic().armor(f),revocationCertificate:u}}).catch(cc.bind(null,"Error generating keypair"))}async function $d({privateKey:t,passphrase:e,config:r}){r={...Ce,...r};let n=await t.clone();n.getKeys().forEach(i=>{i.keyPacket=Object.create(Object.getPrototypeOf(i.keyPacket),Object.getOwnPropertyDescriptors(i.keyPacket))});try{return await n.decrypt(e,void 0,r),n}catch(i){return n.clearPrivateParams(),cc("Error decrypting private key",i)}}function Yd({message:t,publicKeys:e,privateKeys:r,passwords:n,sessionKey:i,armor:a=!0,streaming:s=t&&t.fromStream,detached:o=!1,signature:f=null,wildcard:c=!1,signingKeyIds:d=[],encryptionKeyIds:u=[],date:p=new Date,fromUserIds:x=[],toUserIds:S=[],config:E}){if(E={...Ce,...E},zb(t),e=vn(e),r=vn(r),n=vn(n),x=vn(x),S=vn(S),o)throw new Error("detached option has been removed from openpgp.encrypt. Separately call openpgp.sign instead. Don't forget to remove privateKeys option as well.");return Promise.resolve().then(async function(){r||(r=[]),(r.length||f)&&(t=await t.sign(r,f,d,p,x,t.fromStream,E)),t=t.compress(E),t=await t.encrypt(e,n,i,c,u,p,S,s,E);let H=a?t.armor(E):t.write();return Fb(H,s,a?"utf8":"binary")}).catch(cc.bind(null,"Error encrypting message"))}function Nb({message:t,privateKeys:e,passwords:r,sessionKeys:n,publicKeys:i,format:a="utf8",streaming:s=t&&t.fromStream,signature:o=null,date:f=new Date,config:c}){return c={...Ce,...c},zb(t),i=vn(i),e=vn(e),r=vn(r),n=vn(n),t.decrypt(e,r,n,s,c).then(async function(d){i||(i=[]);let u={};return u.signatures=o?await d.verifyDetached(o,i,f,s,c):await d.verify(i,f,s,c),u.data=a==="binary"?d.getLiteralData():d.getText(),u.filename=d.getFilename(),bg(u,t),u.data=await Fb(u.data,s,a),s||await pg(u.signatures),u}).catch(cc.bind(null,"Error decrypting message"))}function zb(t){if(!(t instanceof Xt))throw new Error("Parameter [message] needs to be of type Message")}function vn(t){return t&&!P.isArray(t)&&(t=[t]),t}async function Fb(t,e,r="utf8"){let n=P.isStream(t);return!e&&n?xe.readToEnd(t):(e&&!n&&(t=xe.toStream(t),n=P.isStream(t)),e==="node"?(t=xe.webToNode(t),r!=="binary"&&t.setEncoding(r),t):e==="web"&&n==="ponyfill"&&Hd?Hd(t):t)}function bg(t,e){t.data=xe.transformPair(e.packets.stream,async(r,n)=>{await xe.pipe(t.data,n,{preventClose:!0});let i=xe.getWriter(n);try{await xe.readToEnd(r,a=>a),await i.close()}catch(a){await i.abort(a)}})}async function pg(t){await Promise.all(t.map(async e=>{e.signature=await e.signature;try{e.valid=await e.verified}catch(r){e.valid=!1,e.error=r,P.printDebugError(r)}}))}function cc(t,e){P.printDebugError(e);try{e.message=t+": "+e.message}catch(r){}throw e}var Pe=nn(function(t){(function(e,r){function n(M,l){if(!M)throw new Error(l||"Assertion failed")}function i(M,l){M.super_=l;var m=function(){};m.prototype=l.prototype,M.prototype=new m,M.prototype.constructor=M}function a(M,l,m){if(a.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((l==="le"||l==="be")&&(m=l,l=10),this._init(M||0,l||10,m||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{s=void"buffer".Buffer}catch(M){}a.isBN=function(l){return l instanceof a?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===a.wordSize&&Array.isArray(l.words)},a.max=function(l,m){return l.cmp(m)>0?l:m},a.min=function(l,m){return l.cmp(m)<0?l:m},a.prototype._init=function(l,m,y){if(typeof l=="number")return this._initNumber(l,m,y);if(typeof l=="object")return this._initArray(l,m,y);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),l=l.toString().replace(/\s+/g,"");var B=0;l[0]==="-"&&B++,m===16?this._parseHex(l,B):this._parseBase(l,m,B),l[0]==="-"&&(this.negative=1),this.strip(),y==="le"&&this._initArray(this.toArray(),m,y)},a.prototype._initNumber=function(l,m,y){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),m,y)},a.prototype._initArray=function(l,m,y){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var O,Z,T=0;if(y==="be")for(B=l.length-1,O=0;B>=0;B-=3)Z=l[B]|l[B-1]<<8|l[B-2]<<16,this.words[O]|=Z<<T&67108863,this.words[O+1]=Z>>>26-T&67108863,T+=24,T>=26&&(T-=26,O++);else if(y==="le")for(B=0,O=0;B<l.length;B+=3)Z=l[B]|l[B+1]<<8|l[B+2]<<16,this.words[O]|=Z<<T&67108863,this.words[O+1]=Z>>>26-T&67108863,T+=24,T>=26&&(T-=26,O++);return this.strip()};function o(M,l,m){for(var y=0,B=Math.min(M.length,m),O=l;O<B;O++){var Z=M.charCodeAt(O)-48;y<<=4,Z>=49&&Z<=54?y|=Z-49+10:Z>=17&&Z<=22?y|=Z-17+10:y|=Z&15}return y}a.prototype._parseHex=function(l,m){this.length=Math.ceil((l.length-m)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var B,O,Z=0;for(y=l.length-6,B=0;y>=m;y-=6)O=o(l,y,y+6),this.words[B]|=O<<Z&67108863,this.words[B+1]|=O>>>26-Z&4194303,Z+=24,Z>=26&&(Z-=26,B++);y+6!==m&&(O=o(l,m,y+6),this.words[B]|=O<<Z&67108863,this.words[B+1]|=O>>>26-Z&4194303),this.strip()};function f(M,l,m,y){for(var B=0,O=Math.min(M.length,m),Z=l;Z<O;Z++){var T=M.charCodeAt(Z)-48;B*=y,T>=49?B+=T-49+10:T>=17?B+=T-17+10:B+=T}return B}a.prototype._parseBase=function(l,m,y){this.words=[0],this.length=1;for(var B=0,O=1;O<=67108863;O*=m)B++;B--,O=O/m|0;for(var Z=l.length-y,T=Z%B,C=Math.min(Z,Z-T)+y,b=0,N=y;N<C;N+=B)b=f(l,N,N+B,m),this.imuln(O),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(T!==0){var pe=1;for(b=f(l,N,l.length,m),N=0;N<T;N++)pe*=m;this.imuln(pe),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}},a.prototype.copy=function(l){l.words=new Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red},a.prototype.clone=function(){var l=new a(null);return this.copy(l),l},a.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(l,m){l=l||10,m=m|0||1;var y;if(l===16||l==="hex"){y="";for(var B=0,O=0,Z=0;Z<this.length;Z++){var T=this.words[Z],C=((T<<B|O)&16777215).toString(16);O=T>>>24-B&16777215,O!==0||Z!==this.length-1?y=c[6-C.length]+C+y:y=C+y,B+=2,B>=26&&(B-=26,Z--)}for(O!==0&&(y=O.toString(16)+y);y.length%m!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(l===(l|0)&&l>=2&&l<=36){var b=d[l],N=u[l];y="";var pe=this.clone();for(pe.negative=0;!pe.isZero();){var ue=pe.modn(N).toString(l);pe=pe.idivn(N),pe.isZero()?y=ue+y:y=c[b-ue.length]+ue+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(l,m){return n(typeof s!="undefined"),this.toArrayLike(s,l,m)},a.prototype.toArray=function(l,m){return this.toArrayLike(Array,l,m)},a.prototype.toArrayLike=function(l,m,y){var B=this.byteLength(),O=y||Math.max(1,B);n(B<=O,"byte array longer than desired length"),n(O>0,"Requested array length <= 0"),this.strip();var Z=m==="le",T=new l(O),C,b,N=this.clone();if(Z){for(b=0;!N.isZero();b++)C=N.andln(255),N.iushrn(8),T[b]=C;for(;b<O;b++)T[b]=0}else{for(b=0;b<O-B;b++)T[b]=0;for(b=0;!N.isZero();b++)C=N.andln(255),N.iushrn(8),T[O-b-1]=C}return T},Math.clz32?a.prototype._countBits=function(l){return 32-Math.clz32(l)}:a.prototype._countBits=function(l){var m=l,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},a.prototype._zeroBits=function(l){if(l===0)return 26;var m=l,y=0;return(m&8191)==0&&(y+=13,m>>>=13),(m&127)==0&&(y+=7,m>>>=7),(m&15)==0&&(y+=4,m>>>=4),(m&3)==0&&(y+=2,m>>>=2),(m&1)==0&&y++,y},a.prototype.bitLength=function(){var l=this.words[this.length-1],m=this._countBits(l);return(this.length-1)*26+m};function p(M){for(var l=new Array(M.bitLength()),m=0;m<l.length;m++){var y=m/26|0,B=m%26;l[m]=(M.words[y]&1<<B)>>>B}return l}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(l+=y,y!==26)break}return l},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},a.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this.strip()},a.prototype.ior=function(l){return n((this.negative|l.negative)==0),this.iuor(l)},a.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},a.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},a.prototype.iuand=function(l){var m;this.length>l.length?m=l:m=this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&l.words[y];return this.length=m.length,this.strip()},a.prototype.iand=function(l){return n((this.negative|l.negative)==0),this.iuand(l)},a.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},a.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},a.prototype.iuxor=function(l){var m,y;this.length>l.length?(m=this,y=l):(m=l,y=this);for(var B=0;B<y.length;B++)this.words[B]=m.words[B]^y.words[B];if(this!==m)for(;B<m.length;B++)this.words[B]=m.words[B];return this.length=m.length,this.strip()},a.prototype.ixor=function(l){return n((this.negative|l.negative)==0),this.iuxor(l)},a.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},a.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},a.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var m=Math.ceil(l/26)|0,y=l%26;this._expand(m),y>0&&m--;for(var B=0;B<m;B++)this.words[B]=~this.words[B]&67108863;return y>0&&(this.words[B]=~this.words[B]&67108863>>26-y),this.strip()},a.prototype.notn=function(l){return this.clone().inotn(l)},a.prototype.setn=function(l,m){n(typeof l=="number"&&l>=0);var y=l/26|0,B=l%26;return this._expand(y+1),m?this.words[y]=this.words[y]|1<<B:this.words[y]=this.words[y]&~(1<<B),this.strip()},a.prototype.iadd=function(l){var m;if(this.negative!==0&&l.negative===0)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();var y,B;this.length>l.length?(y=this,B=l):(y=l,B=this);for(var O=0,Z=0;Z<B.length;Z++)m=(y.words[Z]|0)+(B.words[Z]|0)+O,this.words[Z]=m&67108863,O=m>>>26;for(;O!==0&&Z<y.length;Z++)m=(y.words[Z]|0)+O,this.words[Z]=m&67108863,O=m>>>26;if(this.length=y.length,O!==0)this.words[this.length]=O,this.length++;else if(y!==this)for(;Z<y.length;Z++)this.words[Z]=y.words[Z];return this},a.prototype.add=function(l){var m;return l.negative!==0&&this.negative===0?(l.negative=0,m=this.sub(l),l.negative^=1,m):l.negative===0&&this.negative!==0?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},a.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var y=this.cmp(l);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,O;y>0?(B=this,O=l):(B=l,O=this);for(var Z=0,T=0;T<O.length;T++)m=(B.words[T]|0)-(O.words[T]|0)+Z,Z=m>>26,this.words[T]=m&67108863;for(;Z!==0&&T<B.length;T++)m=(B.words[T]|0)+Z,Z=m>>26,this.words[T]=m&67108863;if(Z===0&&T<B.length&&B!==this)for(;T<B.length;T++)this.words[T]=B.words[T];return this.length=Math.max(this.length,T),B!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(l){return this.clone().isub(l)};function x(M,l,m){m.negative=l.negative^M.negative;var y=M.length+l.length|0;m.length=y,y=y-1|0;var B=M.words[0]|0,O=l.words[0]|0,Z=B*O,T=Z&67108863,C=Z/67108864|0;m.words[0]=T;for(var b=1;b<y;b++){for(var N=C>>>26,pe=C&67108863,ue=Math.min(b,l.length-1),me=Math.max(0,b-M.length+1);me<=ue;me++){var be=b-me|0;B=M.words[be]|0,O=l.words[me]|0,Z=B*O+pe,N+=Z/67108864|0,pe=Z&67108863}m.words[b]=pe|0,C=N|0}return C!==0?m.words[b]=C|0:m.length--,m.strip()}var S=function(l,m,y){var B=l.words,O=m.words,Z=y.words,T=0,C,b,N,pe=B[0]|0,ue=pe&8191,me=pe>>>13,be=B[1]|0,ve=be&8191,L=be>>>13,oe=B[2]|0,Q=oe&8191,J=oe>>>13,le=B[3]|0,ye=le&8191,we=le>>>13,k=B[4]|0,v=k&8191,R=k>>>13,U=B[5]|0,w=U&8191,_=U>>>13,A=B[6]|0,h=A&8191,q=A>>>13,I=B[7]|0,D=I&8191,z=I>>>13,$=B[8]|0,j=$&8191,W=$>>>13,G=B[9]|0,Y=G&8191,Oe=G>>>13,it=O[0]|0,Le=it&8191,ne=it>>>13,ae=O[1]|0,ce=ae&8191,fe=ae>>>13,Be=O[2]|0,Me=Be&8191,Te=Be>>>13,Ve=O[3]|0,De=Ve&8191,ze=Ve>>>13,st=O[4]|0,je=st&8191,$e=st>>>13,mt=O[5]|0,et=mt&8191,Ke=mt>>>13,Yt=O[6]|0,rt=Yt&8191,at=Yt>>>13,ur=O[7]|0,He=ur&8191,Fe=ur>>>13,xt=O[8]|0,Ye=xt&8191,Ge=xt>>>13,ot=O[9]|0,qe=ot&8191,We=ot>>>13;y.negative=l.negative^m.negative,y.length=19,C=Math.imul(ue,Le),b=Math.imul(ue,ne),b=b+Math.imul(me,Le)|0,N=Math.imul(me,ne);var ct=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(ct>>>26)|0,ct&=67108863,C=Math.imul(ve,Le),b=Math.imul(ve,ne),b=b+Math.imul(L,Le)|0,N=Math.imul(L,ne),C=C+Math.imul(ue,ce)|0,b=b+Math.imul(ue,fe)|0,b=b+Math.imul(me,ce)|0,N=N+Math.imul(me,fe)|0;var dt=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(dt>>>26)|0,dt&=67108863,C=Math.imul(Q,Le),b=Math.imul(Q,ne),b=b+Math.imul(J,Le)|0,N=Math.imul(J,ne),C=C+Math.imul(ve,ce)|0,b=b+Math.imul(ve,fe)|0,b=b+Math.imul(L,ce)|0,N=N+Math.imul(L,fe)|0,C=C+Math.imul(ue,Me)|0,b=b+Math.imul(ue,Te)|0,b=b+Math.imul(me,Me)|0,N=N+Math.imul(me,Te)|0;var he=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(he>>>26)|0,he&=67108863,C=Math.imul(ye,Le),b=Math.imul(ye,ne),b=b+Math.imul(we,Le)|0,N=Math.imul(we,ne),C=C+Math.imul(Q,ce)|0,b=b+Math.imul(Q,fe)|0,b=b+Math.imul(J,ce)|0,N=N+Math.imul(J,fe)|0,C=C+Math.imul(ve,Me)|0,b=b+Math.imul(ve,Te)|0,b=b+Math.imul(L,Me)|0,N=N+Math.imul(L,Te)|0,C=C+Math.imul(ue,De)|0,b=b+Math.imul(ue,ze)|0,b=b+Math.imul(me,De)|0,N=N+Math.imul(me,ze)|0;var de=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(de>>>26)|0,de&=67108863,C=Math.imul(v,Le),b=Math.imul(v,ne),b=b+Math.imul(R,Le)|0,N=Math.imul(R,ne),C=C+Math.imul(ye,ce)|0,b=b+Math.imul(ye,fe)|0,b=b+Math.imul(we,ce)|0,N=N+Math.imul(we,fe)|0,C=C+Math.imul(Q,Me)|0,b=b+Math.imul(Q,Te)|0,b=b+Math.imul(J,Me)|0,N=N+Math.imul(J,Te)|0,C=C+Math.imul(ve,De)|0,b=b+Math.imul(ve,ze)|0,b=b+Math.imul(L,De)|0,N=N+Math.imul(L,ze)|0,C=C+Math.imul(ue,je)|0,b=b+Math.imul(ue,$e)|0,b=b+Math.imul(me,je)|0,N=N+Math.imul(me,$e)|0;var ge=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(ge>>>26)|0,ge&=67108863,C=Math.imul(w,Le),b=Math.imul(w,ne),b=b+Math.imul(_,Le)|0,N=Math.imul(_,ne),C=C+Math.imul(v,ce)|0,b=b+Math.imul(v,fe)|0,b=b+Math.imul(R,ce)|0,N=N+Math.imul(R,fe)|0,C=C+Math.imul(ye,Me)|0,b=b+Math.imul(ye,Te)|0,b=b+Math.imul(we,Me)|0,N=N+Math.imul(we,Te)|0,C=C+Math.imul(Q,De)|0,b=b+Math.imul(Q,ze)|0,b=b+Math.imul(J,De)|0,N=N+Math.imul(J,ze)|0,C=C+Math.imul(ve,je)|0,b=b+Math.imul(ve,$e)|0,b=b+Math.imul(L,je)|0,N=N+Math.imul(L,$e)|0,C=C+Math.imul(ue,et)|0,b=b+Math.imul(ue,Ke)|0,b=b+Math.imul(me,et)|0,N=N+Math.imul(me,Ke)|0;var ke=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(ke>>>26)|0,ke&=67108863,C=Math.imul(h,Le),b=Math.imul(h,ne),b=b+Math.imul(q,Le)|0,N=Math.imul(q,ne),C=C+Math.imul(w,ce)|0,b=b+Math.imul(w,fe)|0,b=b+Math.imul(_,ce)|0,N=N+Math.imul(_,fe)|0,C=C+Math.imul(v,Me)|0,b=b+Math.imul(v,Te)|0,b=b+Math.imul(R,Me)|0,N=N+Math.imul(R,Te)|0,C=C+Math.imul(ye,De)|0,b=b+Math.imul(ye,ze)|0,b=b+Math.imul(we,De)|0,N=N+Math.imul(we,ze)|0,C=C+Math.imul(Q,je)|0,b=b+Math.imul(Q,$e)|0,b=b+Math.imul(J,je)|0,N=N+Math.imul(J,$e)|0,C=C+Math.imul(ve,et)|0,b=b+Math.imul(ve,Ke)|0,b=b+Math.imul(L,et)|0,N=N+Math.imul(L,Ke)|0,C=C+Math.imul(ue,rt)|0,b=b+Math.imul(ue,at)|0,b=b+Math.imul(me,rt)|0,N=N+Math.imul(me,at)|0;var Se=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Se>>>26)|0,Se&=67108863,C=Math.imul(D,Le),b=Math.imul(D,ne),b=b+Math.imul(z,Le)|0,N=Math.imul(z,ne),C=C+Math.imul(h,ce)|0,b=b+Math.imul(h,fe)|0,b=b+Math.imul(q,ce)|0,N=N+Math.imul(q,fe)|0,C=C+Math.imul(w,Me)|0,b=b+Math.imul(w,Te)|0,b=b+Math.imul(_,Me)|0,N=N+Math.imul(_,Te)|0,C=C+Math.imul(v,De)|0,b=b+Math.imul(v,ze)|0,b=b+Math.imul(R,De)|0,N=N+Math.imul(R,ze)|0,C=C+Math.imul(ye,je)|0,b=b+Math.imul(ye,$e)|0,b=b+Math.imul(we,je)|0,N=N+Math.imul(we,$e)|0,C=C+Math.imul(Q,et)|0,b=b+Math.imul(Q,Ke)|0,b=b+Math.imul(J,et)|0,N=N+Math.imul(J,Ke)|0,C=C+Math.imul(ve,rt)|0,b=b+Math.imul(ve,at)|0,b=b+Math.imul(L,rt)|0,N=N+Math.imul(L,at)|0,C=C+Math.imul(ue,He)|0,b=b+Math.imul(ue,Fe)|0,b=b+Math.imul(me,He)|0,N=N+Math.imul(me,Fe)|0;var Ue=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,C=Math.imul(j,Le),b=Math.imul(j,ne),b=b+Math.imul(W,Le)|0,N=Math.imul(W,ne),C=C+Math.imul(D,ce)|0,b=b+Math.imul(D,fe)|0,b=b+Math.imul(z,ce)|0,N=N+Math.imul(z,fe)|0,C=C+Math.imul(h,Me)|0,b=b+Math.imul(h,Te)|0,b=b+Math.imul(q,Me)|0,N=N+Math.imul(q,Te)|0,C=C+Math.imul(w,De)|0,b=b+Math.imul(w,ze)|0,b=b+Math.imul(_,De)|0,N=N+Math.imul(_,ze)|0,C=C+Math.imul(v,je)|0,b=b+Math.imul(v,$e)|0,b=b+Math.imul(R,je)|0,N=N+Math.imul(R,$e)|0,C=C+Math.imul(ye,et)|0,b=b+Math.imul(ye,Ke)|0,b=b+Math.imul(we,et)|0,N=N+Math.imul(we,Ke)|0,C=C+Math.imul(Q,rt)|0,b=b+Math.imul(Q,at)|0,b=b+Math.imul(J,rt)|0,N=N+Math.imul(J,at)|0,C=C+Math.imul(ve,He)|0,b=b+Math.imul(ve,Fe)|0,b=b+Math.imul(L,He)|0,N=N+Math.imul(L,Fe)|0,C=C+Math.imul(ue,Ye)|0,b=b+Math.imul(ue,Ge)|0,b=b+Math.imul(me,Ye)|0,N=N+Math.imul(me,Ge)|0;var zt=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(zt>>>26)|0,zt&=67108863,C=Math.imul(Y,Le),b=Math.imul(Y,ne),b=b+Math.imul(Oe,Le)|0,N=Math.imul(Oe,ne),C=C+Math.imul(j,ce)|0,b=b+Math.imul(j,fe)|0,b=b+Math.imul(W,ce)|0,N=N+Math.imul(W,fe)|0,C=C+Math.imul(D,Me)|0,b=b+Math.imul(D,Te)|0,b=b+Math.imul(z,Me)|0,N=N+Math.imul(z,Te)|0,C=C+Math.imul(h,De)|0,b=b+Math.imul(h,ze)|0,b=b+Math.imul(q,De)|0,N=N+Math.imul(q,ze)|0,C=C+Math.imul(w,je)|0,b=b+Math.imul(w,$e)|0,b=b+Math.imul(_,je)|0,N=N+Math.imul(_,$e)|0,C=C+Math.imul(v,et)|0,b=b+Math.imul(v,Ke)|0,b=b+Math.imul(R,et)|0,N=N+Math.imul(R,Ke)|0,C=C+Math.imul(ye,rt)|0,b=b+Math.imul(ye,at)|0,b=b+Math.imul(we,rt)|0,N=N+Math.imul(we,at)|0,C=C+Math.imul(Q,He)|0,b=b+Math.imul(Q,Fe)|0,b=b+Math.imul(J,He)|0,N=N+Math.imul(J,Fe)|0,C=C+Math.imul(ve,Ye)|0,b=b+Math.imul(ve,Ge)|0,b=b+Math.imul(L,Ye)|0,N=N+Math.imul(L,Ge)|0,C=C+Math.imul(ue,qe)|0,b=b+Math.imul(ue,We)|0,b=b+Math.imul(me,qe)|0,N=N+Math.imul(me,We)|0;var Rr=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,C=Math.imul(Y,ce),b=Math.imul(Y,fe),b=b+Math.imul(Oe,ce)|0,N=Math.imul(Oe,fe),C=C+Math.imul(j,Me)|0,b=b+Math.imul(j,Te)|0,b=b+Math.imul(W,Me)|0,N=N+Math.imul(W,Te)|0,C=C+Math.imul(D,De)|0,b=b+Math.imul(D,ze)|0,b=b+Math.imul(z,De)|0,N=N+Math.imul(z,ze)|0,C=C+Math.imul(h,je)|0,b=b+Math.imul(h,$e)|0,b=b+Math.imul(q,je)|0,N=N+Math.imul(q,$e)|0,C=C+Math.imul(w,et)|0,b=b+Math.imul(w,Ke)|0,b=b+Math.imul(_,et)|0,N=N+Math.imul(_,Ke)|0,C=C+Math.imul(v,rt)|0,b=b+Math.imul(v,at)|0,b=b+Math.imul(R,rt)|0,N=N+Math.imul(R,at)|0,C=C+Math.imul(ye,He)|0,b=b+Math.imul(ye,Fe)|0,b=b+Math.imul(we,He)|0,N=N+Math.imul(we,Fe)|0,C=C+Math.imul(Q,Ye)|0,b=b+Math.imul(Q,Ge)|0,b=b+Math.imul(J,Ye)|0,N=N+Math.imul(J,Ge)|0,C=C+Math.imul(ve,qe)|0,b=b+Math.imul(ve,We)|0,b=b+Math.imul(L,qe)|0,N=N+Math.imul(L,We)|0;var Vn=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,C=Math.imul(Y,Me),b=Math.imul(Y,Te),b=b+Math.imul(Oe,Me)|0,N=Math.imul(Oe,Te),C=C+Math.imul(j,De)|0,b=b+Math.imul(j,ze)|0,b=b+Math.imul(W,De)|0,N=N+Math.imul(W,ze)|0,C=C+Math.imul(D,je)|0,b=b+Math.imul(D,$e)|0,b=b+Math.imul(z,je)|0,N=N+Math.imul(z,$e)|0,C=C+Math.imul(h,et)|0,b=b+Math.imul(h,Ke)|0,b=b+Math.imul(q,et)|0,N=N+Math.imul(q,Ke)|0,C=C+Math.imul(w,rt)|0,b=b+Math.imul(w,at)|0,b=b+Math.imul(_,rt)|0,N=N+Math.imul(_,at)|0,C=C+Math.imul(v,He)|0,b=b+Math.imul(v,Fe)|0,b=b+Math.imul(R,He)|0,N=N+Math.imul(R,Fe)|0,C=C+Math.imul(ye,Ye)|0,b=b+Math.imul(ye,Ge)|0,b=b+Math.imul(we,Ye)|0,N=N+Math.imul(we,Ge)|0,C=C+Math.imul(Q,qe)|0,b=b+Math.imul(Q,We)|0,b=b+Math.imul(J,qe)|0,N=N+Math.imul(J,We)|0;var Zn=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,C=Math.imul(Y,De),b=Math.imul(Y,ze),b=b+Math.imul(Oe,De)|0,N=Math.imul(Oe,ze),C=C+Math.imul(j,je)|0,b=b+Math.imul(j,$e)|0,b=b+Math.imul(W,je)|0,N=N+Math.imul(W,$e)|0,C=C+Math.imul(D,et)|0,b=b+Math.imul(D,Ke)|0,b=b+Math.imul(z,et)|0,N=N+Math.imul(z,Ke)|0,C=C+Math.imul(h,rt)|0,b=b+Math.imul(h,at)|0,b=b+Math.imul(q,rt)|0,N=N+Math.imul(q,at)|0,C=C+Math.imul(w,He)|0,b=b+Math.imul(w,Fe)|0,b=b+Math.imul(_,He)|0,N=N+Math.imul(_,Fe)|0,C=C+Math.imul(v,Ye)|0,b=b+Math.imul(v,Ge)|0,b=b+Math.imul(R,Ye)|0,N=N+Math.imul(R,Ge)|0,C=C+Math.imul(ye,qe)|0,b=b+Math.imul(ye,We)|0,b=b+Math.imul(we,qe)|0,N=N+Math.imul(we,We)|0;var Xn=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,C=Math.imul(Y,je),b=Math.imul(Y,$e),b=b+Math.imul(Oe,je)|0,N=Math.imul(Oe,$e),C=C+Math.imul(j,et)|0,b=b+Math.imul(j,Ke)|0,b=b+Math.imul(W,et)|0,N=N+Math.imul(W,Ke)|0,C=C+Math.imul(D,rt)|0,b=b+Math.imul(D,at)|0,b=b+Math.imul(z,rt)|0,N=N+Math.imul(z,at)|0,C=C+Math.imul(h,He)|0,b=b+Math.imul(h,Fe)|0,b=b+Math.imul(q,He)|0,N=N+Math.imul(q,Fe)|0,C=C+Math.imul(w,Ye)|0,b=b+Math.imul(w,Ge)|0,b=b+Math.imul(_,Ye)|0,N=N+Math.imul(_,Ge)|0,C=C+Math.imul(v,qe)|0,b=b+Math.imul(v,We)|0,b=b+Math.imul(R,qe)|0,N=N+Math.imul(R,We)|0;var Jn=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(Y,et),b=Math.imul(Y,Ke),b=b+Math.imul(Oe,et)|0,N=Math.imul(Oe,Ke),C=C+Math.imul(j,rt)|0,b=b+Math.imul(j,at)|0,b=b+Math.imul(W,rt)|0,N=N+Math.imul(W,at)|0,C=C+Math.imul(D,He)|0,b=b+Math.imul(D,Fe)|0,b=b+Math.imul(z,He)|0,N=N+Math.imul(z,Fe)|0,C=C+Math.imul(h,Ye)|0,b=b+Math.imul(h,Ge)|0,b=b+Math.imul(q,Ye)|0,N=N+Math.imul(q,Ge)|0,C=C+Math.imul(w,qe)|0,b=b+Math.imul(w,We)|0,b=b+Math.imul(_,qe)|0,N=N+Math.imul(_,We)|0;var Qn=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,C=Math.imul(Y,rt),b=Math.imul(Y,at),b=b+Math.imul(Oe,rt)|0,N=Math.imul(Oe,at),C=C+Math.imul(j,He)|0,b=b+Math.imul(j,Fe)|0,b=b+Math.imul(W,He)|0,N=N+Math.imul(W,Fe)|0,C=C+Math.imul(D,Ye)|0,b=b+Math.imul(D,Ge)|0,b=b+Math.imul(z,Ye)|0,N=N+Math.imul(z,Ge)|0,C=C+Math.imul(h,qe)|0,b=b+Math.imul(h,We)|0,b=b+Math.imul(q,qe)|0,N=N+Math.imul(q,We)|0;var Ui=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,C=Math.imul(Y,He),b=Math.imul(Y,Fe),b=b+Math.imul(Oe,He)|0,N=Math.imul(Oe,Fe),C=C+Math.imul(j,Ye)|0,b=b+Math.imul(j,Ge)|0,b=b+Math.imul(W,Ye)|0,N=N+Math.imul(W,Ge)|0,C=C+Math.imul(D,qe)|0,b=b+Math.imul(D,We)|0,b=b+Math.imul(z,qe)|0,N=N+Math.imul(z,We)|0;var zi=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(zi>>>26)|0,zi&=67108863,C=Math.imul(Y,Ye),b=Math.imul(Y,Ge),b=b+Math.imul(Oe,Ye)|0,N=Math.imul(Oe,Ge),C=C+Math.imul(j,qe)|0,b=b+Math.imul(j,We)|0,b=b+Math.imul(W,qe)|0,N=N+Math.imul(W,We)|0;var Fi=(T+C|0)+((b&8191)<<13)|0;T=(N+(b>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,C=Math.imul(Y,qe),b=Math.imul(Y,We),b=b+Math.imul(Oe,qe)|0,N=Math.imul(Oe,We);var Ni=(T+C|0)+((b&8191)<<13)|0;return T=(N+(b>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,Z[0]=ct,Z[1]=dt,Z[2]=he,Z[3]=de,Z[4]=ge,Z[5]=ke,Z[6]=Se,Z[7]=Ue,Z[8]=zt,Z[9]=Rr,Z[10]=Vn,Z[11]=Zn,Z[12]=Xn,Z[13]=Jn,Z[14]=Qn,Z[15]=Ui,Z[16]=zi,Z[17]=Fi,Z[18]=Ni,T!==0&&(Z[19]=T,y.length++),y};Math.imul||(S=x);function E(M,l,m){m.negative=l.negative^M.negative,m.length=M.length+l.length;for(var y=0,B=0,O=0;O<m.length-1;O++){var Z=B;B=0;for(var T=y&67108863,C=Math.min(O,l.length-1),b=Math.max(0,O-M.length+1);b<=C;b++){var N=O-b,pe=M.words[N]|0,ue=l.words[b]|0,me=pe*ue,be=me&67108863;Z=Z+(me/67108864|0)|0,be=be+T|0,T=be&67108863,Z=Z+(be>>>26)|0,B+=Z>>>26,Z&=67108863}m.words[O]=T,y=Z,Z=B}return y!==0?m.words[O]=y:m.length--,m.strip()}function H(M,l,m){var y=new K;return y.mulp(M,l,m)}a.prototype.mulTo=function(l,m){var y,B=this.length+l.length;return this.length===10&&l.length===10?y=S(this,l,m):B<63?y=x(this,l,m):B<1024?y=E(this,l,m):y=H(this,l,m),y};function K(M,l){this.x=M,this.y=l}K.prototype.makeRBT=function(l){for(var m=new Array(l),y=a.prototype._countBits(l)-1,B=0;B<l;B++)m[B]=this.revBin(B,y,l);return m},K.prototype.revBin=function(l,m,y){if(l===0||l===y-1)return l;for(var B=0,O=0;O<m;O++)B|=(l&1)<<m-O-1,l>>=1;return B},K.prototype.permute=function(l,m,y,B,O,Z){for(var T=0;T<Z;T++)B[T]=m[l[T]],O[T]=y[l[T]]},K.prototype.transform=function(l,m,y,B,O,Z){this.permute(Z,l,m,y,B,O);for(var T=1;T<O;T<<=1)for(var C=T<<1,b=Math.cos(2*Math.PI/C),N=Math.sin(2*Math.PI/C),pe=0;pe<O;pe+=C)for(var ue=b,me=N,be=0;be<T;be++){var ve=y[pe+be],L=B[pe+be],oe=y[pe+be+T],Q=B[pe+be+T],J=ue*oe-me*Q;Q=ue*Q+me*oe,oe=J,y[pe+be]=ve+oe,B[pe+be]=L+Q,y[pe+be+T]=ve-oe,B[pe+be+T]=L-Q,be!==C&&(J=b*ue-N*me,me=b*me+N*ue,ue=J)}},K.prototype.guessLen13b=function(l,m){var y=Math.max(m,l)|1,B=y&1,O=0;for(y=y/2|0;y;y=y>>>1)O++;return 1<<O+1+B},K.prototype.conjugate=function(l,m,y){if(!(y<=1))for(var B=0;B<y/2;B++){var O=l[B];l[B]=l[y-B-1],l[y-B-1]=O,O=m[B],m[B]=-m[y-B-1],m[y-B-1]=-O}},K.prototype.normalize13b=function(l,m){for(var y=0,B=0;B<m/2;B++){var O=Math.round(l[2*B+1]/m)*8192+Math.round(l[2*B]/m)+y;l[B]=O&67108863,O<67108864?y=0:y=O/67108864|0}return l},K.prototype.convert13b=function(l,m,y,B){for(var O=0,Z=0;Z<m;Z++)O=O+(l[Z]|0),y[2*Z]=O&8191,O=O>>>13,y[2*Z+1]=O&8191,O=O>>>13;for(Z=2*m;Z<B;++Z)y[Z]=0;n(O===0),n((O&~8191)==0)},K.prototype.stub=function(l){for(var m=new Array(l),y=0;y<l;y++)m[y]=0;return m},K.prototype.mulp=function(l,m,y){var B=2*this.guessLen13b(l.length,m.length),O=this.makeRBT(B),Z=this.stub(B),T=new Array(B),C=new Array(B),b=new Array(B),N=new Array(B),pe=new Array(B),ue=new Array(B),me=y.words;me.length=B,this.convert13b(l.words,l.length,T,B),this.convert13b(m.words,m.length,N,B),this.transform(T,Z,C,b,B,O),this.transform(N,Z,pe,ue,B,O);for(var be=0;be<B;be++){var ve=C[be]*pe[be]-b[be]*ue[be];b[be]=C[be]*ue[be]+b[be]*pe[be],C[be]=ve}return this.conjugate(C,b,B),this.transform(C,b,me,Z,B,O),this.conjugate(me,Z,B),this.normalize13b(me,B),y.negative=l.negative^m.negative,y.length=l.length+m.length,y.strip()},a.prototype.mul=function(l){var m=new a(null);return m.words=new Array(this.length+l.length),this.mulTo(l,m)},a.prototype.mulf=function(l){var m=new a(null);return m.words=new Array(this.length+l.length),H(this,l,m)},a.prototype.imul=function(l){return this.clone().mulTo(l,this)},a.prototype.imuln=function(l){n(typeof l=="number"),n(l<67108864);for(var m=0,y=0;y<this.length;y++){var B=(this.words[y]|0)*l,O=(B&67108863)+(m&67108863);m>>=26,m+=B/67108864|0,m+=O>>>26,this.words[y]=O&67108863}return m!==0&&(this.words[y]=m,this.length++),this},a.prototype.muln=function(l){return this.clone().imuln(l)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(l){var m=p(l);if(m.length===0)return new a(1);for(var y=this,B=0;B<m.length&&m[B]===0;B++,y=y.sqr());if(++B<m.length)for(var O=y.sqr();B<m.length;B++,O=O.sqr())m[B]!==0&&(y=y.mul(O));return y},a.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var m=l%26,y=(l-m)/26,B=67108863>>>26-m<<26-m,O;if(m!==0){var Z=0;for(O=0;O<this.length;O++){var T=this.words[O]&B,C=(this.words[O]|0)-T<<m;this.words[O]=C|Z,Z=T>>>26-m}Z&&(this.words[O]=Z,this.length++)}if(y!==0){for(O=this.length-1;O>=0;O--)this.words[O+y]=this.words[O];for(O=0;O<y;O++)this.words[O]=0;this.length+=y}return this.strip()},a.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},a.prototype.iushrn=function(l,m,y){n(typeof l=="number"&&l>=0);var B;m?B=(m-m%26)/26:B=0;var O=l%26,Z=Math.min((l-O)/26,this.length),T=67108863^67108863>>>O<<O,C=y;if(B-=Z,B=Math.max(0,B),C){for(var b=0;b<Z;b++)C.words[b]=this.words[b];C.length=Z}if(Z!==0)if(this.length>Z)for(this.length-=Z,b=0;b<this.length;b++)this.words[b]=this.words[b+Z];else this.words[0]=0,this.length=1;var N=0;for(b=this.length-1;b>=0&&(N!==0||b>=B);b--){var pe=this.words[b]|0;this.words[b]=N<<26-O|pe>>>O,N=pe&T}return C&&N!==0&&(C.words[C.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(l,m,y){return n(this.negative===0),this.iushrn(l,m,y)},a.prototype.shln=function(l){return this.clone().ishln(l)},a.prototype.ushln=function(l){return this.clone().iushln(l)},a.prototype.shrn=function(l){return this.clone().ishrn(l)},a.prototype.ushrn=function(l){return this.clone().iushrn(l)},a.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var m=l%26,y=(l-m)/26,B=1<<m;if(this.length<=y)return!1;var O=this.words[y];return!!(O&B)},a.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var m=l%26,y=(l-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(m!==0&&y++,this.length=Math.min(y,this.length),m!==0){var B=67108863^67108863>>>m<<m;this.words[this.length-1]&=B}return this.strip()},a.prototype.maskn=function(l){return this.clone().imaskn(l)},a.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},a.prototype._iaddn=function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},a.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},a.prototype.addn=function(l){return this.clone().iaddn(l)},a.prototype.subn=function(l){return this.clone().isubn(l)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(l,m,y){var B=l.length+y,O;this._expand(B);var Z,T=0;for(O=0;O<l.length;O++){Z=(this.words[O+y]|0)+T;var C=(l.words[O]|0)*m;Z-=C&67108863,T=(Z>>26)-(C/67108864|0),this.words[O+y]=Z&67108863}for(;O<this.length-y;O++)Z=(this.words[O+y]|0)+T,T=Z>>26,this.words[O+y]=Z&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,O=0;O<this.length;O++)Z=-(this.words[O]|0)+T,T=Z>>26,this.words[O]=Z&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(l,m){var y=this.length-l.length,B=this.clone(),O=l,Z=O.words[O.length-1]|0,T=this._countBits(Z);y=26-T,y!==0&&(O=O.ushln(y),B.iushln(y),Z=O.words[O.length-1]|0);var C=B.length-O.length,b;if(m!=="mod"){b=new a(null),b.length=C+1,b.words=new Array(b.length);for(var N=0;N<b.length;N++)b.words[N]=0}var pe=B.clone()._ishlnsubmul(O,1,C);pe.negative===0&&(B=pe,b&&(b.words[C]=1));for(var ue=C-1;ue>=0;ue--){var me=(B.words[O.length+ue]|0)*67108864+(B.words[O.length+ue-1]|0);for(me=Math.min(me/Z|0,67108863),B._ishlnsubmul(O,me,ue);B.negative!==0;)me--,B.negative=0,B._ishlnsubmul(O,1,ue),B.isZero()||(B.negative^=1);b&&(b.words[ue]=me)}return b&&b.strip(),B.strip(),m!=="div"&&y!==0&&B.iushrn(y),{div:b||null,mod:B}},a.prototype.divmod=function(l,m,y){if(n(!l.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var B,O,Z;return this.negative!==0&&l.negative===0?(Z=this.neg().divmod(l,m),m!=="mod"&&(B=Z.div.neg()),m!=="div"&&(O=Z.mod.neg(),y&&O.negative!==0&&O.iadd(l)),{div:B,mod:O}):this.negative===0&&l.negative!==0?(Z=this.divmod(l.neg(),m),m!=="mod"&&(B=Z.div.neg()),{div:B,mod:Z.mod}):(this.negative&l.negative)!=0?(Z=this.neg().divmod(l.neg(),m),m!=="div"&&(O=Z.mod.neg(),y&&O.negative!==0&&O.isub(l)),{div:Z.div,mod:O}):l.length>this.length||this.cmp(l)<0?{div:new a(0),mod:this}:l.length===1?m==="div"?{div:this.divn(l.words[0]),mod:null}:m==="mod"?{div:null,mod:new a(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new a(this.modn(l.words[0]))}:this._wordDiv(l,m)},a.prototype.div=function(l){return this.divmod(l,"div",!1).div},a.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},a.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},a.prototype.divRound=function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var y=m.div.negative!==0?m.mod.isub(l):m.mod,B=l.ushrn(1),O=l.andln(1),Z=y.cmp(B);return Z<0||O===1&&Z===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},a.prototype.modn=function(l){n(l<=67108863);for(var m=(1<<26)%l,y=0,B=this.length-1;B>=0;B--)y=(m*y+(this.words[B]|0))%l;return y},a.prototype.idivn=function(l){n(l<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var B=(this.words[y]|0)+m*67108864;this.words[y]=B/l|0,m=B%l}return this.strip()},a.prototype.divn=function(l){return this.clone().idivn(l)},a.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var m=this,y=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var B=new a(1),O=new a(0),Z=new a(0),T=new a(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var b=y.clone(),N=m.clone();!m.isZero();){for(var pe=0,ue=1;(m.words[0]&ue)==0&&pe<26;++pe,ue<<=1);if(pe>0)for(m.iushrn(pe);pe-- >0;)(B.isOdd()||O.isOdd())&&(B.iadd(b),O.isub(N)),B.iushrn(1),O.iushrn(1);for(var me=0,be=1;(y.words[0]&be)==0&&me<26;++me,be<<=1);if(me>0)for(y.iushrn(me);me-- >0;)(Z.isOdd()||T.isOdd())&&(Z.iadd(b),T.isub(N)),Z.iushrn(1),T.iushrn(1);m.cmp(y)>=0?(m.isub(y),B.isub(Z),O.isub(T)):(y.isub(m),Z.isub(B),T.isub(O))}return{a:Z,b:T,gcd:y.iushln(C)}},a.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var m=this,y=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var B=new a(1),O=new a(0),Z=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var T=0,C=1;(m.words[0]&C)==0&&T<26;++T,C<<=1);if(T>0)for(m.iushrn(T);T-- >0;)B.isOdd()&&B.iadd(Z),B.iushrn(1);for(var b=0,N=1;(y.words[0]&N)==0&&b<26;++b,N<<=1);if(b>0)for(y.iushrn(b);b-- >0;)O.isOdd()&&O.iadd(Z),O.iushrn(1);m.cmp(y)>=0?(m.isub(y),B.isub(O)):(y.isub(m),O.isub(B))}var pe;return m.cmpn(1)===0?pe=B:pe=O,pe.cmpn(0)<0&&pe.iadd(l),pe},a.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),y=l.clone();m.negative=0,y.negative=0;for(var B=0;m.isEven()&&y.isEven();B++)m.iushrn(1),y.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var O=m.cmp(y);if(O<0){var Z=m;m=y,y=Z}else if(O===0||y.cmpn(1)===0)break;m.isub(y)}while(!0);return y.iushln(B)},a.prototype.invm=function(l){return this.egcd(l).a.umod(l)},a.prototype.isEven=function(){return(this.words[0]&1)==0},a.prototype.isOdd=function(){return(this.words[0]&1)==1},a.prototype.andln=function(l){return this.words[0]&l},a.prototype.bincn=function(l){n(typeof l=="number");var m=l%26,y=(l-m)/26,B=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=B,this;for(var O=B,Z=y;O!==0&&Z<this.length;Z++){var T=this.words[Z]|0;T+=O,O=T>>>26,T&=67108863,this.words[Z]=T}return O!==0&&(this.words[Z]=O,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(l){var m=l<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var y;if(this.length>1)y=1;else{m&&(l=-l),n(l<=67108863,"Number is too big");var B=this.words[0]|0;y=B===l?0:B<l?-1:1}return this.negative!==0?-y|0:y},a.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var m=this.ucmp(l);return this.negative!==0?-m|0:m},a.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var B=this.words[y]|0,O=l.words[y]|0;if(B!==O){B<O?m=-1:B>O&&(m=1);break}}return m},a.prototype.gtn=function(l){return this.cmpn(l)===1},a.prototype.gt=function(l){return this.cmp(l)===1},a.prototype.gten=function(l){return this.cmpn(l)>=0},a.prototype.gte=function(l){return this.cmp(l)>=0},a.prototype.ltn=function(l){return this.cmpn(l)===-1},a.prototype.lt=function(l){return this.cmp(l)===-1},a.prototype.lten=function(l){return this.cmpn(l)<=0},a.prototype.lte=function(l){return this.cmp(l)<=0},a.prototype.eqn=function(l){return this.cmpn(l)===0},a.prototype.eq=function(l){return this.cmp(l)===0},a.red=function(l){return new X(l)},a.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(l){return this.red=l,this},a.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},a.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},a.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},a.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},a.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},a.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},a.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},a.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ee={k256:null,p224:null,p192:null,p25519:null};function ie(M,l){this.name=M,this.p=new a(l,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ie.prototype._tmp=function(){var l=new a(null);return l.words=new Array(Math.ceil(this.n/13)),l},ie.prototype.ireduce=function(l){var m=l,y;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),y=m.bitLength();while(y>this.n);var B=y<this.n?-1:m.ucmp(this.p);return B===0?(m.words[0]=0,m.length=1):B>0?m.isub(this.p):m.strip(),m},ie.prototype.split=function(l,m){l.iushrn(this.n,0,m)},ie.prototype.imulK=function(l){return l.imul(this.k)};function F(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,ie),F.prototype.split=function(l,m){for(var y=4194303,B=Math.min(l.length,9),O=0;O<B;O++)m.words[O]=l.words[O];if(m.length=B,l.length<=9){l.words[0]=0,l.length=1;return}var Z=l.words[9];for(m.words[m.length++]=Z&y,O=10;O<l.length;O++){var T=l.words[O]|0;l.words[O-10]=(T&y)<<4|Z>>>22,Z=T}Z>>>=22,l.words[O-10]=Z,Z===0&&l.length>10?l.length-=10:l.length-=9},F.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,y=0;y<l.length;y++){var B=l.words[y]|0;m+=B*977,l.words[y]=m&67108863,m=B*64+(m/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function V(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,ie);function re(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(re,ie);function te(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(te,ie),te.prototype.imulK=function(l){for(var m=0,y=0;y<l.length;y++){var B=(l.words[y]|0)*19+m,O=B&67108863;B>>>=26,l.words[y]=O,m=B}return m!==0&&(l.words[l.length++]=m),l},a._prime=function(l){if(ee[l])return ee[l];var m;if(l==="k256")m=new F;else if(l==="p224")m=new V;else if(l==="p192")m=new re;else if(l==="p25519")m=new te;else throw new Error("Unknown prime "+l);return ee[l]=m,m};function X(M){if(typeof M=="string"){var l=a._prime(M);this.m=l.p,this.prime=l}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}X.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},X.prototype._verify2=function(l,m){n((l.negative|m.negative)==0,"red works only with positives"),n(l.red&&l.red===m.red,"red works only with red numbers")},X.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},X.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},X.prototype.add=function(l,m){this._verify2(l,m);var y=l.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},X.prototype.iadd=function(l,m){this._verify2(l,m);var y=l.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},X.prototype.sub=function(l,m){this._verify2(l,m);var y=l.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},X.prototype.isub=function(l,m){this._verify2(l,m);var y=l.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},X.prototype.shl=function(l,m){return this._verify1(l),this.imod(l.ushln(m))},X.prototype.imul=function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},X.prototype.mul=function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},X.prototype.isqr=function(l){return this.imul(l,l.clone())},X.prototype.sqr=function(l){return this.mul(l,l)},X.prototype.sqrt=function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(n(m%2==1),m===3){var y=this.m.add(new a(1)).iushrn(2);return this.pow(l,y)}for(var B=this.m.subn(1),O=0;!B.isZero()&&B.andln(1)===0;)O++,B.iushrn(1);n(!B.isZero());var Z=new a(1).toRed(this),T=Z.redNeg(),C=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new a(2*b*b).toRed(this);this.pow(b,C).cmp(T)!==0;)b.redIAdd(T);for(var N=this.pow(b,B),pe=this.pow(l,B.addn(1).iushrn(1)),ue=this.pow(l,B),me=O;ue.cmp(Z)!==0;){for(var be=ue,ve=0;be.cmp(Z)!==0;ve++)be=be.redSqr();n(ve<me);var L=this.pow(N,new a(1).iushln(me-ve-1));pe=pe.redMul(L),N=L.redSqr(),ue=ue.redMul(N),me=ve}return pe},X.prototype.invm=function(l){var m=l._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},X.prototype.pow=function(l,m){if(m.isZero())return new a(1).toRed(this);if(m.cmpn(1)===0)return l.clone();var y=4,B=new Array(1<<y);B[0]=new a(1).toRed(this),B[1]=l;for(var O=2;O<B.length;O++)B[O]=this.mul(B[O-1],l);var Z=B[0],T=0,C=0,b=m.bitLength()%26;for(b===0&&(b=26),O=m.length-1;O>=0;O--){for(var N=m.words[O],pe=b-1;pe>=0;pe--){var ue=N>>pe&1;if(Z!==B[0]&&(Z=this.sqr(Z)),ue===0&&T===0){C=0;continue}T<<=1,T|=ue,C++,!(C!==y&&(O!==0||pe!==0))&&(Z=this.mul(Z,B[T]),C=0,T=0)}b=26}return Z},X.prototype.convertTo=function(l){var m=l.umod(this.m);return m===l?m.clone():m},X.prototype.convertFrom=function(l){var m=l.clone();return m.red=null,m},a.mont=function(l){return new se(l)};function se(M){X.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(se,X),se.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},se.prototype.convertFrom=function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},se.prototype.imul=function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var y=l.imul(m),B=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=y.isub(B).iushrn(this.shift),Z=O;return O.cmp(this.m)>=0?Z=O.isub(this.m):O.cmpn(0)<0&&(Z=O.iadd(this.m)),Z._forceRed(this)},se.prototype.mul=function(l,m){if(l.isZero()||m.isZero())return new a(0)._forceRed(this);var y=l.mul(m),B=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=y.isub(B).iushrn(this.shift),Z=O;return O.cmp(this.m)>=0?Z=O.isub(this.m):O.cmpn(0)<0&&(Z=O.iadd(this.m)),Z._forceRed(this)},se.prototype.invm=function(l){var m=this.imod(l._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,H5)}),z0=Object.freeze({__proto__:null,default:Pe,__moduleExports:Pe}),n0=class{constructor(e){if(e===void 0)throw new Error("Invalid BigInteger input");this.value=new Pe(e)}clone(){let e=new n0(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new Pe(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Pe(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,r){let n=r.isEven()?Pe.red(r.value):Pe.mont(r.value),i=this.clone();return i.value=i.value.toRed(n).redPow(e.value).fromRed(),i}modInv(e){if(!this.gcd(e).isOne())throw new Error("Inverse does not exist");return new n0(this.value.invm(e.value))}gcd(e){return new n0(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Pe(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){let e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",r){return this.value.toArrayLike(Uint8Array,e,r)}},g5=Object.freeze({__proto__:null,default:n0}),jr=nn(function(t,e){var r=e;function n(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var f=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)f[c]=s[c]|0;return f}if(o==="hex"){s=s.replace(/[^a-z0-9]+/gi,""),s.length%2!=0&&(s="0"+s);for(var c=0;c<s.length;c+=2)f.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var d=s.charCodeAt(c),u=d>>8,p=d&255;u?f.push(u,p):f.push(p)}return f}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function a(s){for(var o="",f=0;f<s.length;f++)o+=i(s[f].toString(16));return o}r.toHex=a,r.encode=function(o,f){return f==="hex"?a(o):o}}),bt=nn(function(t,e){var r=e;r.assert=bi,r.toArray=jr.toArray,r.zero2=jr.zero2,r.toHex=jr.toHex,r.encode=jr.encode;function n(f,c){for(var d=[],u=1<<c+1,p=f.clone();p.cmpn(1)>=0;){var x;if(p.isOdd()){var S=p.andln(u-1);S>(u>>1)-1?x=(u>>1)-S:x=S,p.isubn(x)}else x=0;d.push(x);for(var E=p.cmpn(0)!==0&&p.andln(u-1)===0?c+1:1,H=1;H<E;H++)d.push(0);p.iushrn(E)}return d}r.getNAF=n;function i(f,c){var d=[[],[]];f=f.clone(),c=c.clone();for(var u=0,p=0;f.cmpn(-u)>0||c.cmpn(-p)>0;){var x=f.andln(3)+u&3,S=c.andln(3)+p&3;x===3&&(x=-1),S===3&&(S=-1);var E;if((x&1)==0)E=0;else{var H=f.andln(7)+u&7;(H===3||H===5)&&S===2?E=-x:E=x}d[0].push(E);var K;if((S&1)==0)K=0;else{var H=c.andln(7)+p&7;(H===3||H===5)&&x===2?K=-S:K=S}d[1].push(K),2*u===E+1&&(u=1-u),2*p===K+1&&(p=1-p),f.iushrn(1),c.iushrn(1)}return d}r.getJSF=i;function a(f,c,d){var u="_"+c;f.prototype[c]=function(){return this[u]!==void 0?this[u]:this[u]=d.call(this)}}r.cachedProperty=a;function s(f){return typeof f=="string"?r.toArray(f,"hex"):f}r.parseBytes=s;function o(f){return new Pe(f,"hex","le")}r.intFromLE=o}),Gd,fc=function(e){return Gd||(Gd=new Ii(null)),Gd.generate(e)};function Ii(t){this.rand=t}var xg=Ii;Ii.prototype.generate=function(e){return this._rand(e)};Ii.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Ii.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Ii.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Ii.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Vd=void 0,typeof Vd.randomBytes!="function")throw new Error("Not supported");Ii.prototype._rand=function(e){return Vd.randomBytes(e)}}catch(t){}var Vd;fc.Rand=xg;var dc=bt.getNAF,yg=bt.getJSF,uc=bt.assert;function Di(t,e){this.type=t,this.p=new Pe(e.p,16),this.red=e.prime?Pe.red(e.prime):Pe.mont(this.p),this.zero=new Pe(0).toRed(this.red),this.one=new Pe(1).toRed(this.red),this.two=new Pe(2).toRed(this.red),this.n=e.n&&new Pe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var dr=Di;Di.prototype.point=function(){throw new Error("Not implemented")};Di.prototype.validate=function(){throw new Error("Not implemented")};Di.prototype._fixedNafMul=function(e,r){uc(e.precomputed);var n=e._getDoubles(),i=dc(r,1),a=(1<<n.step+1)-(n.step%2==0?2:1);a/=3;for(var s=[],o=0;o<i.length;o+=n.step){for(var f=0,r=o+n.step-1;r>=o;r--)f=(f<<1)+i[r];s.push(f)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),u=a;u>0;u--){for(var o=0;o<s.length;o++){var f=s[o];f===u?d=d.mixedAdd(n.points[o]):f===-u&&(d=d.mixedAdd(n.points[o].neg()))}c=c.add(d)}return c.toP()};Di.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=dc(r,n),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var r=0;f>=0&&s[f]===0;f--)r++;if(f>=0&&r++,o=o.dblp(r),f<0)break;var c=s[f];uc(c!==0),e.type==="affine"?c>0?o=o.mixedAdd(a[c-1>>1]):o=o.mixedAdd(a[-c-1>>1].neg()):c>0?o=o.add(a[c-1>>1]):o=o.add(a[-c-1>>1].neg())}return e.type==="affine"?o.toP():o};Di.prototype._wnafMulAdd=function(e,r,n,i,a){for(var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,d=0;d<i;d++){var u=r[d],p=u._getNAFPoints(e);s[d]=p.wnd,o[d]=p.points}for(var d=i-1;d>=1;d-=2){var x=d-1,S=d;if(s[x]!==1||s[S]!==1){f[x]=dc(n[x],s[x]),f[S]=dc(n[S],s[S]),c=Math.max(f[x].length,c),c=Math.max(f[S].length,c);continue}var E=[r[x],null,null,r[S]];r[x].y.cmp(r[S].y)===0?(E[1]=r[x].add(r[S]),E[2]=r[x].toJ().mixedAdd(r[S].neg())):r[x].y.cmp(r[S].y.redNeg())===0?(E[1]=r[x].toJ().mixedAdd(r[S]),E[2]=r[x].add(r[S].neg())):(E[1]=r[x].toJ().mixedAdd(r[S]),E[2]=r[x].toJ().mixedAdd(r[S].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],K=yg(n[x],n[S]);c=Math.max(K[0].length,c),f[x]=new Array(c),f[S]=new Array(c);for(var ee=0;ee<c;ee++){var ie=K[0][ee]|0,F=K[1][ee]|0;f[x][ee]=H[(ie+1)*3+(F+1)],f[S][ee]=0,o[x]=E}}for(var V=this.jpoint(null,null,null),re=this._wnafT4,d=c;d>=0;d--){for(var te=0;d>=0;){for(var X=!0,ee=0;ee<i;ee++)re[ee]=f[ee][d]|0,re[ee]!==0&&(X=!1);if(!X)break;te++,d--}if(d>=0&&te++,V=V.dblp(te),d<0)break;for(var ee=0;ee<i;ee++){var se=re[ee],u;se!==0&&(se>0?u=o[ee][se-1>>1]:se<0&&(u=o[ee][-se-1>>1].neg()),u.type==="affine"?V=V.mixedAdd(u):V=V.add(u))}}for(var d=0;d<i;d++)o[d]=null;return a?V:V.toP()};function Cr(t,e){this.curve=t,this.type=e,this.precomputed=null}Di.BasePoint=Cr;Cr.prototype.eq=function(){throw new Error("Not implemented")};Cr.prototype.validate=function(){return this.curve.validate(this)};Di.prototype.decodePoint=function(e,r){e=bt.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*n){e[0]===6?uc(e[e.length-1]%2==0):e[0]===7&&uc(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Cr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Cr.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Cr.prototype.encode=function(e,r){return bt.encode(this._encode(r),e)};Cr.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Cr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Cr.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Cr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Cr.prototype._getBeta=function(){return null};Cr.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var mg=bt.assert;function Pr(t){dr.call(this,"short",t),this.a=new Pe(t.a,16).toRed(this.red),this.b=new Pe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}pi(Pr,dr);var gg=Pr;Pr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Pe(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Pe(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],mg(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Pe(o.a,16),b:new Pe(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Pr.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Pe.mont(e),n=new Pe(2).toRed(r).redInvm(),i=n.redNeg(),a=new Pe(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Pr.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Pe(1),s=new Pe(0),o=new Pe(0),f=new Pe(1),c,d,u,p,x,S,E,H=0,K,ee;n.cmpn(0)!==0;){var ie=i.div(n);K=i.sub(ie.mul(n)),ee=o.sub(ie.mul(a));var F=f.sub(ie.mul(s));if(!u&&K.cmp(r)<0)c=E.neg(),d=a,u=K.neg(),p=ee;else if(u&&++H==2)break;E=K,i=n,n=K,o=a,a=ee,f=s,s=F}x=K.neg(),S=ee;var V=u.sqr().add(p.sqr()),re=x.sqr().add(S.sqr());return re.cmp(V)>=0&&(x=c,S=d),u.negative&&(u=u.neg(),p=p.neg()),x.negative&&(x=x.neg(),S=S.neg()),[{a:u,b:p},{a:x,b:S}]};Pr.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),d=s.mul(i.b),u=e.sub(o).sub(f),p=c.add(d).neg();return{k1:u,k2:p}};Pr.prototype.pointFromX=function(e,r){e=new Pe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Pr.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Pr.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var d=this._wnafMulAdd(1,i,a,s*2,n),u=0;u<s*2;u++)i[u]=null,a[u]=null;return d};function Ht(t,e,r,n){dr.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Pe(e,16),this.y=new Pe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}pi(Ht,dr.BasePoint);Pr.prototype.point=function(e,r,n){return new Ht(this,e,r,n)};Pr.prototype.pointFromJSON=function(e,r){return Ht.fromJSON(this,e,r)};Ht.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Ht.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ht.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Ht.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ht.prototype.isInfinity=function(){return this.inf};Ht.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Ht.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Ht.prototype.getX=function(){return this.x.fromRed()};Ht.prototype.getY=function(){return this.y.fromRed()};Ht.prototype.mul=function(e){return e=new Pe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ht.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Ht.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Ht.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ht.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Ht.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Jt(t,e,r,n){dr.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Pe(0)):(this.x=new Pe(e,16),this.y=new Pe(r,16),this.z=new Pe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}pi(Jt,dr.BasePoint);Pr.prototype.jpoint=function(e,r,n){return new Jt(this,e,r,n)};Jt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Jt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Jt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=f.redSqr(),u=d.redMul(f),p=i.redMul(d),x=c.redSqr().redIAdd(u).redISub(p).redISub(p),S=c.redMul(p.redISub(x)).redISub(s.redMul(u)),E=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(x,S,E)};Jt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),d=c.redMul(o),u=n.redMul(c),p=f.redSqr().redIAdd(d).redISub(u).redISub(u),x=f.redMul(u.redISub(p)).redISub(a.redMul(d)),S=this.z.redMul(o);return this.curve.jpoint(p,x,S)};Jt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}for(var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),d=o.redAdd(o),n=0;n<e;n++){var u=s.redSqr(),p=d.redSqr(),x=p.redSqr(),S=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),E=s.redMul(p),H=S.redSqr().redISub(E.redAdd(E)),K=E.redISub(H),ee=S.redMul(K);ee=ee.redIAdd(ee).redISub(x);var ie=d.redMul(f);n+1<e&&(c=c.redMul(x)),s=H,f=ie,d=ee}return this.curve.jpoint(s,d.redMul(a),f)};Jt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Jt.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),e=c,r=f.redMul(o.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),p=this.y.redSqr(),x=p.redSqr(),S=this.x.redAdd(p).redSqr().redISub(u).redISub(x);S=S.redIAdd(S);var E=u.redAdd(u).redIAdd(u),H=E.redSqr(),K=x.redIAdd(x);K=K.redIAdd(K),K=K.redIAdd(K),e=H.redISub(S).redISub(S),r=E.redMul(S.redISub(e)).redISub(K),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Jt.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);e=c;var d=s.redIAdd(s);d=d.redIAdd(d),d=d.redIAdd(d),r=f.redMul(o.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),p=this.y.redSqr(),x=this.x.redMul(p),S=this.x.redSub(u).redMul(this.x.redAdd(u));S=S.redAdd(S).redIAdd(S);var E=x.redIAdd(x);E=E.redIAdd(E);var H=E.redAdd(E);e=S.redSqr().redISub(H),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(u);var K=p.redSqr();K=K.redIAdd(K),K=K.redIAdd(K),K=K.redIAdd(K),r=S.redMul(E.redISub(e)).redISub(K)}return this.curve.jpoint(e,r,n)};Jt.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var d=c.redMul(o),u=f.redSqr().redISub(d.redAdd(d)),p=d.redISub(u),x=o.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var S=f.redMul(p).redISub(x),E=n.redAdd(n).redMul(i);return this.curve.jpoint(u,S,E)};Jt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),u=r.redMul(d);u=u.redIAdd(u),u=u.redIAdd(u);var p=this.x.redMul(f).redISub(u);p=p.redIAdd(p),p=p.redIAdd(p);var x=this.y.redMul(d.redMul(c.redISub(d)).redISub(o.redMul(f)));x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var S=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(p,x,S)};Jt.prototype.mul=function(e,r){return e=new Pe(e,r),this.curve._wnafMul(this,e)};Jt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};Jt.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Jt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Jt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};function i0(t){dr.call(this,"mont",t),this.a=new Pe(t.a,16).toRed(this.red),this.b=new Pe(t.b,16).toRed(this.red),this.i4=new Pe(4).toRed(this.red).redInvm(),this.two=new Pe(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}pi(i0,dr);var vg=i0;i0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Wt(t,e,r){dr.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Pe(e,16),this.z=new Pe(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}pi(Wt,dr.BasePoint);i0.prototype.decodePoint=function(e,r){var e=bt.toArray(e,r);if(e.length===33&&e[0]===64&&(e=e.slice(1,33).reverse()),e.length!==32)throw new Error("Unknown point compression format");return this.point(e,1)};i0.prototype.point=function(e,r){return new Wt(this,e,r)};i0.prototype.pointFromJSON=function(e){return Wt.fromJSON(this,e)};Wt.prototype.precompute=function(){};Wt.prototype._encode=function(e){var r=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",r)):this.getX().toArray("be",r)};Wt.fromJSON=function(e,r){return new Wt(e,r[0],r[1]||e.one)};Wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Wt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Wt.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};Wt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Wt.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),d=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,d)};Wt.prototype.mul=function(e){e=new Pe(e,16);for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Wt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Wt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Wt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Wt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Wt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var wg=bt.assert;function wn(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,dr.call(this,"edwards",t),this.a=new Pe(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Pe(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Pe(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),wg(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}pi(wn,dr);var _g=wn;wn.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};wn.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};wn.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};wn.prototype.pointFromX=function(e,r){e=new Pe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};wn.prototype.pointFromY=function(e,r){e=new Pe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};wn.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function wt(t,e,r,n,i){dr.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Pe(e,16),this.y=new Pe(r,16),this.z=n?new Pe(n,16):this.curve.one,this.t=i&&new Pe(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}pi(wt,dr.BasePoint);wn.prototype.pointFromJSON=function(e){return wt.fromJSON(this,e)};wn.prototype.point=function(e,r,n,i){return new wt(this,e,r,n,i)};wt.fromJSON=function(e,r){return new wt(e,r[0],r[1],r[2])};wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};wt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};wt.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),d=s.redMul(f),u=a.redMul(f),p=o.redMul(s);return this.curve.point(c,d,p,u)};wt.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s;if(this.curve.twisted){var o=this.curve._mulA(r),f=o.redAdd(n);if(this.zOne)i=e.redSub(r).redSub(n).redMul(f.redSub(this.curve.two)),a=f.redMul(o.redSub(n)),s=f.redSqr().redSub(f).redSub(f);else{var c=this.z.redSqr(),d=f.redSub(c).redISub(c);i=e.redSub(r).redISub(n).redMul(d),a=f.redMul(o.redSub(n)),s=f.redMul(d)}}else{var o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),d=o.redSub(c).redSub(c);i=this.curve._mulC(e.redISub(o)).redMul(d),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(d)}return this.curve.point(i,a,s)};wt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};wt.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),d=s.redMul(o),u=f.redMul(c),p=s.redMul(c),x=o.redMul(f);return this.curve.point(d,u,x,p)};wt.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),d=r.redMul(o).redMul(c),u,p;return this.curve.twisted?(u=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),p=o.redMul(f)):(u=r.redMul(f).redMul(a.redSub(i)),p=this.curve._mulC(o).redMul(f)),this.curve.point(d,u,p)};wt.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};wt.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};wt.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};wt.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};wt.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};wt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};wt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};wt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};wt.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};wt.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};wt.prototype.toP=wt.prototype.normalize;wt.prototype.mixedAdd=wt.prototype.add;var lc=nn(function(t,e){var r=e;r.base=dr,r.short=gg,r.mont=vg,r.edwards=_g}),Zd=Xe.rotl32,as=Xe.sum32,Ag=Xe.sum32_5,kg=ia.ft_1,Ob=M0.BlockHash,Sg=[1518500249,1859775393,2400959708,3395469782];function _n(){if(!(this instanceof _n))return new _n;Ob.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Xe.inherits(_n,Ob);var Eg=_n;_n.blockSize=512;_n.outSize=160;_n.hmacStrength=80;_n.padLength=64;_n.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Zd(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var d=~~(i/20),u=Ag(Zd(a,5),kg(d,s,o,f),c,n[i],Sg[d]);c=f,f=o,o=Zd(s,30),s=a,a=u}this.h[0]=as(this.h[0],a),this.h[1]=as(this.h[1],s),this.h[2]=as(this.h[2],o),this.h[3]=as(this.h[3],f),this.h[4]=as(this.h[4],c)};_n.prototype._digest=function(e){return e==="hex"?Xe.toHex32(this.h,"big"):Xe.split32(this.h,"big")};var Cg=Eg,Pg=d1,Rg=Yf,Mg=b1,Tg=T0,Bg={sha1:Cg,sha224:Pg,sha256:Rg,sha384:Mg,sha512:Tg};function a0(t,e,r){if(!(this instanceof a0))return new a0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Xe.toArray(e,r))}var Ig=a0;a0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),bi(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};a0.prototype.update=function(e,r){return this.inner.update(e,r),this};a0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var wr=nn(function(t,e){var r=e;r.utils=Xe,r.common=M0,r.sha=Bg,r.ripemd=B4,r.hmac=Ig,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}),Dg={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},ss=nn(function(t,e){var r=e,n=bt.assert;function i(o){if(o.type==="short")this.curve=new lc.short(o);else if(o.type==="edwards")this.curve=new lc.edwards(o);else if(o.type==="mont")this.curve=new lc.mont(o);else throw new Error("Unknown curve type.");this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}r.PresetCurve=i;function a(o,f){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var c=new i(f);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:c}),c}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:wr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:wr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:wr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:wr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:wr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:wr.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:wr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),a("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:wr.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),a("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:wr.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),a("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:wr.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});var s;try{s=Dg}catch(o){s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:wr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Ki(t){if(!(this instanceof Ki))return new Ki(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=jr.toArray(t.entropy,t.entropyEnc||"hex"),r=jr.toArray(t.nonce,t.nonceEnc||"hex"),n=jr.toArray(t.pers,t.persEnc||"hex");bi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Xd=Ki;Ki.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Ki.prototype._hmac=function(){return new wr.hmac(this.hash,this.K)};Ki.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ki.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=jr.toArray(e,r),n=jr.toArray(n,i),bi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Ki.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=jr.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,jr.encode(s,r)};var qb=bt.assert;function ar(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Jd=ar;ar.fromPublic=function(e,r,n){return r instanceof ar?r:new ar(e,{pub:r,pubEnc:n})};ar.fromPrivate=function(e,r,n){return r instanceof ar?r:new ar(e,{priv:r,privEnc:n})};ar.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ar.prototype.getPublic=function(e,r){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,r):this.pub};ar.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ar.prototype._importPrivate=function(e,r){if(this.priv=new Pe(e,r||16),this.ec.curve.type==="mont"){var n=this.ec.curve.one,i=n.ushln(255-3).sub(n).ushln(3);this.priv=this.priv.or(n.ushln(255-1)),this.priv=this.priv.and(i)}else this.priv=this.priv.umod(this.ec.curve.n)};ar.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?qb(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&qb(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ar.prototype.derive=function(e){return e.mul(this.priv).getX()};ar.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ar.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ar.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Kg=bt.assert;function hc(t,e){if(t instanceof hc)return t;this._importDER(t,e)||(Kg(t.r&&t.s,"Signature without r or s"),this.r=new Pe(t.r,16),this.s=new Pe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var bc=hc;function Ug(){this.place=0}function Qd(t,e){var r=t[e.place++];if(!(r&128))return r;for(var n=r&15,i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s];return e.place=s,i}function Lb(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}hc.prototype._importDER=function(e,r){e=bt.toArray(e,r);var n=new Ug;if(e[n.place++]!==48)return!1;var i=Qd(e,n);if(i+n.place!==e.length||e[n.place++]!==2)return!1;var a=Qd(e,n),s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=Qd(e,n);if(e.length!==o+n.place)return!1;var f=e.slice(n.place,o+n.place);return s[0]===0&&s[1]&128&&(s=s.slice(1)),f[0]===0&&f[1]&128&&(f=f.slice(1)),this.r=new Pe(s),this.s=new Pe(f),this.recoveryParam=null,!0};function eu(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}hc.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Lb(r),n=Lb(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];eu(i,r.length),i=i.concat(r),i.push(2),eu(i,n.length);var a=i.concat(n),s=[48];return eu(s,a.length),s=s.concat(a),bt.encode(s,e)};var jb=bt.assert;function yr(t){if(!(this instanceof yr))return new yr(t);typeof t=="string"&&(jb(ss.hasOwnProperty(t),"Unknown curve "+t),t=ss[t]),t instanceof ss.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var zg=yr;yr.prototype.keyPair=function(e){return new Jd(this,e)};yr.prototype.keyFromPrivate=function(e,r){return Jd.fromPrivate(this,e,r)};yr.prototype.keyFromPublic=function(e,r){return Jd.fromPublic(this,e,r)};yr.prototype.genKeyPair=function(e){e||(e={});var r=new Xd({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||fc(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if(this.curve.type==="mont"){var n=new Pe(r.generate(32));return this.keyFromPrivate(n)}var i=this.n.byteLength(),a=this.n.sub(new Pe(2));do{var n=new Pe(r.generate(i));if(!(n.cmp(a)>0))return n.iaddn(1),this.keyFromPrivate(n)}while(!0)};yr.prototype._truncateToN=function(e,r,n){n=n||e.byteLength()*8;var i=n-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};yr.prototype.truncateMsg=function(e){var r;return e instanceof Uint8Array?(r=e.byteLength*8,e=this._truncateToN(new Pe(e,16),!1,r)):typeof e=="string"?(r=e.length*4,e=this._truncateToN(new Pe(e,16),!1,r)):e=this._truncateToN(new Pe(e,16)),e};yr.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this.truncateMsg(e);for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),f=new Xd({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Pe(1)),d=0;;d++){var u=i.k?i.k(d):new Pe(f.generate(this.n.byteLength()));if(u=this._truncateToN(u,!0),!(u.cmpn(1)<=0||u.cmp(c)>=0)){var p=this.g.mul(u);if(!p.isInfinity()){var x=p.getX(),S=x.umod(this.n);if(S.cmpn(0)!==0){var E=u.invm(this.n).mul(S.mul(r.getPrivate()).iadd(e));if(E=E.umod(this.n),E.cmpn(0)!==0){var H=(p.getY().isOdd()?1:0)|(x.cmp(S)!==0?2:0);return i.canonical&&E.cmp(this.nh)>0&&(E=this.n.sub(E),H^=1),new bc({r:S,s:E,recoveryParam:H})}}}}}};yr.prototype.verify=function(e,r,n,i){n=this.keyFromPublic(n,i),r=new bc(r,"hex");var a=this._verify(this.truncateMsg(e),r,n)||this._verify(this._truncateToN(new Pe(e,16)),r,n);return a};yr.prototype._verify=function(e,r,n){var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),o=s.mul(e).umod(this.n),f=s.mul(i).umod(this.n);if(!this.curve._maxwellTrick){var c=this.g.mulAdd(o,n.getPublic(),f);return c.isInfinity()?!1:c.getX().umod(this.n).cmp(i)===0}var c=this.g.jmulAdd(o,n.getPublic(),f);return c.isInfinity()?!1:c.eqXToP(i)};yr.prototype.recoverPubKey=function(t,e,r,n){jb((3&r)===r,"The recovery param is more than two bits"),e=new bc(e,n);var i=this.n,a=new Pe(t),s=e.r,o=e.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var d=e.r.invm(i),u=i.sub(a).mul(d).umod(i),p=o.mul(d).umod(i);return this.g.mulAdd(u,s,p)};yr.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new bc(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch(s){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Hb=bt.assert,Wb=bt.parseBytes,s0=bt.cachedProperty;function $t(t,e){if(this.eddsa=t,e.hasOwnProperty("secret")&&(this._secret=Wb(e.secret)),t.isPoint(e.pub))this._pub=e.pub;else if(this._pubBytes=Wb(e.pub),this._pubBytes&&this._pubBytes.length===33&&this._pubBytes[0]===64&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&this._pubBytes.length!==32)throw new Error("Unknown point compression format")}$t.fromPublic=function(e,r){return r instanceof $t?r:new $t(e,{pub:r})};$t.fromSecret=function(e,r){return r instanceof $t?r:new $t(e,{secret:r})};$t.prototype.secret=function(){return this._secret};s0($t,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});s0($t,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});s0($t,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});s0($t,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});s0($t,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});s0($t,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});$t.prototype.sign=function(e){return Hb(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};$t.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};$t.prototype.getSecret=function(e){return Hb(this._secret,"KeyPair is public only"),bt.encode(this.secret(),e)};$t.prototype.getPublic=function(e,r){return bt.encode((r?[64]:[]).concat(this.pubBytes()),e)};var tu=$t,Fg=bt.assert,pc=bt.cachedProperty,Ng=bt.parseBytes;function xa(t,e){this.eddsa=t,typeof e!="object"&&(e=Ng(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Fg(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Pe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}pc(xa,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});pc(xa,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});pc(xa,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});pc(xa,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});xa.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};xa.prototype.toHex=function(){return bt.encode(this.toBytes(),"hex").toUpperCase()};var $b=xa,Og=bt.assert,Yb=bt.parseBytes;function sr(t){if(Og(t==="ed25519","only tested with ed25519 so far"),!(this instanceof sr))return new sr(t);var t=ss[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=wr.sha512}var qg=sr;sr.prototype.sign=function(e,r){e=Yb(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};sr.prototype.verify=function(e,r,n){e=Yb(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};sr.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return bt.intFromLE(e.digest()).umod(this.curve.n)};sr.prototype.keyPair=function(e){return new tu(this,e)};sr.prototype.keyFromPublic=function(e){return tu.fromPublic(this,e)};sr.prototype.keyFromSecret=function(e){return tu.fromSecret(this,e)};sr.prototype.genKeyPair=function(e){e||(e={});var r=new Xd({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||fc(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(r.generate(32))};sr.prototype.makeSignature=function(e){return e instanceof $b?e:new $b(this,e)};sr.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};sr.prototype.decodePoint=function(e){e=bt.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&~128),i=(e[r]&128)!=0,a=bt.intFromLE(n);return this.curve.pointFromY(a,i)};sr.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};sr.prototype.decodeInt=function(e){return bt.intFromLE(e)};sr.prototype.isPoint=function(e){return e instanceof this.pointClass};var Gb=nn(function(t,e){var r=e;r.utils=bt,r.rand=fc,r.curve=lc,r.curves=ss,r.ec=zg,r.eddsa=qg}),Ky=Object.freeze({__proto__:null,default:Gb,__moduleExports:Gb});async function Vb({message:t,publicKey:e,privateKey:r,password:n}){if(n){let i=Xt.fromText(t),a=await Bi({armoredKey:e});console.log("doing this");let s=await Bi({armoredKey:r}),o=await $d({privateKey:s,passphrase:n});return await Yd({message:i,publicKeys:a,privateKeys:o})}else{let i=Xt.fromText(t),a=await Bi({armoredKey:e}),s=await Bi({armoredKey:r});return await Yd({message:i,publicKeys:a,privateKeys:s})}}async function xc({message:t,username:e,encrypted:r,room:n,id:i,event:a},{publicKey:s,privateKey:o,password:f}){let c;if(f){let p=await Bi({armoredKey:o});c=await $d({privateKey:p,passphrase:f})}else c=await Bi({armoredKey:o});let d=await Ub({armoredMessage:t});console.log(d);let u=await Nb({message:d,privateKeys:c});return console.log(u),{message:u.data,username:e,encrypted:!1,room:n,id:i,event:a}}var Hr=c0({publicKey:"",privateKey:"",password:""}),os=c0({public:""});function Lg(t){let e,r=t[0].message+"",n;return{c(){e=Ie("p"),n=or(r),Ae(e,"class","text-white")},m(i,a){yt(i,e,a),Ee(e,n)},p(i,a){a&1&&r!==(r=i[0].message+"")&&$r(n,r)},d(i){i&&pt(e)}}}function jg(t){let e;return{c(){e=Ie("p"),e.textContent="Message is encrypted!",Ae(e,"class","text-white")},m(r,n){yt(r,e,n)},p:It,d(r){r&&pt(e)}}}function Hg(t){let e,r,n,i;function a(f,c){return f[0].encrypted?jg:Lg}let s=a(t,-1),o=s(t);return{c(){e=Ie("article"),o.c(),Ae(e,"class",r=""+(lr(`__width rounded inline-block p-2 m-2 ${t[2](t[1])} ${t[0].encrypted?"bg-pink-600":null}`)+" svelte-c71eap"))},m(f,c){yt(f,e,c),o.m(e,null),n||(i=_t(e,"click",t[4]),n=!0)},p(f,[c]){s===(s=a(f,c))&&o?o.p(f,c):(o.d(1),o=s(f),o&&(o.c(),o.m(e,null))),c&3&&r!==(r=""+(lr(`__width rounded inline-block p-2 m-2 ${f[2](f[1])} ${f[0].encrypted?"bg-pink-600":null}`)+" svelte-c71eap"))&&Ae(e,"class",r)},i:It,o:It,d(f){f&&pt(e),o.d(),n=!1,i()}}}function Wg(t,e,r){let n;Wr(t,Hr,c=>r(5,n=c));let{user:i}=e,{message:a}=e,s=c=>{if(a.username===c)return"self-end bg-blue-500";if(a.username==="Bot")switch(a.event){case"partner disconnected":return"bg-red-500";case"partner connected":return"bg-purple-600";case"connected":return"self-end bg-purple-600";case"disconnected":return"self-end bg-red-500"}else return"bg-green-500"};async function o(c){if(!c.encrypted)return;let d=await xc(c,{publicKey:n.publicKey,privateKey:n.privateKey,password:n.password});r(0,a=d),console.log("decrypted in message element")}let f=()=>o(a);return t.$$set=c=>{"user"in c&&r(1,i=c.user),"message"in c&&r(0,a=c.message)},[a,i,s,o,f]}var Zb=class extends Dt{constructor(e){super();Kt(this,e,Wg,Hg,Tt,{user:1,message:0})}},Xb=Zb;var ru=function(e,r){var n="000000000"+e;return n.substr(n.length-r)},$g=typeof window=="object"?window:self,Yg=Object.keys($g).length,Gg=navigator.mimeTypes?navigator.mimeTypes.length:0,Vg=ru((Gg+navigator.userAgent.length).toString(36)+Yg.toString(36),4),yc=function(){return Vg},nu,Jb=typeof window!="undefined"&&(window.crypto||window.msCrypto)||typeof self!="undefined"&&self.crypto;Jb?(Qb=Math.pow(2,32)-1,nu=function(){return Math.abs(Jb.getRandomValues(new Uint32Array(1))[0]/Qb)}):nu=Math.random;var Qb,Zg=nu,cs=0,iu=4,mc=36,ep=Math.pow(mc,iu);function au(){return ru((Zg()*ep<<0).toString(mc),iu)}function tp(){return cs=cs<ep?cs:0,cs++,cs-1}function fs(){var t="c",e=new Date().getTime().toString(mc),r=ru(tp().toString(mc),iu),n=yc(),i=au()+au();return t+e+r+n+i}fs.slug=function(){var e=new Date().getTime().toString(36),r=tp().toString(36).slice(-4),n=yc().slice(0,1)+yc().slice(-1),i=au().slice(-2);return e.slice(-2)+r+n+i};fs.isCuid=function(e){return typeof e!="string"?!1:!!e.startsWith("c")};fs.isSlug=function(e){if(typeof e!="string")return!1;var r=e.length;return r>=7&&r<=10};fs.fingerprint=yc;var Xg=fs,ds=Xg;function Jg(t){let e,r,n,i,a=t[0].password+"",s,o,f,c,d,u,p,x,S,E,H,K,ee,ie,F;return r=new Sn({props:{buttonName:"Generate new keys"}}),r.$on("click",t[1]),{c(){e=Ie("main"),Pt(r.$$.fragment),n=lt(),i=Ie("p"),s=or(a),o=lt(),f=Ie("input"),c=lt(),d=Ie("div"),u=Ie("div"),u.innerHTML=`<img class="icon svelte-g2v0et" src="icons/copy.svg" alt="copy-to-clipboard icon"/> 
      <label class="text-center select-none" for="publicKey">Public Key</label>`,p=lt(),x=Ie("textarea"),S=lt(),E=Ie("div"),E.innerHTML=`<img class="icon svelte-g2v0et" src="icons/copy.svg" alt="copy-to-clipboard icon"/> 
      <label class="text-center select-none" for="privateKey">Private Key</label>`,H=lt(),K=Ie("textarea"),Ae(f,"type","password"),Ae(f,"class","w-80 mx-auto px-1 mt-2 text-center border rounded focus:border-blue-600 focus:outline-none"),Ae(f,"placeholder","Password"),Ae(u,"class","flex text-center justify-center __copyControl w-4/12 svelte-g2v0et"),Ae(x,"class","w-full my-2 h-36 max-h-30 rounded mb-5 outline-none border focus:border-blue-500 transition-colors p-1 max-h-36"),Ae(x,"name","Public key"),Ae(x,"id","publicKey"),Ae(x,"autocomplete","off"),Ae(E,"class","flex text-center justify-center __copyControl w-4/12 svelte-g2v0et"),Ae(K,"class","w-full my-2 h-36 max-h-30 rounded outline-none border focus:border-blue-500 transition-colors p-1 max-h-36"),Ae(K,"name","Private key"),Ae(K,"id","privateKey"),Ae(K,"autocomplete","off"),Ae(d,"class","mx-auto flex flex-col items-center w-5/6 mt-4"),Ae(e,"class"," mx-auto flex flex-col w-full")},m(V,re){yt(V,e,re),At(r,e,null),Ee(e,n),Ee(e,i),Ee(i,s),Ee(e,o),Ee(e,f),Gt(f,t[0].password),Ee(e,c),Ee(e,d),Ee(d,u),Ee(d,p),Ee(d,x),Gt(x,t[0].publicKey),Ee(d,S),Ee(d,E),Ee(d,H),Ee(d,K),Gt(K,t[0].privateKey),ee=!0,ie||(F=[_t(f,"input",t[2]),_t(u,"click",t[3]),_t(x,"input",t[4]),_t(E,"click",t[5]),_t(K,"input",t[6])],ie=!0)},p(V,[re]){(!ee||re&1)&&a!==(a=V[0].password+"")&&$r(s,a),re&1&&f.value!==V[0].password&&Gt(f,V[0].password),re&1&&Gt(x,V[0].publicKey),re&1&&Gt(K,V[0].privateKey)},i(V){ee||(Je(r.$$.fragment,V),ee=!0)},o(V){tt(r.$$.fragment,V),ee=!1},d(V){V&&pt(e),kt(r),ie=!1,Qt(F)}}}function rp(t){let e=document.getElementById(t);e.value,navigator.clipboard.writeText(e.value)}function Qg(t,e,r){let n;Wr(t,Hr,d=>r(0,n=d));async function i(){if(n.password)var d=await Wd({type:"rsa",userIds:{name:"test",email:"test@test.test"},passphrase:n.password});else var d=await Wd({type:"rsa",userIds:{name:"test",email:"test@test.test"}});ls(Hr,n.publicKey=d.publicKeyArmored,n),ls(Hr,n.privateKey=d.privateKeyArmored,n)}function a(){n.password=this.value,Hr.set(n)}let s=()=>rp("publicKey");function o(){n.publicKey=this.value,Hr.set(n)}let f=()=>rp("privateKey");function c(){n.privateKey=this.value,Hr.set(n)}return[n,i,a,s,o,f,c]}var np=class extends Dt{constructor(e){super();Kt(this,e,Qg,Jg,Tt,{})}},ip=np;function e9(t){let e,r,n,i,a,s;return{c(){e=Ie("div"),r=Ie("h1"),r.textContent="Paste recipient's public key",n=lt(),i=Ie("textarea"),Ae(r,"class","text-lg text-white rounded bg-yellow-500 mb-2"),Ae(i,"class","w-full my-2 h-4/6 rounded outline-none border focus:border-blue-500 transition-colors p-1 max-h-full"),Ae(i,"name","recipient public key"),Ae(i,"id","recipientPublicKey"),Ae(i,"autocomplete","off"),Ae(e,"class","h-full text-center")},m(o,f){yt(o,e,f),Ee(e,r),Ee(e,n),Ee(e,i),Gt(i,t[0].public),a||(s=_t(i,"input",t[1]),a=!0)},p(o,[f]){f&1&&Gt(i,o[0].public)},i:It,o:It,d(o){o&&pt(e),a=!1,s()}}}function t9(t,e,r){let n;Wr(t,os,a=>r(0,n=a));function i(){n.public=this.value,os.set(n)}return[n,i]}var ap=class extends Dt{constructor(e){super();Kt(this,e,t9,e9,Tt,{})}},sp=ap;function op(t,e,r){let n=t.slice();return n[21]=e[r],n}function r9(t){let e,r,n,i;return{c(){e=Ie("img"),Ae(e,"slot","icon"),Ae(e,"class",r=""+(lr(`lock-icon select-none ${t[2]?"bg-green-400":"bg-yellow-600"} transition-colors`)+" svelte-1lc3uxu")),e.src!==(n=t[2]?"icons/secure.svg":"icons/insecure.svg")&&Ae(e,"src",n),Ae(e,"alt",i=t[2]?"locked icon":"unlocked icon")},m(a,s){yt(a,e,s)},p(a,s){s&4&&r!==(r=""+(lr(`lock-icon select-none ${a[2]?"bg-green-400":"bg-yellow-600"} transition-colors`)+" svelte-1lc3uxu"))&&Ae(e,"class",r),s&4&&e.src!==(n=a[2]?"icons/secure.svg":"icons/insecure.svg")&&Ae(e,"src",n),s&4&&i!==(i=a[2]?"locked icon":"unlocked icon")&&Ae(e,"alt",i)},d(a){a&&pt(e)}}}function n9(t){let e,r,n,i=(t[2]?"ON":"OFF")+"",a,s;return{c(){e=Ie("p"),r=or("Encryption: "),n=Ie("span"),a=or(i),Ae(n,"class",s=""+(lr(`${t[2]?"text-green-400":"text-red-400"}`)+" svelte-1lc3uxu")),Ae(e,"class","text-white select-none"),Ae(e,"slot","text")},m(o,f){yt(o,e,f),Ee(e,r),Ee(e,n),Ee(n,a)},p(o,f){f&4&&i!==(i=(o[2]?"ON":"OFF")+"")&&$r(a,i),f&4&&s!==(s=""+(lr(`${o[2]?"text-green-400":"text-red-400"}`)+" svelte-1lc3uxu"))&&Ae(n,"class",s)},d(o){o&&pt(e)}}}function i9(t){let e,r,n,i=(t[5]?"ON":"OFF")+"",a,s;return{c(){e=Ie("p"),r=or("Decrypt: "),n=Ie("span"),a=or(i),Ae(n,"class",s=""+(lr(`${t[5]?"text-green-400":"text-red-400"}`)+" svelte-1lc3uxu")),Ae(e,"class","text-white select-none"),Ae(e,"slot","text")},m(o,f){yt(o,e,f),Ee(e,r),Ee(e,n),Ee(n,a)},p(o,f){f&32&&i!==(i=(o[5]?"ON":"OFF")+"")&&$r(a,i),f&32&&s!==(s=""+(lr(`${o[5]?"text-green-400":"text-red-400"}`)+" svelte-1lc3uxu"))&&Ae(n,"class",s)},d(o){o&&pt(e)}}}function cp(t){let e,r;return e=new Xb({props:{message:t[21],user:t[6]}}),{c(){Pt(e.$$.fragment)},m(n,i){At(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.message=n[21]),e.$set(a)},i(n){r||(Je(e.$$.fragment,n),r=!0)},o(n){tt(e.$$.fragment,n),r=!1},d(n){kt(e,n)}}}function fp(t){let e,r,n;function i(s){t[15](s)}let a={$$slots:{content:[a9]},$$scope:{ctx:t}};return t[3]!==void 0&&(a.toggle=t[3]),e=new zc({props:a}),ri.push(()=>ma(e,"toggle",i)),{c(){Pt(e.$$.fragment)},m(s,o){At(e,s,o),n=!0},p(s,o){let f={};o&16777216&&(f.$$scope={dirty:o,ctx:s}),!r&&o&8&&(r=!0,f.toggle=s[3],ya(()=>r=!1)),e.$set(f)},i(s){n||(Je(e.$$.fragment,s),n=!0)},o(s){tt(e.$$.fragment,s),n=!1},d(s){kt(e,s)}}}function a9(t){let e,r,n;return r=new ip({}),{c(){e=Ie("span"),Pt(r.$$.fragment),Ae(e,"slot","content")},m(i,a){yt(i,e,a),At(r,e,null),n=!0},i(i){n||(Je(r.$$.fragment,i),n=!0)},o(i){tt(r.$$.fragment,i),n=!1},d(i){i&&pt(e),kt(r)}}}function dp(t){let e,r,n;function i(s){t[16](s)}let a={$$slots:{content:[s9]},$$scope:{ctx:t}};return t[4]!==void 0&&(a.toggle=t[4]),e=new zc({props:a}),ri.push(()=>ma(e,"toggle",i)),{c(){Pt(e.$$.fragment)},m(s,o){At(e,s,o),n=!0},p(s,o){let f={};o&16777216&&(f.$$scope={dirty:o,ctx:s}),!r&&o&16&&(r=!0,f.toggle=s[4],ya(()=>r=!1)),e.$set(f)},i(s){n||(Je(e.$$.fragment,s),n=!0)},o(s){tt(e.$$.fragment,s),n=!1},d(s){kt(e,s)}}}function s9(t){let e,r,n;return r=new sp({}),{c(){e=Ie("span"),Pt(r.$$.fragment),Ae(e,"slot","content"),Ae(e,"class","h-full")},m(i,a){yt(i,e,a),At(r,e,null),n=!0},i(i){n||(Je(r.$$.fragment,i),n=!0)},o(i){tt(r.$$.fragment,i),n=!1},d(i){i&&pt(e),kt(r)}}}function o9(t){let e,r,n,i,a,s,o,f,c,d,u,p,x,S,E,H,K,ee,ie,F,V,re,te,X,se,M,l,m,y,B;function O(be){t[10](be)}let Z={$$slots:{text:[n9],icon:[r9]},$$scope:{ctx:t}};t[2]!==void 0&&(Z.checked=t[2]),a=new Uc({props:Z}),ri.push(()=>ma(a,"checked",O));function T(be){t[11](be)}let C={$$slots:{text:[i9]},$$scope:{ctx:t}};t[5]!==void 0&&(C.checked=t[5]),d=new Uc({props:C}),ri.push(()=>ma(d,"checked",T)),x=new Sn({props:{buttonName:"Recepient key",backgroundColor:"bg-yellow-600",backgroundHoverColor:"bg-yellow-500"}}),x.$on("click",t[12]),E=new Sn({props:{buttonName:"Personal Keys",backgroundColor:"bg-green-600",backgroundHoverColor:"bg-green-500"}}),E.$on("click",t[13]);let b=t[0],N=[];for(let be=0;be<b.length;be+=1)N[be]=cp(op(t,b,be));let pe=be=>tt(N[be],1,1,()=>{N[be]=null}),ue=t[3]&&fp(t),me=t[4]&&dp(t);return{c(){e=Ie("div"),r=Ie("div"),n=Ie("section"),i=Ie("div"),Pt(a.$$.fragment),o=lt(),f=Ie("button"),f.textContent="Log state",c=lt(),Pt(d.$$.fragment),p=lt(),Pt(x.$$.fragment),S=lt(),Pt(E.$$.fragment),H=lt(),K=Ie("main"),ee=Ie("section");for(let be=0;be<N.length;be+=1)N[be].c();ie=lt(),F=Ie("form"),V=Ie("input"),re=lt(),te=Ie("button"),X=or("Send"),M=lt(),ue&&ue.c(),l=lt(),me&&me.c(),Ae(f,"class","bg-red-500 rounded"),Ae(i,"class","flex justify-evenly w-full"),Ae(n,"class","flex justify-between w-5/12 min-w-min mx-2"),Ae(r,"class","flex justify-evenly rounded items-center mb-2 bg-indigo-600 p-2 w-5/12 min-w-min"),Ae(ee,"class","__text-container mx-auto inline-flex flex-col overflow-y-auto w-full svelte-1lc3uxu"),Ae(V,"type","text"),Ae(V,"name",""),Ae(V,"id","message"),Ae(V,"autocomplete","off"),Ae(V,"class","bg-gray-200 rounded h-8 outline-none border-2 w-4/6 focus:border-blue-600 focus:bg-gray-50 px-2 py-3 mx-2"),Ae(te,"type","submit"),Ae(te,"class","bg-blue-500 text-white px-7 py-1 w-2/6 max-w-xs rounded hover:bg-blue-600"),te.disabled=se=!t[1],Ae(F,"class","flex object-bottom min-w-0 w-5/6 mx-auto mt-4"),Ae(K,"class"," sm:container h-5/6 mx-auto bg-blue-50 rounded-md p-4 flex-col justify-between pb-14"),Ae(e,"class","bg-indigo-300 w-screen h-screen flex flex-col justify-center items-center")},m(be,ve){yt(be,e,ve),Ee(e,r),Ee(r,n),Ee(n,i),At(a,i,null),Ee(i,o),Ee(i,f),Ee(i,c),At(d,i,null),Ee(r,p),At(x,r,null),Ee(r,S),At(E,r,null),Ee(e,H),Ee(e,K),Ee(K,ee);for(let L=0;L<N.length;L+=1)N[L].m(ee,null);Ee(K,ie),Ee(K,F),Ee(F,V),Gt(V,t[1]),Ee(F,re),Ee(F,te),Ee(te,X),Ee(e,M),ue&&ue.m(e,null),Ee(e,l),me&&me.m(e,null),m=!0,y||(B=[_t(f,"click",t[8]),_t(V,"input",t[14]),_t(F,"submit",kc(t[7]))],y=!0)},p(be,[ve]){let L={};ve&16777220&&(L.$$scope={dirty:ve,ctx:be}),!s&&ve&4&&(s=!0,L.checked=be[2],ya(()=>s=!1)),a.$set(L);let oe={};if(ve&16777248&&(oe.$$scope={dirty:ve,ctx:be}),!u&&ve&32&&(u=!0,oe.checked=be[5],ya(()=>u=!1)),d.$set(oe),ve&65){b=be[0];let Q;for(Q=0;Q<b.length;Q+=1){let J=op(be,b,Q);N[Q]?(N[Q].p(J,ve),Je(N[Q],1)):(N[Q]=cp(J),N[Q].c(),Je(N[Q],1),N[Q].m(ee,null))}for(An(),Q=b.length;Q<N.length;Q+=1)pe(Q);kn()}ve&2&&V.value!==be[1]&&Gt(V,be[1]),(!m||ve&2&&se!==(se=!be[1]))&&(te.disabled=se),be[3]?ue?(ue.p(be,ve),ve&8&&Je(ue,1)):(ue=fp(be),ue.c(),Je(ue,1),ue.m(e,l)):ue&&(An(),tt(ue,1,1,()=>{ue=null}),kn()),be[4]?me?(me.p(be,ve),ve&16&&Je(me,1)):(me=dp(be),me.c(),Je(me,1),me.m(e,null)):me&&(An(),tt(me,1,1,()=>{me=null}),kn())},i(be){if(!m){Je(a.$$.fragment,be),Je(d.$$.fragment,be),Je(x.$$.fragment,be),Je(E.$$.fragment,be);for(let ve=0;ve<b.length;ve+=1)Je(N[ve]);Je(ue),Je(me),m=!0}},o(be){tt(a.$$.fragment,be),tt(d.$$.fragment,be),tt(x.$$.fragment,be),tt(E.$$.fragment,be),N=N.filter(Boolean);for(let ve=0;ve<N.length;ve+=1)tt(N[ve]);tt(ue),tt(me),m=!1},d(be){be&&pt(e),kt(a),kt(d),kt(x),kt(E),Ac(N,be),ue&&ue.d(),me&&me.d(),y=!1,Qt(B)}}}function c9(t,e,r){let n,i;Wr(t,Hr,X=>r(17,n=X)),Wr(t,os,X=>r(18,i=X));let{params:a}=e,s=a.roomid,o=rf();o.emit("create_room",{room_ID:s}),o.on("roomFullRedirect",()=>{}),o.on("message",async X=>{if(X.encrypted&&S){if(console.log("decrypting on arrival"),X.username===c)return;let se=await xc(X,{publicKey:n.publicKey,privateKey:n.privateKey,password:n.password});r(0,f=[...f,se]);return}X.username!==c&&r(0,f=[...f,X])});let f=[],c=ds(),d="",u=!1,p=!1,x=!1,S=!1;async function E(){if(!!d){if(u){let X=await Vb({message:d,publicKey:i.public,privateKey:n.privateKey,password:n.password});o.emit("message",{message:X,username:c,encrypted:u,room:s,id:f.length+1,event:"message"}),r(0,f=[...f,{message:d,username:c,encrypted:!1,room:s,id:f.length+1,event:"message"}]),r(1,d="");return}o.emit("message",{message:d,username:c,encrypted:u,room:s,id:f.length+1,event:"message"}),r(0,f=[...f,{message:d,username:c,encrypted:u,room:s,id:f.length+1,event:"message"}]),r(1,d="")}}function H(){console.log(`${s}`)}function K(X){u=X,r(2,u)}function ee(X){S=X,r(5,S)}let ie=()=>r(4,x=!x),F=()=>r(3,p=!p);function V(){d=this.value,r(1,d)}function re(X){p=X,r(3,p)}function te(X){x=X,r(4,x)}return t.$$set=X=>{"params"in X&&r(9,a=X.params)},[f,d,u,p,x,S,c,E,H,a,K,ee,ie,F,V,re,te]}var up=class extends Dt{constructor(e){super();Kt(this,e,c9,o9,Tt,{params:9})}},lp=up;function f9(t){let e,r,n,i,a,s,o,f,c,d,u,p,x,S,E;return p=new Sn({props:{buttonName:"Open chat",backgroundColor:"bg-blue-500",backgroundHoverColor:"bg-blue-600",width:"w-full"}}),p.$on("click",t[4]),{c(){e=Ie("main"),r=Ie("section"),n=Ie("div"),i=Ie("input"),o=lt(),f=Ie("img"),d=lt(),u=Ie("div"),Pt(p.$$.fragment),Ae(i,"class","bg-green-500 text-center p-2 rounded text-white outline-none"),Ae(i,"type","text"),Ae(i,"minlength",a=21),Ae(i,"maxlength",s=30),f.src!==(c="icons/dice.svg")&&Ae(f,"src",c),Ae(f,"alt","randomize icon"),Ae(f,"class","__icon svelte-tlg3x2"),Ae(n,"class","flex items-center justify-center"),Ae(u,"class","__button flex justify-center items-center mt-2 svelte-tlg3x2"),Ae(r,"class","__container rounded svelte-tlg3x2"),Ae(e,"class","w-screen h-screen bg-purple-500 flex items-center justify-center")},m(H,K){yt(H,e,K),Ee(e,r),Ee(r,n),Ee(n,i),Gt(i,t[1]),Ee(n,o),Ee(n,f),Ee(r,d),Ee(r,u),At(p,u,null),x=!0,S||(E=[_t(i,"input",t[2]),_t(f,"click",t[3])],S=!0)},p(H,[K]){K&2&&i.value!==H[1]&&Gt(i,H[1])},i(H){x||(Je(p.$$.fragment,H),x=!0)},o(H){tt(p.$$.fragment,H),x=!1},d(H){H&&pt(e),kt(p),S=!1,Qt(E)}}}var hp="localhost:5000/#/";function d9(t,e,r){let n,i=ds.slug();function a(){n=this.value,r(1,n),r(0,i)}let s=()=>r(0,i=ds.slug()),o=()=>window.location.hash=`#/${n.slice(hp.length)}`;return t.$$.update=()=>{if(t.$$.dirty&1){e:r(1,n=hp+i)}},[i,n,a,s,o]}var bp=class extends Dt{constructor(e){super();Kt(this,e,d9,f9,Tt,{})}},pp=bp;function u9(t){let e,r;return e=new wu({props:{routes:{"/":pp,"/:roomid":lp}}}),{c(){Pt(e.$$.fragment)},m(n,i){At(e,n,i),r=!0},p:It,i(n){r||(Je(e.$$.fragment,n),r=!0)},o(n){tt(e.$$.fragment,n),r=!1},d(n){kt(e,n)}}}var xp=class extends Dt{constructor(e){super();Kt(this,e,null,u9,Tt,{})}},yp=xp;import.meta.env=vc;var mp=new yp({target:document.body}),l9=mp;import.meta?.hot&&((void 0).accept(),(void 0).dispose(()=>{mp.$destroy()}));export{l9 as default};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/*! OpenPGP.js v5.0.0-1 - 2021-03-03 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */
/**
 * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */
