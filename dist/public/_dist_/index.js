var Cr=Object.defineProperty;var kr=(r,e)=>{for(var t in e)Cr(r,t,{get:e[t],enumerable:!0})};var Se={};kr(Se,{MODE:()=>Ar,NODE_ENV:()=>Tr,SSR:()=>Fr});var Ar="production",Tr="production",Fr=!1;function se(){}function ut(r){return r()}function ft(){return Object.create(null)}function $(r){r.forEach(ut)}function Rr(r){return typeof r=="function"}function he(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Br(r){return Object.keys(r).length===0}function Pe(r){return r??""}function T(r,e){r.appendChild(e)}function le(r,e,t){r.insertBefore(e,t||null)}function oe(r){r.parentNode.removeChild(r)}function ht(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function B(r){return document.createElement(r)}function Ne(r){return document.createTextNode(r)}function Ie(){return Ne(" ")}function De(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function _(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Sr(r){return Array.from(r.childNodes)}function lt(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function Oe(r,e){r.value=e??""}var pt;function pe(r){pt=r}var ce=[],dt=[],de=[],mt=[],Pr=Promise.resolve(),Ue=!1;function Nr(){Ue||(Ue=!0,Pr.then(gt))}function Me(r){de.push(r)}var Le=!1,Ye=new Set;function gt(){if(!Le){Le=!0;do{for(let r=0;r<ce.length;r+=1){let e=ce[r];pe(e),Ir(e.$$)}for(pe(null),ce.length=0;dt.length;)dt.pop()();for(let r=0;r<de.length;r+=1){let e=de[r];Ye.has(e)||(Ye.add(e),e())}de.length=0}while(ce.length);for(;mt.length;)mt.pop()();Ue=!1,Le=!1,Ye.clear()}}function Ir(r){if(r.fragment!==null){r.update(),$(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Me)}}var me=new Set,V;function yt(){V={r:0,c:[],p:V}}function wt(){V.r||$(V.c),V=V.p}function z(r,e){r&&r.i&&(me.delete(r),r.i(e))}function ge(r,e,t,n){if(r&&r.o){if(me.has(r))return;me.add(r),V.c.push(()=>{me.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}}function vt(r){r&&r.c()}function qe(r,e,t,n){let{fragment:s,on_mount:o,on_destroy:i,after_update:c}=r.$$;s&&s.m(e,t),n||Me(()=>{let a=o.map(ut).filter(Rr);i?i.push(...a):$(a),r.$$.on_mount=[]}),c.forEach(Me)}function $e(r,e){let t=r.$$;t.fragment!==null&&($(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Dr(r,e){r.$$.dirty[0]===-1&&(ce.push(r),Nr(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ye(r,e,t,n,s,o,i=[-1]){let c=pt;pe(r);let a=r.$$={fragment:null,ctx:null,props:o,update:se,not_equal:s,bound:ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:ft(),dirty:i,skip_bound:!1},u=!1;if(a.ctx=t?t(r,e.props||{},(f,h,...d)=>{let p=d.length?d[0]:h;return a.ctx&&s(a.ctx[f],a.ctx[f]=p)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](p),u&&Dr(r,f)),h}):[],a.update(),u=!0,$(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){let f=Sr(e.target);a.fragment&&a.fragment.l(f),f.forEach(oe)}else a.fragment&&a.fragment.c();e.intro&&z(r.$$.fragment),qe(r,e.target,e.anchor,e.customElement),gt()}pe(c)}var ae=class{$destroy(){$e(this,1),this.$destroy=se}$on(e,t){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Br(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};function Or(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function C(r,e,t){return t={path:e,exports:{},require:function(n,s){return Ur(n,s??t.path)}},r(t,t.exports),t.exports}function Ur(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Mr=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Lr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Ve=function(e){var t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));for(var o=Mr.exec(e||""),i={},c=14;c--;)i[Lr[c]]=o[c]||"";return n!=-1&&s!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Yr(i,i.path),i.queryKey=qr(i,i.query),i};function Yr(r,e){var t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function qr(r,e){var t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,o){s&&(t[s]=o)}),t}function Et(){throw new Error("setTimeout has not been defined")}function _t(){throw new Error("clearTimeout has not been defined")}var M=Et,L=_t,J;typeof window!="undefined"?J=window:typeof self!="undefined"?J=self:J={};typeof J.setTimeout=="function"&&(M=setTimeout);typeof J.clearTimeout=="function"&&(L=clearTimeout);function xt(r){if(M===setTimeout)return setTimeout(r,0);if((M===Et||!M)&&setTimeout)return M=setTimeout,setTimeout(r,0);try{return M(r,0)}catch(e){try{return M.call(null,r,0)}catch(t){return M.call(this,r,0)}}}function $r(r){if(L===clearTimeout)return clearTimeout(r);if((L===_t||!L)&&clearTimeout)return L=clearTimeout,clearTimeout(r);try{return L(r)}catch(e){try{return L.call(null,r)}catch(t){return L.call(this,r)}}}var D=[],G=!1,j,we=-1;function Vr(){!G||!j||(G=!1,j.length?D=j.concat(D):we=-1,D.length&&bt())}function bt(){if(!G){var r=xt(Vr);G=!0;for(var e=D.length;e;){for(j=D,D=[];++we<e;)j&&j[we].run();we=-1,e=D.length}j=null,G=!1,$r(r)}}function jr(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];D.push(new Ct(r,e)),D.length===1&&!G&&xt(bt)}function Ct(r,e){this.fun=r,this.array=e}Ct.prototype.run=function(){this.fun.apply(null,this.array)};var Kr="browser",Wr="browser",Hr=!0,Xr=[],zr="",Jr={},Gr={},Zr={};function K(){}var Qr=K,en=K,tn=K,rn=K,nn=K,sn=K,on=K;function cn(r){throw new Error("process.binding is not supported")}function an(){return"/"}function un(r){throw new Error("process.chdir is not supported")}function fn(){return 0}var Z=J.performance||{},hn=Z.now||Z.mozNow||Z.msNow||Z.oNow||Z.webkitNow||function(){return new Date().getTime()};function ln(r){var e=hn.call(Z)*.001,t=Math.floor(e),n=Math.floor(e%1*1e9);return r&&(t=t-r[0],n=n-r[1],n<0&&(t--,n+=1e9)),[t,n]}var pn=new Date;function dn(){var r=new Date,e=r-pn;return e/1e3}var je={nextTick:jr,title:Kr,browser:Hr,env:{NODE_ENV:"production"},argv:Xr,version:zr,versions:Jr,on:Qr,addListener:en,once:tn,off:rn,removeListener:nn,removeAllListeners:sn,emit:on,binding:cn,cwd:an,chdir:un,umask:fn,hrtime:ln,platform:Wr,release:Gr,config:Zr,uptime:dn},Q=1e3,ee=Q*60,te=ee*60,W=te*24,mn=W*7,gn=W*365.25,En=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return yn(r);if(t==="number"&&isFinite(r))return e.long?vn(r):wn(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function yn(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*gn;case"weeks":case"week":case"w":return t*mn;case"days":case"day":case"d":return t*W;case"hours":case"hour":case"hrs":case"hr":case"h":return t*te;case"minutes":case"minute":case"mins":case"min":case"m":return t*ee;case"seconds":case"second":case"secs":case"sec":case"s":return t*Q;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function wn(r){var e=Math.abs(r);return e>=W?Math.round(r/W)+"d":e>=te?Math.round(r/te)+"h":e>=ee?Math.round(r/ee)+"m":e>=Q?Math.round(r/Q)+"s":r+"ms"}function vn(r){var e=Math.abs(r);return e>=W?ve(r,e,W,"day"):e>=te?ve(r,e,te,"hour"):e>=ee?ve(r,e,ee,"minute"):e>=Q?ve(r,e,Q,"second"):r+" ms"}function ve(r,e,t,n){var s=e>=t*1.5;return Math.round(r/t)+" "+n+(s?"s":"")}function _n(r){t.debug=t,t.default=t,t.coerce=a,t.disable=o,t.enable=s,t.enabled=i,t.humanize=En,t.destroy=u,Object.keys(r).forEach(f=>{t[f]=r[f]}),t.names=[],t.skips=[],t.formatters={};function e(f){let h=0;for(let d=0;d<f.length;d++)h=(h<<5)-h+f.charCodeAt(d),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=e;function t(f){let h,d=null;function p(...m){if(!p.enabled)return;let g=p,v=Number(new Date),y=v-(h||v);g.diff=y,g.prev=h,g.curr=v,h=v,m[0]=t.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let q=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(Be,xr)=>{if(Be==="%%")return"%";q++;let at=t.formatters[xr];if(typeof at=="function"){let br=m[q];Be=at.call(g,br),m.splice(q,1),q--}return Be}),t.formatArgs.call(g,m),(g.log||t.log).apply(g,m)}return p.namespace=f,p.useColors=t.useColors(),p.color=t.selectColor(f),p.extend=n,p.destroy=t.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>d===null?t.enabled(f):d,set:m=>{d=m}}),typeof t.init=="function"&&t.init(p),p}function n(f,h){let d=t(this.namespace+(typeof h=="undefined"?":":h)+f);return d.log=this.log,d}function s(f){t.save(f),t.names=[],t.skips=[];let h,d=(typeof f=="string"?f:"").split(/[\s,]+/),p=d.length;for(h=0;h<p;h++)!d[h]||(f=d[h].replace(/\*/g,".*?"),f[0]==="-"?t.skips.push(new RegExp("^"+f.substr(1)+"$")):t.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...t.names.map(c),...t.skips.map(c).map(h=>"-"+h)].join(",");return t.enable(""),f}function i(f){if(f[f.length-1]==="*")return!0;let h,d;for(h=0,d=t.skips.length;h<d;h++)if(t.skips[h].test(f))return!1;for(h=0,d=t.names.length;h<d;h++)if(t.names[h].test(f))return!0;return!1}function c(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function a(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var xn=_n,O=C(function(r,e){e.formatArgs=n,e.save=s,e.load=o,e.useColors=t,e.storage=i(),e.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;a.splice(1,0,u,"color: inherit");let f=0,h=0;a[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(f++,d==="%c"&&(h=f))}),a.splice(h,0,u)}e.log=console.debug||console.log||(()=>{});function s(a){try{a?e.storage.setItem("debug",a):e.storage.removeItem("debug")}catch(u){}}function o(){let a;try{a=e.storage.getItem("debug")}catch(u){}return!a&&typeof je!="undefined"&&"env"in je&&(a=je.env.DEBUG),a}function i(){try{return localStorage}catch(a){}}r.exports=xn(e);let{formatters:c}=r.exports;c.j=function(a){try{return JSON.stringify(a)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),bn=C(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;let t=O("socket.io-client:url");function n(s,o="",i){let c=s;i=i||typeof location!="undefined"&&location,s==null&&(s=i.protocol+"//"+i.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=i.protocol+s:s=i.host+s),/^(https?|wss?):\/\//.test(s)||(t("protocol-less url %s",s),typeof i!="undefined"?s=i.protocol+"//"+s:s="https://"+s),t("parse %s",s),c=Ve(s)),c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&(c.port="443")),c.path=c.path||"/";let u=c.host.indexOf(":")!==-1?"["+c.host+"]":c.host;return c.id=c.protocol+"://"+u+":"+c.port+o,c.href=c.protocol+"://"+u+(i&&i.port===c.port?"":":"+c.port),c}e.url=n}),Cn=C(function(r){try{r.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(e){r.exports=!1}}),re=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())(),Ke=function(r){let e=r.xdomain,t=r.xscheme,n=r.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!e||Cn))return new XMLHttpRequest}catch(s){}try{if(typeof XDomainRequest!="undefined"&&!t&&n)return new XDomainRequest}catch(s){}if(!e)try{return new re[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(s){}},S=Object.create(null);S.open="0";S.close="1";S.ping="2";S.pong="3";S.message="4";S.upgrade="5";S.noop="6";var kt=Object.create(null);Object.keys(S).forEach(r=>{kt[S[r]]=r});var kn={type:"error",data:"parser error"},At={PACKET_TYPES:S,PACKET_TYPES_REVERSE:kt,ERROR_PACKET:kn},{PACKET_TYPES:An}=At,Tn=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Fn=typeof ArrayBuffer=="function",Rn=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Bn=({type:r,data:e},t,n)=>Tn&&e instanceof Blob?t?n(e):Tt(e,n):Fn&&(e instanceof ArrayBuffer||Rn(e))?t?n(e instanceof ArrayBuffer?e:e.buffer):Tt(new Blob([e]),n):n(An[r]+(e||"")),Tt=(r,e)=>{let t=new FileReader;return t.onload=function(){let n=t.result.split(",")[1];e("b"+n)},t.readAsDataURL(r)},Ft=Bn,Sn=C(function(r,e){(function(t){e.encode=function(n){var s=new Uint8Array(n),o,i=s.length,c="";for(o=0;o<i;o+=3)c+=t[s[o]>>2],c+=t[(s[o]&3)<<4|s[o+1]>>4],c+=t[(s[o+1]&15)<<2|s[o+2]>>6],c+=t[s[o+2]&63];return i%3==2?c=c.substring(0,c.length-1)+"=":i%3==1&&(c=c.substring(0,c.length-2)+"=="),c},e.decode=function(n){var s=n.length*.75,o=n.length,i,c=0,a,u,f,h;n[n.length-1]==="="&&(s--,n[n.length-2]==="="&&s--);var d=new ArrayBuffer(s),p=new Uint8Array(d);for(i=0;i<o;i+=4)a=t.indexOf(n[i]),u=t.indexOf(n[i+1]),f=t.indexOf(n[i+2]),h=t.indexOf(n[i+3]),p[c++]=a<<2|u>>4,p[c++]=(u&15)<<4|f>>2,p[c++]=(f&3)<<6|h&63;return d}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")}),{PACKET_TYPES_REVERSE:We,ERROR_PACKET:Pn}=At,Nn=typeof ArrayBuffer=="function",He;Nn&&(He=Sn);var Dn=(r,e)=>{if(typeof r!="string")return{type:"message",data:Rt(r,e)};let t=r.charAt(0);return t==="b"?{type:"message",data:In(r.substring(1),e)}:We[t]?r.length>1?{type:We[t],data:r.substring(1)}:{type:We[t]}:Pn},In=(r,e)=>{if(He){let t=He.decode(r);return Rt(t,e)}else return{base64:!0,data:r}},Rt=(r,e)=>{switch(e){case"blob":return r instanceof ArrayBuffer?new Blob([r]):r;case"arraybuffer":default:return r}},Bt=Dn,St=String.fromCharCode(30),On=(r,e)=>{let t=r.length,n=new Array(t),s=0;r.forEach((o,i)=>{Ft(o,!1,c=>{n[i]=c,++s===t&&e(n.join(St))})})},Un=(r,e)=>{let t=r.split(St),n=[];for(let s=0;s<t.length;s++){let o=Bt(t[s],e);if(n.push(o),o.type==="error")break}return n},H={protocol:4,encodePacket:Ft,encodePayload:On,decodePacket:Bt,decodePayload:Un},ue=C(function(r){r.exports=e;function e(n){if(n)return t(n)}function t(n){for(var s in e.prototype)n[s]=e.prototype[s];return n}e.prototype.on=e.prototype.addEventListener=function(n,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(s),this},e.prototype.once=function(n,s){function o(){this.off(n,o),s.apply(this,arguments)}return o.fn=s,this.on(n,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+n];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,c=0;c<o.length;c++)if(i=o[c],i===s||i.fn===s){o.splice(c,1);break}return o.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),o=this._callbacks["$"+n],i=1;i<arguments.length;i++)s[i-1]=arguments[i];if(o){o=o.slice(0);for(var i=0,c=o.length;i<c;++i)o[i].apply(this,s)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}),Pt=class extends ue{constructor(e){super();this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){let n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){if(this.readyState==="open")this.write(e);else throw new Error("Transport not open")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){let t=H.decodePacket(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}},Ee=Pt,Mn=function(r){var e="";for(var t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e},Ln=function(r){for(var e={},t=r.split("&"),n=0,s=t.length;n<s;n++){var o=t[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e},Xe={encode:Mn,decode:Ln},Nt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),_e=64,It={},Dt=0,Y=0,Ot;function ze(r){var e="";do e=Nt[r%_e]+e,r=Math.floor(r/_e);while(r>0);return e}function Yn(r){var e=0;for(Y=0;Y<r.length;Y++)e=e*_e+It[r.charAt(Y)];return e}function Je(){var r=ze(+new Date);return r!==Ot?(Dt=0,Ot=r):r+"."+ze(Dt++)}for(;Y<_e;Y++)It[Nt[Y]]=Y;Je.encode=ze;Je.decode=Yn;var Ut=Je,F=O("engine.io-client:polling"),Mt=class extends Ee{get name(){return"polling"}doOpen(){this.poll()}pause(e){let t=this;this.readyState="pausing";function n(){F("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){let s=0;this.polling&&(F("we are currently polling - waiting to pause"),s++,this.once("pollComplete",function(){F("pre-pause polling complete"),--s||n()})),this.writable||(F("we are currently writing - waiting to pause"),s++,this.once("drain",function(){F("pre-pause writing complete"),--s||n()}))}else n()}poll(){F("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){let t=this;F("polling got data %s",e);let n=function(s,o,i){if(t.readyState==="opening"&&s.type==="open"&&t.onOpen(),s.type==="close")return t.onClose(),!1;t.onPacket(s)};H.decodePayload(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():F('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=this;function t(){F("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(F("transport open - closing"),t()):(F("transport not open - deferring close"),this.once("open",t))}write(e){this.writable=!1,H.encodePayload(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{},t=this.opts.secure?"https":"http",n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Ut()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=Xe.encode(e),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),e.length&&(e="?"+e);let s=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},Lt=Mt,qn=(r,...e)=>e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{}),Yt={pick:qn},{pick:$n}=Yt,Ge=O("engine.io-client:polling-xhr");function qt(){}var Vn=function(){return new Ke({xdomain:!1}).responseType!=null}(),$t=class extends Lt{constructor(e){super(e);if(typeof location!="undefined"){let n=location.protocol==="https:",s=location.port;s||(s=n?443:80),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||s!==e.port,this.xs=e.secure!==n}let t=e&&e.forceBase64;this.supportsBinary=Vn&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new k(this.uri(),e)}doWrite(e,t){let n=this.request({method:"POST",data:e}),s=this;n.on("success",t),n.on("error",function(o){s.onError("xhr post error",o)})}doPoll(){Ge("xhr poll");let e=this.request(),t=this;e.on("data",function(n){t.onData(n)}),e.on("error",function(n){t.onError("xhr poll error",n)}),this.pollXhr=e}},k=class extends ue{constructor(e,t){super();this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){let e=$n(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;let t=this.xhr=new Ke(e),n=this;try{Ge("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&t.setRequestHeader(s,this.opts.extraHeaders[s])}}catch(s){}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{t.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){t.readyState===4&&(t.status===200||t.status===1223?n.onLoad():setTimeout(function(){n.onError(typeof t.status=="number"?t.status:0)},0))},Ge("xhr data %s",this.data),t.send(this.data)}catch(s){setTimeout(function(){n.onError(s)},0);return}typeof document!="undefined"&&(this.index=k.requestsCount++,k.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=qt:this.xhr.onreadystatechange=qt,e)try{this.xhr.abort()}catch(t){}typeof document!="undefined"&&delete k.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&this.onData(e)}hasXDR(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}};k.requestsCount=0;k.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Vt);else if(typeof addEventListener=="function"){let r="onpagehide"in re?"pagehide":"unload";addEventListener(r,Vt,!1)}}function Vt(){for(let r in k.requests)k.requests.hasOwnProperty(r)&&k.requests[r].abort()}var jt=$t,jn=k;jt.Request=jn;var Kn=/\n/g,Wn=/\\n/g,xe,Kt=class extends Lt{constructor(e){super(e);this.query=this.query||{},xe||(xe=re.___eio=re.___eio||[]),this.index=xe.length;let t=this;xe.push(function(n){t.onData(n)}),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){let e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(o){e.onError("jsonp poll error",o)};let n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){let o=document.createElement("iframe");document.body.appendChild(o),document.body.removeChild(o)},100)}doWrite(e,t){let n=this,s;if(!this.form){let c=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;c.className="socketio",c.style.position="absolute",c.style.top="-1000px",c.style.left="-1000px",c.target=u,c.method="POST",c.setAttribute("accept-charset","utf-8"),a.name="d",c.appendChild(a),document.body.appendChild(c),this.form=c,this.area=a}this.form.action=this.uri();function o(){i(),t()}function i(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(c){n.onError("jsonp polling iframe removal error",c)}try{let c='<iframe src="javascript:0" name="'+n.iframeId+'">';s=document.createElement(c)}catch(c){s=document.createElement("iframe"),s.name=n.iframeId,s.src="javascript:0"}s.id=n.iframeId,n.form.appendChild(s),n.iframe=s}i(),e=e.replace(Wn,`\\
`),this.area.value=e.replace(Kn,"\\n");try{this.form.submit()}catch(c){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){n.iframe.readyState==="complete"&&o()}:this.iframe.onload=o}},Hn=Kt,be=typeof be!="undefined"?be:typeof self!="undefined"?self:typeof window!="undefined"?window:{},P=[],A=[],Xn=typeof Uint8Array!="undefined"?Uint8Array:Array,Ze=!1;function Wt(){Ze=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,t=r.length;e<t;++e)P[e]=r[e],A[r.charCodeAt(e)]=e;A["-".charCodeAt(0)]=62,A["_".charCodeAt(0)]=63}function zn(r){Ze||Wt();var e,t,n,s,o,i,c=r.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=r[c-2]==="="?2:r[c-1]==="="?1:0,i=new Xn(c*3/4-o),n=o>0?c-4:c;var a=0;for(e=0,t=0;e<n;e+=4,t+=3)s=A[r.charCodeAt(e)]<<18|A[r.charCodeAt(e+1)]<<12|A[r.charCodeAt(e+2)]<<6|A[r.charCodeAt(e+3)],i[a++]=s>>16&255,i[a++]=s>>8&255,i[a++]=s&255;return o===2?(s=A[r.charCodeAt(e)]<<2|A[r.charCodeAt(e+1)]>>4,i[a++]=s&255):o===1&&(s=A[r.charCodeAt(e)]<<10|A[r.charCodeAt(e+1)]<<4|A[r.charCodeAt(e+2)]>>2,i[a++]=s>>8&255,i[a++]=s&255),i}function Jn(r){return P[r>>18&63]+P[r>>12&63]+P[r>>6&63]+P[r&63]}function Gn(r,e,t){for(var n,s=[],o=e;o<t;o+=3)n=(r[o]<<16)+(r[o+1]<<8)+r[o+2],s.push(Jn(n));return s.join("")}function Ht(r){Ze||Wt();for(var e,t=r.length,n=t%3,s="",o=[],i=16383,c=0,a=t-n;c<a;c+=i)o.push(Gn(r,c,c+i>a?a:c+i));return n===1?(e=r[t-1],s+=P[e>>2],s+=P[e<<4&63],s+="=="):n===2&&(e=(r[t-2]<<8)+r[t-1],s+=P[e>>10],s+=P[e>>4&63],s+=P[e<<2&63],s+="="),o.push(s),o.join("")}function Ce(r,e,t,n,s){var o,i,c=s*8-n-1,a=(1<<c)-1,u=a>>1,f=-7,h=t?s-1:0,d=t?-1:1,p=r[e+h];for(h+=d,o=p&(1<<-f)-1,p>>=-f,f+=c;f>0;o=o*256+r[e+h],h+=d,f-=8);for(i=o&(1<<-f)-1,o>>=-f,f+=n;f>0;i=i*256+r[e+h],h+=d,f-=8);if(o===0)o=1-u;else{if(o===a)return i?NaN:(p?-1:1)*Infinity;i=i+Math.pow(2,n),o=o-u}return(p?-1:1)*i*Math.pow(2,o-n)}function Xt(r,e,t,n,s,o){var i,c,a,u=o*8-s-1,f=(1<<u)-1,h=f>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,m=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(c=isNaN(e)?1:0,i=f):(i=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-i))<1&&(i--,a*=2),i+h>=1?e+=d/a:e+=d*Math.pow(2,1-h),e*a>=2&&(i++,a/=2),i+h>=f?(c=0,i=f):i+h>=1?(c=(e*a-1)*Math.pow(2,s),i=i+h):(c=e*Math.pow(2,h-1)*Math.pow(2,s),i=0));s>=8;r[t+p]=c&255,p+=m,c/=256,s-=8);for(i=i<<s|c,u+=s;u>0;r[t+p]=i&255,p+=m,i/=256,u-=8);r[t+p-m]|=g*128}var Zn={}.toString,zt=Array.isArray||function(r){return Zn.call(r)=="[object Array]"};var Qn=50;l.TYPED_ARRAY_SUPPORT=be.TYPED_ARRAY_SUPPORT!==void 0?be.TYPED_ARRAY_SUPPORT:!0;function Qe(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function U(r,e){if(Qe()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=l.prototype):(r===null&&(r=new l(e)),r.length=e),r}function l(r,e,t){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(r,e,t);if(typeof r=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return et(this,r)}return Jt(this,r,e,t)}l.poolSize=8192;l._augment=function(r){return r.__proto__=l.prototype,r};function Jt(r,e,t,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer?ti(r,e,t,n):typeof e=="string"?ei(r,e,t):ri(r,e)}l.from=function(r,e,t){return Jt(null,r,e,t)};l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array);function Gt(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function ni(r,e,t,n){return Gt(e),e<=0?U(r,e):t!==void 0?typeof n=="string"?U(r,e).fill(t,n):U(r,e).fill(t):U(r,e)}l.alloc=function(r,e,t){return ni(null,r,e,t)};function et(r,e){if(Gt(e),r=U(r,e<0?0:tt(e)|0),!l.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)r[t]=0;return r}l.allocUnsafe=function(r){return et(null,r)};l.allocUnsafeSlow=function(r){return et(null,r)};function ei(r,e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!l.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=Zt(e,t)|0;r=U(r,n);var s=r.write(e,t);return s!==n&&(r=r.slice(0,s)),r}function rt(r,e){var t=e.length<0?0:tt(e.length)|0;r=U(r,t);for(var n=0;n<t;n+=1)r[n]=e[n]&255;return r}function ti(r,e,t,n){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");return t===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,t):e=new Uint8Array(e,t,n),l.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=l.prototype):r=rt(r,e),r}function ri(r,e){if(N(e)){var t=tt(e.length)|0;return r=U(r,t),r.length===0||e.copy(r,0,0,t),r}if(e){if(typeof ArrayBuffer!="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||ii(e.length)?U(r,0):rt(r,e);if(e.type==="Buffer"&&zt(e.data))return rt(r,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function tt(r){if(r>=Qe())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Qe().toString(16)+" bytes");return r|0}l.isBuffer=si;function N(r){return!!(r!=null&&r._isBuffer)}l.compare=function(e,t){if(!N(e)||!N(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,s=t.length,o=0,i=Math.min(n,s);o<i;++o)if(e[o]!==t[o]){n=e[o],s=t[o];break}return n<s?-1:s<n?1:0};l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};l.concat=function(e,t){if(!zt(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return l.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var s=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!N(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(s,o),o+=i.length}return s};function Zt(r,e){if(N(r))return r.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var t=r.length;if(t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return ke(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Qt(r).length;default:if(n)return ke(r).length;e=(""+e).toLowerCase(),n=!0}}l.byteLength=Zt;function hi(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return ui(this,e,t);case"utf8":case"utf-8":return er(this,e,t);case"ascii":return ci(this,e,t);case"latin1":case"binary":return ai(this,e,t);case"base64":return oi(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fi(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}l.prototype._isBuffer=!0;function X(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)X(this,t,t+1);return this};l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)X(this,t,t+3),X(this,t+1,t+2);return this};l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)X(this,t,t+7),X(this,t+1,t+6),X(this,t+2,t+5),X(this,t+3,t+4);return this};l.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?er(this,0,e):hi.apply(this,arguments)};l.prototype.equals=function(e){if(!N(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:l.compare(this,e)===0};l.prototype.inspect=function(){var e="",t=Qn;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"};l.prototype.compare=function(e,t,n,s,o){if(!N(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),s===void 0&&(s=0),o===void 0&&(o=this.length),t<0||n>e.length||s<0||o>this.length)throw new RangeError("out of range index");if(s>=o&&t>=n)return 0;if(s>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,s>>>=0,o>>>=0,this===e)return 0;for(var i=o-s,c=n-t,a=Math.min(i,c),u=this.slice(s,o),f=e.slice(t,n),h=0;h<a;++h)if(u[h]!==f[h]){i=u[h],c=f[h];break}return i<c?-1:c<i?1:0};function rr(r,e,t,n,s){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=s?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(s)return-1;t=r.length-1}else if(t<0)if(s)t=0;else return-1;if(typeof e=="string"&&(e=l.from(e,n)),N(e))return e.length===0?-1:tr(r,e,t,n,s);if(typeof e=="number")return e=e&255,l.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):tr(r,[e],t,n,s);throw new TypeError("val must be string, number or Buffer")}function tr(r,e,t,n,s){var o=1,i=r.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,i/=2,c/=2,t/=2}function a(p,m){return o===1?p[m]:p.readUInt16BE(m*o)}var u;if(s){var f=-1;for(u=t;u<i;u++)if(a(r,u)===a(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===c)return f*o}else f!==-1&&(u-=u-f),f=-1}else for(t+c>i&&(t=i-c),u=t;u>=0;u--){for(var h=!0,d=0;d<c;d++)if(a(r,u+d)!==a(e,d)){h=!1;break}if(h)return u}return-1}l.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};l.prototype.indexOf=function(e,t,n){return rr(this,e,t,n,!0)};l.prototype.lastIndexOf=function(e,t,n){return rr(this,e,t,n,!1)};function li(r,e,t,n){t=Number(t)||0;var s=r.length-t;n?(n=Number(n),n>s&&(n=s)):n=s;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var i=0;i<n;++i){var c=parseInt(e.substr(i*2,2),16);if(isNaN(c))return i;r[t+i]=c}return i}function pi(r,e,t,n){return Ae(ke(e,r.length-t),r,t,n)}function nr(r,e,t,n){return Ae(di(e),r,t,n)}function mi(r,e,t,n){return nr(r,e,t,n)}function gi(r,e,t,n){return Ae(Qt(e),r,t,n)}function wi(r,e,t,n){return Ae(yi(e,r.length-t),r,t,n)}l.prototype.write=function(e,t,n,s){if(t===void 0)s="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")s=t,n=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(n)?(n=n|0,s===void 0&&(s="utf8")):(s=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var i=!1;;)switch(s){case"hex":return li(this,e,t,n);case"utf8":case"utf-8":return pi(this,e,t,n);case"ascii":return nr(this,e,t,n);case"latin1":case"binary":return mi(this,e,t,n);case"base64":return gi(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wi(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),i=!0}};l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oi(r,e,t){return e===0&&t===r.length?Ht(r):Ht(r.slice(e,t))}function er(r,e,t){t=Math.min(r.length,t);for(var n=[],s=e;s<t;){var o=r[s],i=null,c=o>239?4:o>223?3:o>191?2:1;if(s+c<=t){var a,u,f,h;switch(c){case 1:o<128&&(i=o);break;case 2:a=r[s+1],(a&192)==128&&(h=(o&31)<<6|a&63,h>127&&(i=h));break;case 3:a=r[s+1],u=r[s+2],(a&192)==128&&(u&192)==128&&(h=(o&15)<<12|(a&63)<<6|u&63,h>2047&&(h<55296||h>57343)&&(i=h));break;case 4:a=r[s+1],u=r[s+2],f=r[s+3],(a&192)==128&&(u&192)==128&&(f&192)==128&&(h=(o&15)<<18|(a&63)<<12|(u&63)<<6|f&63,h>65535&&h<1114112&&(i=h))}}i===null?(i=65533,c=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),s+=c}return vi(n)}var ir=4096;function vi(r){var e=r.length;if(e<=ir)return String.fromCharCode.apply(String,r);for(var t="",n=0;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=ir));return t}function ci(r,e,t){var n="";t=Math.min(r.length,t);for(var s=e;s<t;++s)n+=String.fromCharCode(r[s]&127);return n}function ai(r,e,t){var n="";t=Math.min(r.length,t);for(var s=e;s<t;++s)n+=String.fromCharCode(r[s]);return n}function ui(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var s="",o=e;o<t;++o)s+=Ei(r[o]);return s}function fi(r,e,t){for(var n=r.slice(e,t),s="",o=0;o<n.length;o+=2)s+=String.fromCharCode(n[o]+n[o+1]*256);return s}l.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var s;if(l.TYPED_ARRAY_SUPPORT)s=this.subarray(e,t),s.__proto__=l.prototype;else{var o=t-e;s=new l(o,void 0);for(var i=0;i<o;++i)s[i]=this[i+e]}return s};function E(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUIntLE=function(e,t,n){e=e|0,t=t|0,n||E(e,t,this.length);for(var s=this[e],o=1,i=0;++i<t&&(o*=256);)s+=this[e+i]*o;return s};l.prototype.readUIntBE=function(e,t,n){e=e|0,t=t|0,n||E(e,t,this.length);for(var s=this[e+--t],o=1;t>0&&(o*=256);)s+=this[e+--t]*o;return s};l.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]};l.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8};l.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]};l.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};l.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};l.prototype.readIntLE=function(e,t,n){e=e|0,t=t|0,n||E(e,t,this.length);for(var s=this[e],o=1,i=0;++i<t&&(o*=256);)s+=this[e+i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};l.prototype.readIntBE=function(e,t,n){e=e|0,t=t|0,n||E(e,t,this.length);for(var s=t,o=1,i=this[e+--s];s>0&&(o*=256);)i+=this[e+--s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};l.prototype.readInt8=function(e,t){return t||E(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};l.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};l.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};l.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};l.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};l.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),Ce(this,e,!0,23,4)};l.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),Ce(this,e,!1,23,4)};l.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),Ce(this,e,!0,52,8)};l.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),Ce(this,e,!1,52,8)};function x(r,e,t,n,s,o){if(!N(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<o)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}l.prototype.writeUIntLE=function(e,t,n,s){if(e=+e,t=t|0,n=n|0,!s){var o=Math.pow(2,8*n)-1;x(this,e,t,n,o,0)}var i=1,c=0;for(this[t]=e&255;++c<n&&(i*=256);)this[t+c]=e/i&255;return t+n};l.prototype.writeUIntBE=function(e,t,n,s){if(e=+e,t=t|0,n=n|0,!s){var o=Math.pow(2,8*n)-1;x(this,e,t,n,o,0)}var i=n-1,c=1;for(this[t+i]=e&255;--i>=0&&(c*=256);)this[t+i]=e/c&255;return t+n};l.prototype.writeUInt8=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1};function Te(r,e,t,n){e<0&&(e=65535+e+1);for(var s=0,o=Math.min(r.length-t,2);s<o;++s)r[t+s]=(e&255<<8*(n?s:1-s))>>>(n?s:1-s)*8}l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):Te(this,e,t,!0),t+2};l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):Te(this,e,t,!1),t+2};function Fe(r,e,t,n){e<0&&(e=4294967295+e+1);for(var s=0,o=Math.min(r.length-t,4);s<o;++s)r[t+s]=e>>>(n?s:3-s)*8&255}l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):Fe(this,e,t,!0),t+4};l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Fe(this,e,t,!1),t+4};l.prototype.writeIntLE=function(e,t,n,s){if(e=+e,t=t|0,!s){var o=Math.pow(2,8*n-1);x(this,e,t,n,o-1,-o)}var i=0,c=1,a=0;for(this[t]=e&255;++i<n&&(c*=256);)e<0&&a===0&&this[t+i-1]!==0&&(a=1),this[t+i]=(e/c>>0)-a&255;return t+n};l.prototype.writeIntBE=function(e,t,n,s){if(e=+e,t=t|0,!s){var o=Math.pow(2,8*n-1);x(this,e,t,n,o-1,-o)}var i=n-1,c=1,a=0;for(this[t+i]=e&255;--i>=0&&(c*=256);)e<0&&a===0&&this[t+i+1]!==0&&(a=1),this[t+i]=(e/c>>0)-a&255;return t+n};l.prototype.writeInt8=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1};l.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):Te(this,e,t,!0),t+2};l.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):Te(this,e,t,!1),t+2};l.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Fe(this,e,t,!0),t+4};l.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t|0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Fe(this,e,t,!1),t+4};function sr(r,e,t,n,s,o){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function or(r,e,t,n,s){return s||sr(r,e,t,4),Xt(r,e,t,n,23,4),t+4}l.prototype.writeFloatLE=function(e,t,n){return or(this,e,t,!0,n)};l.prototype.writeFloatBE=function(e,t,n){return or(this,e,t,!1,n)};function cr(r,e,t,n,s){return s||sr(r,e,t,8),Xt(r,e,t,n,52,8),t+8}l.prototype.writeDoubleLE=function(e,t,n){return cr(this,e,t,!0,n)};l.prototype.writeDoubleBE=function(e,t,n){return cr(this,e,t,!1,n)};l.prototype.copy=function(e,t,n,s){if(n||(n=0),!s&&s!==0&&(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<n&&(s=n),s===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-n&&(s=e.length-t+n);var o=s-n,i;if(this===e&&n<t&&t<s)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o};l.prototype.fill=function(e,t,n,s){if(typeof e=="string"){if(typeof t=="string"?(s=t,t=0,n=this.length):typeof n=="string"&&(s=n,n=this.length),e.length===1){var o=e.charCodeAt(0);o<256&&(e=o)}if(s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!l.isEncoding(s))throw new TypeError("Unknown encoding: "+s)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var i;if(typeof e=="number")for(i=t;i<n;++i)this[i]=e;else{var c=N(e)?e:ke(new l(e,s).toString()),a=c.length;for(i=0;i<n-t;++i)this[i+t]=c[i%a]}return this};var _i=/[^+\/0-9A-Za-z-_]/g;function bi(r){if(r=xi(r).replace(_i,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function xi(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Ei(r){return r<16?"0"+r.toString(16):r.toString(16)}function ke(r,e){e=e||Infinity;for(var t,n=r.length,s=null,o=[],i=0;i<n;++i){if(t=r.charCodeAt(i),t>55295&&t<57344){if(!s){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(i+1===n){(e-=3)>-1&&o.push(239,191,189);continue}s=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),s=t;continue}t=(s-55296<<10|t-56320)+65536}else s&&(e-=3)>-1&&o.push(239,191,189);if(s=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function di(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function yi(r,e){for(var t,n,s,o=[],i=0;i<r.length&&!((e-=2)<0);++i)t=r.charCodeAt(i),n=t>>8,s=t%256,o.push(s),o.push(n);return o}function Qt(r){return zn(bi(r))}function Ae(r,e,t,n){for(var s=0;s<n&&!(s+t>=e.length||s>=r.length);++s)e[s+t]=r[s];return s}function ii(r){return r!==r}function si(r){return r!=null&&(!!r._isBuffer||ar(r)||Ci(r))}function ar(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Ci(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&ar(r.slice(0,0))}var ki={WebSocket:re.WebSocket||re.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"},{pick:Ai}=Yt,{WebSocket:fe,usingBrowserWebSocket:nt,defaultBinaryType:Ti}=ki,Fi=O("engine.io-client:websocket"),ur=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Re=class extends Ee{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,n=ur?{}:Ai(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=nt&&!ur?t?new fe(e,t):new fe(e):new fe(e,t,n)}catch(s){return this.emit("error",s)}this.ws.binaryType=this.socket.binaryType||Ti,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){let t=this;this.writable=!1;let n=e.length,s=0,o=n;for(;s<o;s++)(function(c){H.encodePacket(c,t.supportsBinary,function(a){let u={};nt||(c.options&&(u.compress=c.options.compress),t.opts.perMessageDeflate&&(typeof a=="string"?l.byteLength(a):a.length)<t.opts.perMessageDeflate.threshold&&(u.compress=!1));try{nt?t.ws.send(a):t.ws.send(a,u)}catch(f){Fi("websocket closed before onclose event")}--n||i()})})(e[s]);function i(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}}onClose(){Ee.prototype.onClose.call(this)}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Ut()),this.supportsBinary||(e.b64=1),e=Xe.encode(e),e.length&&(e="?"+e);let s=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}check(){return!!fe&&!("__initialize"in fe&&this.name===Re.prototype.name)}},Ri=Re,Si=Bi,Pi=Ri;function Bi(r){let e,t=!1,n=!1,s=r.jsonp!==!1;if(typeof location!="undefined"){let o=location.protocol==="https:",i=location.port;i||(i=o?443:80),t=r.hostname!==location.hostname||i!==r.port,n=r.secure!==o}if(r.xdomain=t,r.xscheme=n,e=new Ke(r),"open"in e&&!r.forceJSONP)return new jt(r);if(!s)throw new Error("JSONP disabled");return new Hn(r)}var fr={polling:Si,websocket:Pi},w=O("engine.io-client:socket"),I=class extends ue{constructor(e,t={}){super();e&&typeof e=="object"&&(t=e,e=null),e?(e=Ve(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Ve(t.host).host),this.secure=t.secure!=null?t.secure:typeof location!="undefined"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=t.port||(typeof location!="undefined"&&location.port?location.port:this.secure?443:80),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Xe.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){w('creating transport "%s"',e);let t=Ni(this.opts.query);t.EIO=H.protocol,t.transport=e,this.id&&(t.sid=this.id);let n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return w("options: %j",n),new fr[e](n)}open(){let e;if(this.opts.rememberUpgrade&&I.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){let t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(t){w("error while creating transport: %s",t),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){w("setting transport %s",e.name);let t=this;this.transport&&(w("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(n){t.onPacket(n)}).on("error",function(n){t.onError(n)}).on("close",function(){t.onClose("transport close")})}probe(e){w('probing transport "%s"',e);let t=this.createTransport(e,{probe:1}),n=!1,s=this;I.priorWebsocketSuccess=!1;function o(){if(s.onlyBinaryUpgrades){let d=!this.supportsBinary&&s.transport.supportsBinary;n=n||d}n||(w('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(d){if(!n)if(d.type==="pong"&&d.data==="probe"){if(w('probe transport "%s" pong',e),s.upgrading=!0,s.emit("upgrading",t),!t)return;I.priorWebsocketSuccess=t.name==="websocket",w('pausing current transport "%s"',s.transport.name),s.transport.pause(function(){n||s.readyState!=="closed"&&(w("changing transport and sending upgrade packet"),h(),s.setTransport(t),t.send([{type:"upgrade"}]),s.emit("upgrade",t),t=null,s.upgrading=!1,s.flush())})}else{w('probe transport "%s" failed',e);let p=new Error("probe error");p.transport=t.name,s.emit("upgradeError",p)}}))}function i(){n||(n=!0,h(),t.close(),t=null)}function c(d){let p=new Error("probe error: "+d);p.transport=t.name,i(),w('probe transport "%s" failed because of error: %s',e,d),s.emit("upgradeError",p)}function a(){c("transport closed")}function u(){c("socket closed")}function f(d){t&&d.name!==t.name&&(w('"%s" works - aborting "%s"',d.name,t.name),i())}function h(){t.removeListener("open",o),t.removeListener("error",c),t.removeListener("close",a),s.removeListener("close",u),s.removeListener("upgrading",f)}t.once("open",o),t.once("error",c),t.once("close",a),this.once("close",u),this.once("upgrading",f),t.open()}onOpen(){if(w("socket open"),this.readyState="open",I.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){w("starting upgrade probes");let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(w('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":let t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else w('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(w("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,s){if(typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){let e=this;(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?s():t()}):this.upgrading?s():t());function t(){e.onClose("forced close"),w("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function s(){e.once("upgrade",n),e.once("upgradeError",n)}return this}onError(e){w("socket error %j",e),I.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){w('socket close with reason: "%s"',e);let n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}}filterUpgrades(e){let t=[],n=0,s=e.length;for(;n<s;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}};I.priorWebsocketSuccess=!1;I.protocol=H.protocol;function Ni(r){let e={};for(let t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}var it=I,ne=(r,e)=>new it(r,e),Ii=it,Di=it.protocol,Oi=Ee,Ui=fr,Mi=H;ne.Socket=Ii;ne.protocol=Di;ne.Transport=Oi;ne.transports=Ui;ne.parser=Mi;var st=C(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;let t=typeof ArrayBuffer=="function",n=u=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u.buffer instanceof ArrayBuffer,s=Object.prototype.toString,o=typeof Blob=="function"||typeof Blob!="undefined"&&s.call(Blob)==="[object BlobConstructor]",i=typeof File=="function"||typeof File!="undefined"&&s.call(File)==="[object FileConstructor]";function c(u){return t&&(u instanceof ArrayBuffer||n(u))||o&&u instanceof Blob||i&&u instanceof File}e.isBinary=c;function a(u,f){if(!u||typeof u!="object")return!1;if(Array.isArray(u)){for(let h=0,d=u.length;h<d;h++)if(a(u[h]))return!0;return!1}if(c(u))return!0;if(u.toJSON&&typeof u.toJSON=="function"&&arguments.length===1)return a(u.toJSON(),!0);for(let h in u)if(Object.prototype.hasOwnProperty.call(u,h)&&a(u[h]))return!0;return!1}e.hasBinary=a}),hr=C(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0;function t(i){let c=[],a=i.data,u=i;return u.data=n(a,c),u.attachments=c.length,{packet:u,buffers:c}}e.deconstructPacket=t;function n(i,c){if(!i)return i;if(st.isBinary(i)){let a={_placeholder:!0,num:c.length};return c.push(i),a}else if(Array.isArray(i)){let a=new Array(i.length);for(let u=0;u<i.length;u++)a[u]=n(i[u],c);return a}else if(typeof i=="object"&&!(i instanceof Date)){let a={};for(let u in i)i.hasOwnProperty(u)&&(a[u]=n(i[u],c));return a}return i}function s(i,c){return i.data=o(i.data,c),i.attachments=void 0,i}e.reconstructPacket=s;function o(i,c){if(!i)return i;if(i&&i._placeholder)return c[i.num];if(Array.isArray(i))for(let a=0;a<i.length;a++)i[a]=o(i[a],c);else if(typeof i=="object")for(let a in i)i.hasOwnProperty(a)&&(i[a]=o(i[a],c));return i}}),b=C(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;let t=O("socket.io-parser");e.protocol=5;var n;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(n=e.PacketType||(e.PacketType={}));class s{encode(u){return t("encoding packet %j",u),(u.type===n.EVENT||u.type===n.ACK)&&st.hasBinary(u)?(u.type=u.type===n.EVENT?n.BINARY_EVENT:n.BINARY_ACK,this.encodeAsBinary(u)):[this.encodeAsString(u)]}encodeAsString(u){let f=""+u.type;return(u.type===n.BINARY_EVENT||u.type===n.BINARY_ACK)&&(f+=u.attachments+"-"),u.nsp&&u.nsp!=="/"&&(f+=u.nsp+","),u.id!=null&&(f+=u.id),u.data!=null&&(f+=JSON.stringify(u.data)),t("encoded %j as %s",u,f),f}encodeAsBinary(u){let f=hr.deconstructPacket(u),h=this.encodeAsString(f.packet),d=f.buffers;return d.unshift(h),d}}e.Encoder=s;class o extends ue{constructor(){super()}add(u){let f;if(typeof u=="string")f=this.decodeString(u),f.type===n.BINARY_EVENT||f.type===n.BINARY_ACK?(this.reconstructor=new c(f),f.attachments===0&&super.emit("decoded",f)):super.emit("decoded",f);else if(st.isBinary(u)||u.base64)if(this.reconstructor)f=this.reconstructor.takeBinaryData(u),f&&(this.reconstructor=null,super.emit("decoded",f));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+u)}decodeString(u){let f=0,h={type:Number(u.charAt(0))};if(n[h.type]===void 0)throw new Error("unknown packet type "+h.type);if(h.type===n.BINARY_EVENT||h.type===n.BINARY_ACK){let p=f+1;for(;u.charAt(++f)!=="-"&&f!=u.length;);let m=u.substring(p,f);if(m!=Number(m)||u.charAt(f)!=="-")throw new Error("Illegal attachments");h.attachments=Number(m)}if(u.charAt(f+1)==="/"){let p=f+1;for(;++f&&!(u.charAt(f)===","||f===u.length););h.nsp=u.substring(p,f)}else h.nsp="/";let d=u.charAt(f+1);if(d!==""&&Number(d)==d){let p=f+1;for(;++f;){let m=u.charAt(f);if(m==null||Number(m)!=m){--f;break}if(f===u.length)break}h.id=Number(u.substring(p,f+1))}if(u.charAt(++f)){let p=i(u.substr(f));if(o.isPayloadValid(h.type,p))h.data=p;else throw new Error("invalid payload")}return t("decoded %s as %j",u,h),h}static isPayloadValid(u,f){switch(u){case n.CONNECT:return typeof f=="object";case n.DISCONNECT:return f===void 0;case n.CONNECT_ERROR:return typeof f=="string"||typeof f=="object";case n.EVENT:case n.BINARY_EVENT:return Array.isArray(f)&&f.length>0;case n.ACK:case n.BINARY_ACK:return Array.isArray(f)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}e.Decoder=o;function i(a){try{return JSON.parse(a)}catch(u){return!1}}class c{constructor(u){this.packet=u,this.buffers=[],this.reconPack=u}takeBinaryData(u){if(this.buffers.push(u),this.buffers.length===this.reconPack.attachments){let f=hr.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),f}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}}),R=C(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0;function t(n,s,o){return n.on(s,o),function(){n.off(s,o)}}e.on=t}),lr=C(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;class t extends ue{on(s,o){return super.on(s,o),this}once(s,o){return super.once(s,o),this}emit(s,...o){return super.emit(s,...o),this}emitReserved(s,...o){return super.emit(s,...o),this}listeners(s){return super.listeners(s)}}e.StrictEventEmitter=t}),pr=C(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;let t=O("socket.io-client:socket"),n=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class s extends lr.StrictEventEmitter{constructor(i,c,a){super();this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=i,this.nsp=c,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},a&&a.auth&&(this.auth=a.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;let i=this.io;this.subs=[R.on(i,"open",this.onopen.bind(this)),R.on(i,"packet",this.onpacket.bind(this)),R.on(i,"error",this.onerror.bind(this)),R.on(i,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...i){return i.unshift("message"),this.emit.apply(this,i),this}emit(i,...c){if(n.hasOwnProperty(i))throw new Error('"'+i+'" is a reserved event name');c.unshift(i);let a={type:b.PacketType.EVENT,data:c};a.options={},a.options.compress=this.flags.compress!==!1,typeof c[c.length-1]=="function"&&(t("emitting packet with ack id %d",this.ids),this.acks[this.ids]=c.pop(),a.id=this.ids++);let u=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!u||!this.connected)?t("discard packet as the transport is not currently writable"):this.connected?this.packet(a):this.sendBuffer.push(a),this.flags={},this}packet(i){i.nsp=this.nsp,this.io._packet(i)}onopen(){t("transport is open - connecting"),typeof this.auth=="function"?this.auth(i=>{this.packet({type:b.PacketType.CONNECT,data:i})}):this.packet({type:b.PacketType.CONNECT,data:this.auth})}onerror(i){this.connected||this.emitReserved("connect_error",i)}onclose(i){t("close (%s)",i),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",i)}onpacket(i){if(i.nsp===this.nsp)switch(i.type){case b.PacketType.CONNECT:if(i.data&&i.data.sid){let u=i.data.sid;this.onconnect(u)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case b.PacketType.EVENT:this.onevent(i);break;case b.PacketType.BINARY_EVENT:this.onevent(i);break;case b.PacketType.ACK:this.onack(i);break;case b.PacketType.BINARY_ACK:this.onack(i);break;case b.PacketType.DISCONNECT:this.ondisconnect();break;case b.PacketType.CONNECT_ERROR:let a=new Error(i.data.message);a.data=i.data.data,this.emitReserved("connect_error",a);break}}onevent(i){let c=i.data||[];t("emitting event %j",c),i.id!=null&&(t("attaching ack callback to event"),c.push(this.ack(i.id))),this.connected?this.emitEvent(c):this.receiveBuffer.push(Object.freeze(c))}emitEvent(i){if(this._anyListeners&&this._anyListeners.length){let c=this._anyListeners.slice();for(let a of c)a.apply(this,i)}super.emit.apply(this,i)}ack(i){let c=this,a=!1;return function(...u){a||(a=!0,t("sending ack %j",u),c.packet({type:b.PacketType.ACK,id:i,data:u}))}}onack(i){let c=this.acks[i.id];typeof c=="function"?(t("calling ack %s with %j",i.id,i.data),c.apply(this,i.data),delete this.acks[i.id]):t("bad ack %s",i.id)}onconnect(i){t("socket connected with id %s",i),this.id=i,this.connected=!0,this.disconnected=!1,this.emitReserved("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach(i=>this.emitEvent(i)),this.receiveBuffer=[],this.sendBuffer.forEach(i=>this.packet(i)),this.sendBuffer=[]}ondisconnect(){t("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(i=>i()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(t("performing disconnect (%s)",this.nsp),this.packet({type:b.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(i){return this.flags.compress=i,this}get volatile(){return this.flags.volatile=!0,this}onAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(i),this}prependAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(i),this}offAny(i){if(!this._anyListeners)return this;if(i){let c=this._anyListeners;for(let a=0;a<c.length;a++)if(i===c[a])return c.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}e.Socket=s}),Li=ie;function ie(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}ie.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t}return Math.min(r,this.max)|0};ie.prototype.reset=function(){this.attempts=0};ie.prototype.setMin=function(r){this.ms=r};ie.prototype.setMax=function(r){this.max=r};ie.prototype.setJitter=function(r){this.jitter=r};var ot=C(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;let t=O("socket.io-client:manager");class n extends lr.StrictEventEmitter{constructor(o,i){super();this.nsps={},this.subs=[],o&&typeof o=="object"&&(i=o,o=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||Infinity),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor(i.randomizationFactor||.5),this.backoff=new Li({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=o;let c=i.parser||b;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(o){return arguments.length?(this._reconnection=!!o,this):this._reconnection}reconnectionAttempts(o){return o===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=o,this)}reconnectionDelay(o){var i;return o===void 0?this._reconnectionDelay:(this._reconnectionDelay=o,(i=this.backoff)===null||i===void 0||i.setMin(o),this)}randomizationFactor(o){var i;return o===void 0?this._randomizationFactor:(this._randomizationFactor=o,(i=this.backoff)===null||i===void 0||i.setJitter(o),this)}reconnectionDelayMax(o){var i;return o===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=o,(i=this.backoff)===null||i===void 0||i.setMax(o),this)}timeout(o){return arguments.length?(this._timeout=o,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(o){if(t("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;t("opening %s",this.uri),this.engine=ne(this.uri,this.opts);let i=this.engine,c=this;this._readyState="opening",this.skipReconnect=!1;let a=R.on(i,"open",function(){c.onopen(),o&&o()}),u=R.on(i,"error",f=>{t("error"),c.cleanup(),c._readyState="closed",this.emitReserved("error",f),o?o(f):c.maybeReconnectOnOpen()});if(this._timeout!==!1){let f=this._timeout;t("connect attempt will timeout after %d",f),f===0&&a();let h=setTimeout(()=>{t("connect attempt timed out after %d",f),a(),i.close(),i.emit("error",new Error("timeout"))},f);this.opts.autoUnref&&h.unref(),this.subs.push(function(){clearTimeout(h)})}return this.subs.push(a),this.subs.push(u),this}connect(o){return this.open(o)}onopen(){t("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let o=this.engine;this.subs.push(R.on(o,"ping",this.onping.bind(this)),R.on(o,"data",this.ondata.bind(this)),R.on(o,"error",this.onerror.bind(this)),R.on(o,"close",this.onclose.bind(this)),R.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(o){this.decoder.add(o)}ondecoded(o){this.emitReserved("packet",o)}onerror(o){t("error",o),this.emitReserved("error",o)}socket(o,i){let c=this.nsps[o];return c||(c=new pr.Socket(this,o,i),this.nsps[o]=c),c}_destroy(o){let i=Object.keys(this.nsps);for(let c of i)if(this.nsps[c].active){t("socket %s is still active, skipping close",c);return}this._close()}_packet(o){t("writing packet %j",o);let i=this.encoder.encode(o);for(let c=0;c<i.length;c++)this.engine.write(i[c],o.options)}cleanup(){t("cleanup"),this.subs.forEach(o=>o()),this.subs.length=0,this.decoder.destroy()}_close(){t("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(o){t("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let o=this;if(this.backoff.attempts>=this._reconnectionAttempts)t("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let i=this.backoff.duration();t("will wait %dms before reconnect attempt",i),this._reconnecting=!0;let c=setTimeout(()=>{o.skipReconnect||(t("attempting reconnect"),this.emitReserved("reconnect_attempt",o.backoff.attempts),!o.skipReconnect&&o.open(a=>{a?(t("reconnect attempt error"),o._reconnecting=!1,o.reconnect(),this.emitReserved("reconnect_error",a)):(t("reconnect success"),o.onreconnect())}))},i);this.opts.autoUnref&&c.unref(),this.subs.push(function(){clearTimeout(c)})}}onreconnect(){let o=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",o)}}e.Manager=n}),Yi=C(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.io=e.Manager=e.protocol=void 0,Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return pr.Socket}});let t=O("socket.io-client");r.exports=e=s;let n=e.managers={};function s(i,c){typeof i=="object"&&(c=i,i=void 0),c=c||{};let a=bn.url(i,c.path),u=a.source,f=a.id,h=a.path,d=n[f]&&h in n[f].nsps,p=c.forceNew||c["force new connection"]||c.multiplex===!1||d,m;return p?(t("ignoring socket cache for %s",u),m=new ot.Manager(u,c)):(n[f]||(t("new io instance for %s",u),n[f]=new ot.Manager(u,c)),m=n[f]),a.query&&!c.query&&(c.query=a.queryKey),m.socket(a.path,c)}e.io=s,Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return b.protocol}}),e.connect=s;var o=ot;Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return o.Manager}})}),ct=Or(Yi);ct.Manager;function qi(r){let e,t,n=r[1].message+"",s,o;return{c(){e=B("article"),t=B("p"),s=Ne(n),_(t,"class","text-white"),_(e,"class",o=""+(Pe(`__width rounded inline-block p-2 m-2 ${r[2](r[0])}`)+" svelte-c71eap"))},m(i,c){le(i,e,c),T(e,t),T(t,s)},p(i,[c]){c&2&&n!==(n=i[1].message+"")&&lt(s,n),c&1&&o!==(o=""+(Pe(`__width rounded inline-block p-2 m-2 ${i[2](i[0])}`)+" svelte-c71eap"))&&_(e,"class",o)},i:se,o:se,d(i){i&&oe(e)}}}function $i(r,e,t){let{user:n}=e,{message:s}=e,o=i=>s.username===i?"self-end bg-blue-500":s.username==="Bot"?"self-end bg-purple-600":"bg-green-500";return r.$$set=i=>{"user"in i&&t(0,n=i.user),"message"in i&&t(1,s=i.message)},[n,s,o]}var dr=class extends ae{constructor(e){super();ye(this,e,$i,qi,he,{user:0,message:1})}},mr=dr;function gr(r,e,t){let n=r.slice();return n[6]=e[t],n}function wr(r){let e,t;return e=new mr({props:{message:r[6],user:yr}}),{c(){vt(e.$$.fragment)},m(n,s){qe(e,n,s),t=!0},p(n,s){let o={};s&2&&(o.message=n[6]),e.$set(o)},i(n){t||(z(e.$$.fragment,n),t=!0)},o(n){ge(e.$$.fragment,n),t=!1},d(n){$e(e,n)}}}function Vi(r){let e,t,n,s,o,i,c,a,u,f,h,d=r[1],p=[];for(let g=0;g<d.length;g+=1)p[g]=wr(gr(r,d,g));let m=g=>ge(p[g],1,1,()=>{p[g]=null});return{c(){e=B("div"),t=B("main"),n=B("section");for(let g=0;g<p.length;g+=1)p[g].c();s=Ie(),o=B("form"),i=B("input"),c=Ie(),a=B("button"),a.textContent="Send",_(n,"class","__text-container mx-auto inline-flex flex-col overflow-y-auto w-full svelte-gq5dtu"),_(i,"type","text"),_(i,"name",""),_(i,"id","message"),_(i,"autocomplete","off"),_(i,"class","bg-gray-100 rounded h-8 outline-none border-2 w-4/6 focus:border-blue-600 focus:bg-gray-50 px-2 py-3 mx-2"),_(a,"type","submit"),_(a,"class","bg-blue-500 text-white px-7 py-1 w-2/6 max-w-xs rounded hover:bg-blue-600"),_(o,"class","flex object-bottom min-w-0 w-5/6 mx-auto mt-4"),_(t,"class"," sm:container mx-auto bg-blue-50 rounded-md p-4 h-screen flex-col justify-between pb-10")},m(g,v){le(g,e,v),T(e,t),T(t,n);for(let y=0;y<p.length;y+=1)p[y].m(n,null);T(t,s),T(t,o),T(o,i),Oe(i,r[0]),T(o,c),T(o,a),u=!0,f||(h=[De(i,"input",r[3]),De(o,"submit",r[4])],f=!0)},p(g,[v]){if(v&2){d=g[1];let y;for(y=0;y<d.length;y+=1){let q=gr(g,d,y);p[y]?(p[y].p(q,v),z(p[y],1)):(p[y]=wr(q),p[y].c(),z(p[y],1),p[y].m(n,null))}for(yt(),y=d.length;y<p.length;y+=1)m(y);wt()}v&1&&i.value!==g[0]&&Oe(i,g[0])},i(g){if(!u){for(let v=0;v<d.length;v+=1)z(p[v]);u=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)ge(p[v]);u=!1},d(g){g&&oe(e),ht(p,g),f=!1,$(h)}}}var yr="Robin";function ji(r,e,t){ct().on("message",u=>{console.log(u),t(1,i=[...i,u]),console.log(u)});let s="";function o(u){u.preventDefault(),!!s&&(t(1,i=[...i,{message:s,username:yr}]),t(0,s=""))}let i=[{message:"Hello frg9dxuu6gtbwe47p96tg89eptn4p7th6n9earp8g6ny98dra6ntg89e7ygiend",username:"Paul"},{message:"Wassupwtg89ds7f6j9wp87 9tw9e86hg9wep86gb9pwe46gbo7ew44tn7op8e90yh45",username:"Robin"},{message:"Fornite we about to get down",username:"Paul"}];function c(){s=this.value,t(0,s)}return[s,i,o,c,u=>o(u)]}var vr=class extends ae{constructor(e){super();ye(this,e,ji,Vi,he,{})}},Er=vr;import.meta.env=Se;var _r=new Er({target:document.body}),Ki=_r;import.meta?.hot&&((void 0).accept(),(void 0).dispose(()=>{_r.$destroy()}));export{Ki as default};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
